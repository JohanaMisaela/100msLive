var Zp=Object.create;var ur=Object.defineProperty,Xp=Object.defineProperties,qp=Object.getOwnPropertyDescriptor,Jp=Object.getOwnPropertyDescriptors,Qp=Object.getOwnPropertyNames,Jr=Object.getOwnPropertySymbols,eu=Object.getPrototypeOf,ai=Object.prototype.hasOwnProperty,Xa=Object.prototype.propertyIsEnumerable;var ii=(r,e,t)=>e in r?ur(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,S=(r,e)=>{for(var t in e||(e={}))ai.call(e,t)&&ii(r,t,e[t]);if(Jr)for(var t of Jr(e))Xa.call(e,t)&&ii(r,t,e[t]);return r},x=(r,e)=>Xp(r,Jp(e)),qa=r=>ur(r,"__esModule",{value:!0});var ot=(r,e)=>{var t={};for(var n in r)ai.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Jr)for(var n of Jr(r))e.indexOf(n)<0&&Xa.call(r,n)&&(t[n]=r[n]);return t};var Ja=(r,e)=>{for(var t in e)ur(r,t,{get:e[t],enumerable:!0})},Mo=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Qp(e))!ai.call(r,o)&&(t||o!=="default")&&ur(r,o,{get:()=>e[o],enumerable:!(n=qp(e,o))||n.enumerable});return r},V=(r,e)=>Mo(qa(ur(r!=null?Zp(eu(r)):{},"default",!e&&r&&r.__esModule?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r),tu=(r=>(e,t)=>r&&r.get(e)||(t=Mo(qa({}),e,1),r&&r.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var l=(r,e,t)=>(ii(r,typeof e!="symbol"?e+"":e,t),t);var ue=(r,e,t)=>new Promise((n,o)=>{var s=i=>{try{d(t.next(i))}catch(c){o(c)}},a=i=>{try{d(t.throw(i))}catch(c){o(c)}},d=i=>i.done?n(i.value):Promise.resolve(i.value).then(s,a);d((t=t.apply(r,e)).next())});var gce={};Ja(gce,{AlignStyle:()=>Gt,AlignType:()=>hr,Arrow:()=>Qo,ColorStyle:()=>is,DashStyle:()=>Sn,Decoration:()=>fr,DistributeType:()=>gr,Draw:()=>Ws,Ellipse:()=>Ns,FlipType:()=>ss,FontSize:()=>rl,FontStyle:()=>Ao,Group:()=>Ac,Image:()=>Lc,MoveType:()=>rs,Rectangle:()=>Vs,SessionType:()=>Ne,SizeStyle:()=>Sr,Sticky:()=>Pr,StretchType:()=>mr,TDAssetType:()=>as,TDEventHandler:()=>os,TDExportBackground:()=>Lo,TDExportType:()=>go,TDShapeType:()=>De,TDStatus:()=>Bt,TDUserStatus:()=>ol,TLDR:()=>k,Text:()=>Rc,Tldraw:()=>dce,TldrawApp:()=>zn,Triangle:()=>$s,Video:()=>Hc,getShapeUtil:()=>ua,shapeUtils:()=>Rn,useFileSystem:()=>nl});var fMe=require("@fontsource/caveat-brush"),SMe=require("@fontsource/crimson-pro"),bMe=require("@fontsource/recursive"),TMe=require("@fontsource/source-code-pro"),yMe=require("@fontsource/source-sans-pro"),Vp=require("@tldraw/core"),be=V(require("react")),$p=require("react-error-boundary"),Np=require("react-intl");var Ge=V(require("@radix-ui/react-context-menu")),lt=require("@radix-ui/react-icons"),C=V(require("react")),Ye=require("react-intl");var Qr=require("@stitches/react"),{styled:H,createTheme:nu}=(0,Qr.createStitches)({themeMap:S({},Qr.defaultThemeMap),theme:{colors:{bounds:"rgba(65, 132, 244, 1.000)",boundsBg:"rgba(65, 132, 244, 0.05)",hover:"#ececec",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#fefefe",panelContrast:"#ffffff",selected:"rgba(66, 133, 244, 1.000)",selectedContrast:"#fefefe",text:"#333333",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",warn:"rgba(255, 100, 100, 1)",canvas:"rgb(248, 249, 250)"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.14)",3:"0px 2px 3px rgba(0, 0, 0, 0.14)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.14)",8:"0px 12px 17px rgba(0, 0, 0, 0.14)",12:"0px 12px 17px rgba(0, 0, 0, 0.14)",24:"0px 24px 38px rgba(0, 0, 0, 0.14)",key:"1px 1px rgba(0,0,0,1)",panel:`0px 0px 16px -1px rgba(0, 0, 0, 0.05), 
        0px 0px 16px -8px rgba(0, 0, 0, 0.05), 
        0px 0px 16px -12px rgba(0, 0, 0, 0.12),
        0px 0px 2px 0px rgba(0, 0, 0, 0.08)`},space:{0:"2px",1:"3px",2:"4px",3:"8px",4:"12px",5:"16px",6:"32px",7:"48px"},fontSizes:{0:"10px",1:"12px",2:"13px",3:"16px",4:"18px"},fonts:{ui:'"Recursive", system-ui, sans-serif',body:'"Recursive", system-ui, sans-serif',mono:'"Recursive Mono", monospace'},fontWeights:{},lineHeights:{},letterSpacings:{},sizes:{},borderWidths:{0:"$1"},borderStyles:{},radii:{0:"2px",1:"4px",2:"8px",3:"12px",4:"16px"},zIndices:{},transitions:{}},media:{micro:"(max-width: 370px)",sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)"},utils:{zStrokeWidth:()=>r=>Array.isArray(r)?{strokeWidth:`calc(${r[0]}px / var(--camera-zoom))`}:{strokeWidth:`calc(${r}px / var(--camera-zoom))`}}}),li=nu({colors:{bounds:"rgba(38, 150, 255, 1.000)",boundsBg:"rgba(38, 150, 255, 0.05)",hover:"#444A50",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#363D44",panelContrast:"#49555f",selected:"rgba(38, 150, 255, 1.000)",selectedContrast:"#fefefe",text:"#f8f9fa",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",canvas:"#212529"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.24)",3:"0px 2px 3px rgba(0, 0, 0, 0.24)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.24)",8:"0px 12px 17px rgba(0, 0, 0, 0.24)",12:"0px 12px 17px rgba(0, 0, 0, 0.24)",24:"0px 24px 38px rgba(0, 0, 0, 0.24)",panel:`0px 0px 16px -1px rgba(0, 0, 0, 0.05), 
      0px 0px 16px -8px rgba(0, 0, 0, 0.09), 
      0px 0px 16px -12px rgba(0, 0, 0, 0.2)`}});var Ee=H("hr",{height:0,paddingTop:1,width:"calc(100%+8px)",backgroundColor:"$hover",border:"none",margin:"$2 -4px"});var jt=H("div",{position:"relative",overflow:"hidden",userSelect:"none",WebkitUserSelect:"none",display:"flex",flexDirection:"column",zIndex:99997,minWidth:180,pointerEvents:"all",backgroundColor:"$panel",border:"1px solid $panelContrast",boxShadow:"$panel",padding:"$2 $2",borderRadius:"$3",font:"$ui",maxHeight:"100vh",overflowY:"auto",overflowX:"hidden","&::webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none",scrollbarWidth:"none",variants:{size:{small:{minWidth:72}},overflow:{true:{maxHeight:"60vh"}}}});var el=require("@radix-ui/react-dropdown-menu"),es=require("@radix-ui/react-icons"),en=V(require("react"));var Qa=require("@tldraw/core"),di=V(require("react"));var ou=()=>Qa.Utils.isDarwin()?"\u2318":"Ctrl";function Eo({variant:r,children:e}){return di.createElement(ru,{variant:r},e.split("").map((t,n)=>di.createElement("span",{key:n},t.replace("#",ou()))))}var ru=H("kbd",{marginLeft:"$3",textShadow:"$2",textAlign:"center",fontSize:"$0",fontFamily:"$ui",color:"$text",background:"none",fontWeight:400,gap:"$1",display:"flex",alignItems:"center","& > span":{padding:"$0",borderRadius:"$0",display:"flex",alignItems:"center",justifyContent:"center"},variants:{variant:{tooltip:{"& > span":{color:"$tooltipContrast",background:"$overlayContrast",boxShadow:"$key",width:"20px",height:"20px"}},menu:{}}}});var bt=H("div",{height:"100%",borderRadius:"4px",marginRight:"1px",width:"fit-content",display:"grid",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",color:"currentColor","& svg":{height:16,width:16,strokeWidth:1},"& > *":{gridRow:1,gridColumn:1}});var rt={"@initial":"mobile","@micro":"micro","@sm":"small","@md":"medium","@lg":"large"};var $e=en.forwardRef((p,u)=>{var m=p,{onClick:r,isActive:e=!1,isWarning:t=!1,hasIndicator:n=!1,hasArrow:o=!1,disabled:s=!1,variant:a,kbd:d,children:i}=m,c=ot(m,["onClick","isActive","isWarning","hasIndicator","hasArrow","disabled","variant","kbd","children"]);return en.createElement(su,S({ref:u,bp:rt,isWarning:t,isActive:e,disabled:s,onClick:r,variant:a},c),en.createElement(tl,null,i,d?en.createElement(Eo,{variant:"menu"},d):void 0,n&&en.createElement(el.ItemIndicator,{dir:"ltr"},en.createElement(bt,null,en.createElement(es.CheckIcon,null))),o&&en.createElement(bt,null,en.createElement(es.ChevronRightIcon,null))))}),tl=H("div",{height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",display:"flex",gap:"$1",flexDirection:"row",alignItems:"center",padding:"0 $3",justifyContent:"space-between",border:"1px solid transparent","& svg":{position:"relative",stroke:"$overlay",strokeWidth:1,zIndex:1},[`& > ${bt}`]:{paddingLeft:"$3"}}),su=H("button",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",height:32,minHeight:32,outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",borderRadius:4,userSelect:"none",WebkitUserSelect:"none",margin:0,padding:"0 0","&[data-disabled]":{opacity:.3},"&:disabled":{opacity:.3},[`&:focus:not(:disabled) ${tl}`]:{backgroundColor:"$hover"},"& a":{textDecoration:"none",color:"$text"},variants:{bp:{mobile:{},small:{}},variant:{styleMenu:{margin:"$1 0 $1 0"},wide:{gridColumn:"1 / span 4"}},size:{icon:{padding:"4px ",width:"auto"}},isWarning:{true:{color:"$warn"}},isActive:{true:{backgroundColor:"$hover"},false:{}}}});var nn=V(require("react"));var fn=V(require("@radix-ui/react-tooltip")),On=V(require("react"));function ze({children:r,label:e,kbd:t,id:n,side:o="top"}){return On.createElement("span",{id:n},On.createElement(fn.Provider,null,On.createElement(fn.Root,null,On.createElement(fn.Trigger,{dir:"ltr",asChild:!0},On.createElement("span",null,r)),On.createElement(iu,{dir:"ltr",side:o,sideOffset:8},e,t?On.createElement(Eo,{variant:"tooltip"},t):null,On.createElement(au,null)))))}var iu=H(fn.Content,{borderRadius:3,padding:"$3 $3 $3 $3",fontSize:"$1",backgroundColor:"$tooltip",color:"$tooltipContrast",boxShadow:"$3",display:"flex",alignItems:"center",fontFamily:"$ui",userSelect:"none",WebkitUserSelect:"none"}),au=H(fn.Arrow,{fill:"$tooltip",margin:"0 8px"});var Bo=V(require("react"));function nl(){let r=Bo.useCallback((s,a)=>ue(this,null,function*(){a(s.fileSystemHandle?"saveFirstTime":"saveAgain",()=>ue(this,null,function*(){try{yield s.saveProject(),s.newProject()}catch(d){}}),()=>ue(this,null,function*(){s.newProject()}),()=>ue(this,null,function*(){}))}),[]),e=Bo.useCallback((s,a)=>ue(this,null,function*(){a(s.fileSystemHandle?"saveFirstTime":"saveAgain",()=>ue(this,null,function*(){try{yield s.saveProject(),yield s.openProject()}catch(d){}}),()=>ue(this,null,function*(){s.openProject()}),()=>ue(this,null,function*(){}))}),[]),t=Bo.useCallback(s=>{s.saveProject()},[]),n=Bo.useCallback(s=>{s.saveProjectAs()},[]),o=Bo.useCallback(s=>ue(this,null,function*(){var a;(a=s.openAsset)==null||a.call(s)}),[]);return{onNewProject:r,onSaveProject:t,onSaveProjectAs:n,onOpenProject:e,onOpenMedia:o}}var Ro=V(require("react"));function ts(){let r=ge(),{openDialog:e}=ns(),t=Ro.useCallback(d=>ue(this,null,function*(){var i,c;d&&r.callbacks.onOpenProject&&d.preventDefault(),(c=(i=r.callbacks).onNewProject)==null||c.call(i,r,e)}),[r,e]),n=Ro.useCallback(d=>{var i,c;d&&r.callbacks.onOpenProject&&d.preventDefault(),(c=(i=r.callbacks).onSaveProject)==null||c.call(i,r)},[r]),o=Ro.useCallback(d=>{var i,c;d&&r.callbacks.onOpenProject&&d.preventDefault(),(c=(i=r.callbacks).onSaveProjectAs)==null||c.call(i,r)},[r]),s=Ro.useCallback(d=>ue(this,null,function*(){var i,c;d&&r.callbacks.onOpenProject&&d.preventDefault(),(c=(i=r.callbacks).onOpenProject)==null||c.call(i,r,e)}),[r,e]),a=Ro.useCallback(d=>ue(this,null,function*(){var i,c;d&&r.callbacks.onOpenMedia&&d.preventDefault(),(c=(i=r.callbacks).onOpenMedia)==null||c.call(i,r)}),[r]);return{onNewProject:t,onSaveProject:n,onSaveProjectAs:o,onOpenProject:s,onOpenMedia:a}}var ls=V(require("react")),he=require("react-hotkeys-hook");var os=class{constructor(){l(this,"onPinchStart");l(this,"onPinchEnd");l(this,"onPinch");l(this,"onKeyDown");l(this,"onKeyUp");l(this,"onPointerMove");l(this,"onPointerUp");l(this,"onPan");l(this,"onZoom");l(this,"onPointerDown");l(this,"onPointCanvas");l(this,"onDoubleClickCanvas");l(this,"onRightPointCanvas");l(this,"onDragCanvas");l(this,"onReleaseCanvas");l(this,"onPointShape");l(this,"onDoubleClickShape");l(this,"onRightPointShape");l(this,"onDragShape");l(this,"onHoverShape");l(this,"onUnhoverShape");l(this,"onReleaseShape");l(this,"onPointBounds");l(this,"onDoubleClickBounds");l(this,"onRightPointBounds");l(this,"onDragBounds");l(this,"onHoverBounds");l(this,"onUnhoverBounds");l(this,"onReleaseBounds");l(this,"onPointBoundsHandle");l(this,"onDoubleClickBoundsHandle");l(this,"onRightPointBoundsHandle");l(this,"onDragBoundsHandle");l(this,"onHoverBoundsHandle");l(this,"onUnhoverBoundsHandle");l(this,"onReleaseBoundsHandle");l(this,"onPointHandle");l(this,"onDoubleClickHandle");l(this,"onRightPointHandle");l(this,"onDragHandle");l(this,"onHoverHandle");l(this,"onUnhoverHandle");l(this,"onReleaseHandle");l(this,"onShapeBlur");l(this,"onShapeClone")}},ol=(o=>(o.Idle="idle",o.Connecting="connecting",o.Connected="connected",o.Disconnected="disconnected",o))(ol||{}),Ne=(p=>(p.Transform="transform",p.Translate="translate",p.TransformSingle="transformSingle",p.Brush="brush",p.Arrow="arrow",p.Draw="draw",p.Erase="erase",p.Rotate="rotate",p.Handle="handle",p.Grid="grid",p.Edit="edit",p))(Ne||{}),Bt=(h=>(h.Idle="idle",h.PointingHandle="pointingHandle",h.PointingBounds="pointingBounds",h.PointingBoundsHandle="pointingBoundsHandle",h.TranslatingLabel="translatingLabel",h.TranslatingHandle="translatingHandle",h.Translating="translating",h.Transforming="transforming",h.Rotating="rotating",h.Pinching="pinching",h.Brushing="brushing",h.Creating="creating",h.EditingText="editing-text",h))(Bt||{}),rs=(o=>(o.Backward="backward",o.Forward="forward",o.ToFront="toFront",o.ToBack="toBack",o))(rs||{}),hr=(a=>(a.Top="top",a.CenterVertical="centerVertical",a.Bottom="bottom",a.Left="left",a.CenterHorizontal="centerHorizontal",a.Right="right",a))(hr||{}),mr=(t=>(t.Horizontal="horizontal",t.Vertical="vertical",t))(mr||{}),gr=(t=>(t.Horizontal="horizontal",t.Vertical="vertical",t))(gr||{}),ss=(t=>(t.Horizontal="horizontal",t.Vertical="vertical",t))(ss||{}),De=(p=>(p.Sticky="sticky",p.Ellipse="ellipse",p.Rectangle="rectangle",p.Triangle="triangle",p.Draw="draw",p.Arrow="arrow",p.Line="line",p.Text="text",p.Group="group",p.Image="image",p.Video="video",p))(De||{}),fr=(e=>(e.Arrow="arrow",e))(fr||{}),is=(m=>(m.White="white",m.LightGray="lightGray",m.Gray="gray",m.Black="black",m.Green="green",m.Cyan="cyan",m.Blue="blue",m.Indigo="indigo",m.Violet="violet",m.Red="red",m.Orange="orange",m.Yellow="yellow",m))(is||{}),Sr=(n=>(n.Small="small",n.Medium="medium",n.Large="large",n))(Sr||{}),Sn=(o=>(o.Draw="draw",o.Solid="solid",o.Dashed="dashed",o.Dotted="dotted",o))(Sn||{}),rl=(o=>(o.Small="small",o.Medium="medium",o.Large="large",o.ExtraLarge="extraLarge",o))(rl||{}),Gt=(o=>(o.Start="start",o.Middle="middle",o.End="end",o.Justify="justify",o))(Gt||{}),Ao=(o=>(o.Script="script",o.Sans="sans",o.Serif="serif",o.Mono="mono",o))(Ao||{}),as=(t=>(t.Image="image",t.Video="video",t))(as||{}),go=(s=>(s.PNG="png",s.JPG="jpeg",s.WEBP="webp",s.SVG="svg",s.JSON="json",s))(go||{}),Lo=(o=>(o.Transparent="transparent",o.Auto="auto",o.Light="light",o.Dark="dark",o))(Lo||{});function sl(r){let e=ge(),t=ls.useCallback((i=!1)=>{let c=r.current;return i&&(e.isMenuOpen||e.settings.keepStyleMenuOpen)?!0:c&&(document.activeElement===c||c.contains(document.activeElement))},[r]);ls.useEffect(()=>{if(!e)return;let i=p=>{if(!!t(!0)){if(e.readOnly){e.copy(void 0,p);return}e.cut(void 0,p)}},c=p=>{!t(!0)||e.copy(void 0,p)},u=p=>{!t(!0)||e.readOnly||e.paste(void 0,p)};return document.addEventListener("cut",i),document.addEventListener("copy",c),document.addEventListener("paste",u),()=>{document.removeEventListener("cut",i),document.removeEventListener("copy",c),document.removeEventListener("paste",u)}},[e]),(0,he.useHotkeys)("v,1",()=>{!t(!0)||e.selectTool("select")},[e,r.current]),(0,he.useHotkeys)("d,p,2",()=>{!t(!0)||e.selectTool("draw")},void 0,[e]),(0,he.useHotkeys)("e,3",()=>{!t(!0)||e.selectTool("erase")},void 0,[e]),(0,he.useHotkeys)("r,4",()=>{!t(!0)||e.selectTool("rectangle")},void 0,[e]),(0,he.useHotkeys)("o,5",()=>{!t(!0)||e.selectTool("ellipse")},void 0,[e]),(0,he.useHotkeys)("g,6",()=>{!t()||e.selectTool("triangle")},void 0,[e]),(0,he.useHotkeys)("l,7",()=>{!t(!0)||e.selectTool("line")},void 0,[e]),(0,he.useHotkeys)("a,8",()=>{!t(!0)||e.selectTool("arrow")},void 0,[e]),(0,he.useHotkeys)("t,9",()=>{!t(!0)||e.selectTool("text")},void 0,[e]),(0,he.useHotkeys)("s,0",()=>{!t(!0)||e.selectTool("sticky")},void 0,[e]),(0,he.useHotkeys)("ctrl+shift+d,\u2318+shift+d",i=>{!t(!0)||(e.toggleDarkMode(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("ctrl+.,\u2318+.",()=>{!t(!0)||e.toggleFocusMode()},void 0,[e]),(0,he.useHotkeys)("ctrl+shift+g,\u2318+shift+g",()=>{!t(!0)||e.toggleGrid()},void 0,[e]);let{onNewProject:n,onOpenProject:o,onSaveProject:s,onSaveProjectAs:a,onOpenMedia:d}=ts();(0,he.useHotkeys)("ctrl+n,\u2318+n",i=>{i.preventDefault(),!!t()&&n(i)},void 0,[e]),(0,he.useHotkeys)("ctrl+s,\u2318+s",i=>{!t()||s(i)},void 0,[e]),(0,he.useHotkeys)("ctrl+shift+s,\u2318+shift+s",i=>{!t()||a(i)},void 0,[e]),(0,he.useHotkeys)("ctrl+alt+1,\u2318+alt+1",i=>{!t()||e.exportImage("svg",{scale:2,quality:1})},void 0,[e]),(0,he.useHotkeys)("ctrl+alt+2,\u2318+alt+2",i=>{!t()||e.exportImage("png",{scale:2,quality:1})},void 0,[e]),(0,he.useHotkeys)("ctrl+alt+3,\u2318+alt+3",i=>{!t()||e.exportImage("jpeg",{scale:2,quality:1})},void 0,[e]),(0,he.useHotkeys)("ctrl+alt+4,\u2318+alt+4",i=>{!t()||e.exportImage("webp",{scale:2,quality:1})},void 0,[e]),(0,he.useHotkeys)("ctrl+alt+5,\u2318+alt+5",i=>{!t()||e.exportJson()},void 0,[e]),(0,he.useHotkeys)("ctrl+o,\u2318+o",i=>{!t()||o(i)},void 0,[e]),(0,he.useHotkeys)("ctrl+u,\u2318+u",i=>{!t()||d(i)},void 0,[e]),(0,he.useHotkeys)("\u2318+z,ctrl+z",i=>{i.preventDefault(),!!t(!0)&&(e.session?e.cancelSession():e.undo())},void 0,[e]),(0,he.useHotkeys)("ctrl+shift+z,\u2318+shift+z",()=>{!t(!0)||(e.session?e.cancelSession():e.redo())},void 0,[e]),(0,he.useHotkeys)("\u2318+u,ctrl+u",()=>{!t()||e.undoSelect()},void 0,[e]),(0,he.useHotkeys)("ctrl+shift-u,\u2318+shift+u",()=>{!t()||e.redoSelect()},void 0,[e]),(0,he.useHotkeys)("ctrl+=,\u2318+=,ctrl+num_add,\u2318+num_add",i=>{!t(!0)||(e.zoomIn(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("ctrl+-,\u2318+-,ctrl+num_subtract,\u2318+num_subtract",i=>{!t(!0)||(e.zoomOut(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("shift+0,ctrl+numpad_0,\u2318+numpad_0",()=>{!t(!0)||e.resetZoom()},void 0,[e]),(0,he.useHotkeys)("shift+1",()=>{!t(!0)||e.zoomToFit()},void 0,[e]),(0,he.useHotkeys)("shift+2",()=>{!t(!0)||e.zoomToSelection()},void 0,[e]),(0,he.useHotkeys)("ctrl+d,\u2318+d",i=>{!t()||(e.duplicate(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("shift+h",()=>{!t(!0)||e.flipHorizontal()},void 0,[e]),(0,he.useHotkeys)("shift+v",()=>{!t(!0)||e.flipVertical()},void 0,[e]),(0,he.useHotkeys)("escape",()=>{!t(!0)||e.cancel()},void 0,[e]),(0,he.useHotkeys)("backspace,del",()=>{!t()||e.delete()},void 0,[e]),(0,he.useHotkeys)("\u2318+a,ctrl+a",()=>{!t(!0)||e.selectAll()},void 0,[e]),(0,he.useHotkeys)("up",()=>{!t()||e.nudge([0,-1],!1)},void 0,[e]),(0,he.useHotkeys)("right",()=>{!t()||e.nudge([1,0],!1)},void 0,[e]),(0,he.useHotkeys)("down",()=>{!t()||e.nudge([0,1],!1)},void 0,[e]),(0,he.useHotkeys)("left",()=>{!t()||e.nudge([-1,0],!1)},void 0,[e]),(0,he.useHotkeys)("shift+up",()=>{!t()||e.nudge([0,-1],!0)},void 0,[e]),(0,he.useHotkeys)("shift+right",()=>{!t()||e.nudge([1,0],!0)},void 0,[e]),(0,he.useHotkeys)("shift+down",()=>{!t()||e.nudge([0,1],!0)},void 0,[e]),(0,he.useHotkeys)("shift+left",()=>{!t()||e.nudge([-1,0],!0)},void 0,[e]),(0,he.useHotkeys)("\u2318+shift+l,ctrl+shift+l",()=>{!t()||e.toggleLocked()},void 0,[e]),(0,he.useHotkeys)("\u2318+shift+c,ctrl+shift+c",i=>{!t()||(e.copySvg(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("\u2318+g,ctrl+g",i=>{!t()||(e.group(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("\u2318+shift+g,ctrl+shift+g",i=>{!t()||(e.ungroup(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("[",()=>{!t(!0)||e.moveBackward()},void 0,[e]),(0,he.useHotkeys)("]",()=>{!t(!0)||e.moveForward()},void 0,[e]),(0,he.useHotkeys)("shift+[",()=>{!t(!0)||e.moveToBack()},void 0,[e]),(0,he.useHotkeys)("shift+]",()=>{!t(!0)||e.moveToFront()},void 0,[e]),(0,he.useHotkeys)("ctrl+shift+backspace,\u2318+shift+backspace",i=>{!t()||(e.settings.isDebugMode&&e.resetDocument(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("alt+command+l,alt+ctrl+l",i=>{!t(!0)||(e.style({textAlign:"start"}),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("alt+command+t,alt+ctrl+t",i=>{!t(!0)||(e.style({textAlign:"middle"}),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("alt+command+r,alt+ctrl+r",i=>{!t(!0)||(e.style({textAlign:"end"}),i.preventDefault())},void 0,[e])}var bn=V(require("react")),ci=bn.createContext({}),lu=()=>{let[r,e]=bn.useState(0);bn.useEffect(()=>e(1))};function ge(){return bn.useContext(ci)}var pi=bn.createContext({});function Vt(){let r=bn.useContext(pi);return lu(),r}var zl=V(require("react"));var du="\u0627\u0644\u0644\u0648\u0646",cu="\u064A\u0645\u0644\u0623",pu="\u0645\u062A\u0642\u0637\u0639",uu="\u062D\u062C\u0645",hu="\u062A\u0628\u0642\u0649 \u0645\u0641\u062A\u0648\u062D\u0629",mu="\u0627\u0644\u062E\u0637",gu="\u0645\u062D\u0627\u0630\u0627\u0629",fu="\u0627\u0644\u0623\u0646\u0645\u0627\u0637",Su="\u062A\u0643\u0628\u064A\u0631",bu="\u062A\u0635\u063A\u064A\u0631",Tu="\u0625\u0644\u0649",yu="\u0623\u062F\u0648\u0627\u062A",wu="\u0627\u0644\u062A\u062D\u0648\u064A\u0644\u0627\u062A",xu="\u0645\u0644\u0641",ku="\u062A\u062D\u0631\u064A\u0631",vu="\u0645\u0639\u0627\u064A\u0646\u0629",Iu="\u0627\u0644\u062A\u0641\u0636\u064A\u0644\u0627\u062A",Cu="\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644",Du="\u062E\u0631\u0648\u062C",Pu="\u0643\u0646 \u0631\u0627\u0639\u064A\u0627\u064B",Mu="\u0627\u0644\u0639\u0648\u062F\u0629 \u0625\u0644\u0649 \u0627\u0644\u0645\u062D\u062A\u0648\u0649",Eu="\u062A\u0643\u0628\u064A\u0631 \u0644\u0644\u062A\u062D\u062F\u064A\u062F",Bu="\u062A\u0643\u0628\u064A\u0631 \u0644\u062A\u0646\u0627\u0633\u0628",Ru="\u062A\u0643\u0628\u064A\u0631 \u0625\u0644\u0649",Au="\u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u062F\u0627\u0643\u0646",Lu="\u0648\u0636\u0639 \u0627\u0644\u062A\u0631\u0643\u064A\u0632",Hu="\u0648\u0636\u0639 \u0627\u0644\u062A\u0635\u062D\u064A\u062D",zu="\u0627\u0638\u0647\u0631 \u0627\u0644\u0634\u0628\u0643\u0629",Ou="\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062F CAD",Fu="\u0627\u0644\u0627\u062D\u062A\u0641\u0627\u0638 \u0628\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0646\u0645\u0637 \u0645\u0641\u062A\u0648\u062D\u0629",ju="\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0644\u0642\u0637\u0627\u062A \u062F\u0627\u0626\u0645\u064B\u0627",Gu="\u062A\u062F\u0648\u064A\u0631 \u0627\u0644\u0645\u0642\u0627\u0628\u0636",Vu="\u0645\u0642\u0627\u0628\u0636 \u0645\u0644\u0632\u0645\u0629",$u="\u0645\u0642\u0627\u0628\u0636 \u0627\u0633\u062A\u0646\u0633\u0627\u062E",Nu="\u0627\u0644\u063A\u0627\u0621",Wu="\u0625\u0639\u0627\u062F\u0629",Uu="\u0642\u0637\u0639",Ku="\u0646\u0633\u062D",_u="\u0644\u0635\u0642",Yu="\u0646\u0633\u062E \u0627\u0644\u0649",Zu="\u0635\u062F\u0631 \u0627\u0644\u0649",Xu="\u0627\u062E\u062A\u0631 \u0627\u0644\u0643\u0644",qu="\u0644\u0627 \u062A\u062E\u062A\u0631 \u0634\u064A\u0621",Ju="\u062D\u0630\u0641",Qu="\u0645\u0634\u0631\u0648\u0639 \u062C\u062F\u064A\u062F",eh="\u0641\u062A\u062D",th="\u062D\u0641\u0638",nh="\u062D\u0641\u0638 \u0628\u0627\u0633\u0645",oh="\u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0648\u0633\u0627\u0626\u0637",rh="\u0625\u0646\u0634\u0627\u0621 \u0635\u0641\u062D\u0629",sh="\u0635\u0641\u062D\u0629 \u062C\u062F\u064A\u062F\u0629",ih="\u0627\u0633\u0645 \u0627\u0644\u0635\u0641\u062D\u0629",ah="\u0646\u0633\u062E",lh="\u0627\u0644\u063A\u0627\u0621",dh="\u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u0627\u0644\u062F\u0639\u0648\u0629",ch="\u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u062F\u0639\u0648\u0629 \u0627\u0644\u0642\u0631\u0627\u0621\u0629 \u0641\u0642\u0637",ph="\u0642\u0645 \u0628\u0625\u0646\u0634\u0627\u0621 \u0645\u0634\u0631\u0648\u0639 \u0645\u062A\u0639\u062F\u062F \u0627\u0644\u0644\u0627\u0639\u0628\u064A\u0646",uh="\u0646\u0633\u062E \u0625\u0644\u0649 \u0645\u0634\u0631\u0648\u0639 \u0645\u062A\u0639\u062F\u062F \u0627\u0644\u0644\u0627\u0639\u0628\u064A\u0646",hh="\u0627\u062E\u062A\u0631",mh="\u0645\u0645\u062D\u0627\u0629",gh="\u0631\u0633\u0645",fh="\u0633\u0647\u0645",Sh="\u0646\u0635",bh="\u0644\u0627\u0635\u0642",Th="\u0645\u0631\u0628\u0639",yh="\u0628\u064A\u0636\u0627\u0648\u064A",wh="\u0645\u062B\u0644\u062B",xh="\u062E\u0637",kh="\u062F\u0648\u0651\u0631",vh="\u0642\u0641\u0644 \u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0628\u0639\u0627\u062F",Ih="\u0641\u062A\u062D \u0642\u0641\u0644 \u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0628\u0639\u0627\u062F",Ch="\u062C\u0645\u0651\u0639",Dh="\u0641\u0643 \u0627\u0644\u062A\u062C\u0645\u0639",Ph="\u0627\u0646\u062A\u0642\u0644 \u0625\u0644\u0649 \u0627\u0644\u062E\u0644\u0641",Mh="\u062A\u062D\u0631\u064A\u0643 \u0644\u0644\u062E\u0644\u0641",Eh="\u062A\u062D\u0631\u064A\u0643 \u0644\u0644\u0623\u0645\u0627\u0645",Bh="\u062A\u062D\u0631\u0643 \u0644\u0644\u0623\u0645\u0627\u0645",Rh="\u0625\u0639\u0627\u062F\u0629 \u0636\u0628\u0637 \u0627\u0644\u0632\u0627\u0648\u064A\u0629",Ah="\u0642\u0641\u0644",Lh="\u0627\u0644\u063A\u0627\u0621 \u0627\u0644\u0642\u0641\u0644",Hh="\u0627\u0646\u0642\u0644 \u0625\u0644\u0649 \u0627\u0644\u0635\u0641\u062D\u0629",zh="\u0627\u0646\u0639\u0643\u0627\u0633 \u0623\u0641\u0642\u064A",Oh="\u0627\u0646\u0639\u0643\u0627\u0633 \u0639\u0645\u0648\u062F\u064A",Fh="\u062D\u0631\u0651\u0643",jh="\u0644\u0644\u0627\u0645\u0627\u0645",Gh="\u0644\u0644\u062E\u0644\u0641",Vh="\u0644\u0644\u0648\u0631\u0627\u0621",$h="\u062E\u0644\u0641",Nh="\u0644\u063A\u0629",Wh="\u0644\u0644\u0645\u0632\u064A\u062F",Uh="\u0645\u0648\u0642\u0639 \u0627\u0644\u0627\u062F\u0648\u0627\u062A",Kh="\u0627\u0633\u0641\u0644",_h="\u064A\u0633\u0627\u0631",Yh="\u064A\u0645\u064A\u0646",Zh="\u0623\u0639\u0644\u0649",Xh="\u0635\u0641\u062D\u0629",qh="\u0627\u062E\u062A\u0635\u0627\u0631\u0627\u062A \u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0641\u0627\u062A\u064A\u062D",Jh="\u0628\u062D\u062B",Qh="{dots}\u062A\u062D\u0645\u064A\u0644 ",em="\u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u062E\u0644\u0641\u064A\u0629",tm="\u0634\u0640\u0641\u0627\u0641",nm="\u0630\u0627\u062A\u064A",om="\u062E\u0641\u064A\u0641",rm="\u063A\u0627\u0645\u0642",sm="\u0647\u0644 \u062A\u0631\u064A\u062F \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0639\u0644\u0649 \u0647\u0630\u0627 \u0627\u0644\u0645\u0634\u0631\u0648\u0639\u061F",im="\u0647\u0644 \u062A\u0631\u064A\u062F \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0639\u0644\u0649 \u0647\u0630\u0627 \u0627\u0644\u0645\u0634\u0631\u0648\u0639\u061F",am="\u0625\u0644\u063A\u0627\u0621",lm="\u0644\u0627",dm="\u0646\u0639\u0645",cm="\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641",pm="\u0635\u0648\u0631\u0629",um="\u0635\u0641\u0651 \u0644\u0644\u064A\u0633\u0627\u0631",hm="\u0635\u0641\u0651 \u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0623\u0641\u0642\u064A \u0644\u0644\u0648\u0633\u0637",mm="\u0635\u0641\u0651 \u0644\u0644\u064A\u0645\u064A\u0646",gm="\u0635\u0641\u0651 \u0644\u0644\u0623\u0639\u0644\u0649",fm="\u0635\u0641\u0651 \u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0639\u0645\u0648\u062F\u064A \u0644\u0644\u0648\u0633\u0637",Sm="\u0635\u0641\u0651 \u0644\u0644\u0623\u0633\u0641\u0644",bm="\u062A\u0648\u0632\u064A\u0639 \u0623\u0641\u0642\u064A",Tm="\u062A\u0648\u0632\u064A\u0639 \u0639\u0645\u0648\u062F\u064A",ym="\u062A\u0645\u062F\u064A\u062F \u0623\u0641\u0642\u064A",wm="\u062A\u0645\u062F\u064A\u062F \u0639\u0645\u0648\u062F\u064A",il={"style.menu.color":du,"style.menu.fill":cu,"style.menu.dash":pu,"style.menu.size":uu,"style.menu.keep.open":hu,"style.menu.font":mu,"style.menu.align":gu,styles:fu,"zoom.in":Su,"zoom.out":bu,to:Tu,"menu.tools":yu,"menu.transform":wu,"menu.file":xu,"menu.edit":ku,"menu.view":vu,"menu.preferences":Iu,"menu.sign.in":Cu,"menu.sign.out":Du,"become.a.sponsor":Pu,"zoom.to.content":Mu,"zoom.to.selection":Eu,"zoom.to.fit":Bu,"zoom.to":Ru,"preferences.dark.mode":Au,"preferences.focus.mode":Lu,"preferences.debug.mode":Hu,"preferences.show.grid":zu,"preferences.use.cad.selection":Ou,"preferences.keep.stylemenu.open":Fu,"preferences.always.show.snaps":ju,"preferences.rotate.handles":Gu,"preferences.binding.handles":Vu,"preferences.clone.handles":$u,undo:Nu,redo:Wu,cut:Uu,copy:Ku,paste:_u,"copy.as":Yu,"export.as":Zu,"select.all":Xu,"select.none":qu,delete:Ju,"new.project":Qu,open:eh,save:th,"save.as":nh,"upload.media":oh,"create.page":rh,"new.page":sh,"page.name":ih,duplicate:ah,cancel:lh,"copy.invite.link":dh,"copy.readonly.link":ch,"create.multiplayer.project":ph,"copy.multiplayer.project":uh,select:hh,eraser:mh,draw:gh,arrow:fh,text:Sh,sticky:bh,rectangle:Th,ellipse:yh,triangle:wh,line:xh,rotate:kh,"lock.aspect.ratio":vh,"unlock.aspect.ratio":Ih,group:Ch,ungroup:Dh,"move.to.back":Ph,"move.backward":Mh,"move.forward":Eh,"move.to.front":Bh,"reset.angle":Rh,lock:Ah,unlock:Lh,"move.to.page":Hh,"flip.horizontal":zh,"flip.vertical":Oh,move:Fh,"to.front":jh,forward:Gh,backward:Vh,back:$h,language:Nh,"translation.link":Wh,"dock.position":Uh,bottom:Kh,left:_h,right:Yh,top:Zh,page:Xh,"keyboard.shortcuts":qh,search:Jh,loading:Qh,"export.background":em,transparent:tm,auto:nm,light:om,dark:rm,"dialog.save.firsttime":sm,"dialog.save.again":im,"dialog.cancel":am,"dialog.no":lm,"dialog.yes":dm,"enter.file.name":cm,image:pm,"align.left":um,"align.center.x":hm,"align.right":mm,"align.top":gm,"align.center.y":fm,"align.bottom":Sm,"distribute.x":bm,"distribute.y":Tm,"stretch.x":ym,"stretch.y":wm};var xm="Farve",km="Fyld",vm="Streg",Im="St\xF8rrelse",Cm="Hold \xE5ben",Dm="Skrifttype",Pm="Juster",Mm="Format",Em="Zoom ind",Bm="Zoom ud",Rm="til",Am="V\xE6rkt\xF8jer",Lm="Transformer",Hm="Fil",zm="Rediger",Om="Vis",Fm="Indstillinger",jm="Log ind",Gm="Log ud",Vm="Bliv sponsor",$m="Zoom til valgte",Nm="Zoom til l\xE6rred",Wm="Zoom til",Um="Zoom til indhold",Km="M\xF8rkt udseende",_m="Fokus tilstand",Ym="Debug tilstand",Zm="Vis net",Xm="Brug CAD udv\xE6lgelse",qm="Hold formatmenuen \xE5ben",Jm="Vis altid snaps",Qm="Roteringsh\xE5ndtag",eg="Bindingsh\xE5ndtag",tg="Kloningsh\xE5ndtag",ng="Fortryd",og="Gentag",rg="Klip",sg="Kopier",ig="Inds\xE6t",ag="Kopier som",lg="Eksporter som",dg="V\xE6lg alt",cg="Frav\xE6lg alt",pg="Slet",ug="Nyt projekt",hg="\xC5ben",mg="Gem",gg="Gem som",fg="Upload medie",Sg="Opret side",bg="Ny side",Tg="Sidenavn",yg="Dupliker",wg="Fortryd",xg="Kopier invitationslink",kg="Opret multiplayer projekt",vg="Kopier til multiplayer projekt",Ig="V\xE6lg",Cg="Viskel\xE6der",Dg="Tegn",Pg="Pil",Mg="Tekst",Eg="Note",Bg="Rektangel",Rg="Ellipse",Ag="Trekant",Lg="Linje",Hg="Roter",zg="L\xE5s billedformat",Og="Frig\xF8r billedformat",Fg="Grupper",jg="Opdel gruppe",Gg="Placer bagerst",Vg="Flyt tilbage",$g="Flyt frem",Ng="L\xE6g forrest",Wg="Nulstil vinkel",Ug="L\xE5s",Kg="L\xE5s op",_g="Flyt til side",Yg="Vend vandret",Zg="Vend lodret",Xg="Flyt",qg="Forrest",Jg="Frem",Qg="Tilbage",ef="Bagerst",tf="Sprog",nf="Justering nederst",of="Vandret justering centreret",rf="Lodret justering centreret",sf="Juster / distribuer",af="Justering til venstre",lf="Justering til h\xF8jre",df="Justering \xF8verst",cf="Kopier skrivebeskyttet link",pf="Vil du gemme \xE6ndringerne til dit projekt?",uf="Vil du gemme dit projekt?",hf="Ja",mf="Nej",gf="Fortryd",ff="Skriv filnavn",Sf="Vandret distribuering",bf="Lodret distribuering",Tf="Placering af v\xE6rkt\xF8jslinje",yf="Nederst",wf="Venstre",xf="H\xF8jre",kf="\xD8verst",vf="Baggrund ved eksport",If="Automatisk",Cf="Lys",Df="M\xF8rk",Pf="Billede",Mf="Tastaturgenveje",Ef="Indl\xE6ser",Bf="Side",Rf="S\xF8g",Af="Str\xE6k vandret",Lf="Str\xE6k lodret",Hf="L\xE6r mere",zf="Gennemsigtig",al={"style.menu.color":xm,"style.menu.fill":km,"style.menu.dash":vm,"style.menu.size":Im,"style.menu.keep.open":Cm,"style.menu.font":Dm,"style.menu.align":Pm,styles:Mm,"zoom.in":Em,"zoom.out":Bm,to:Rm,"menu.tools":Am,"menu.transform":Lm,"menu.file":Hm,"menu.edit":zm,"menu.view":Om,"menu.preferences":Fm,"menu.sign.in":jm,"menu.sign.out":Gm,"become.a.sponsor":Vm,"zoom.to.selection":$m,"zoom.to.fit":Nm,"zoom.to":Wm,"zoom.to.content":Um,"preferences.dark.mode":Km,"preferences.focus.mode":_m,"preferences.debug.mode":Ym,"preferences.show.grid":Zm,"preferences.use.cad.selection":Xm,"preferences.keep.stylemenu.open":qm,"preferences.always.show.snaps":Jm,"preferences.rotate.handles":Qm,"preferences.binding.handles":eg,"preferences.clone.handles":tg,undo:ng,redo:og,cut:rg,copy:sg,paste:ig,"copy.as":ag,"export.as":lg,"select.all":dg,"select.none":cg,delete:pg,"new.project":ug,open:hg,save:mg,"save.as":gg,"upload.media":fg,"create.page":Sg,"new.page":bg,"page.name":Tg,duplicate:yg,cancel:wg,"copy.invite.link":xg,"create.multiplayer.project":kg,"copy.multiplayer.project":vg,select:Ig,eraser:Cg,draw:Dg,arrow:Pg,text:Mg,sticky:Eg,rectangle:Bg,ellipse:Rg,triangle:Ag,line:Lg,rotate:Hg,"lock.aspect.ratio":zg,"unlock.aspect.ratio":Og,group:Fg,ungroup:jg,"move.to.back":Gg,"move.backward":Vg,"move.forward":$g,"move.to.front":Ng,"reset.angle":Wg,lock:Ug,unlock:Kg,"move.to.page":_g,"flip.horizontal":Yg,"flip.vertical":Zg,move:Xg,"to.front":qg,forward:Jg,backward:Qg,back:ef,language:tf,"align.bottom":nf,"align.center.x":of,"align.center.y":rf,"align.distribute":sf,"align.left":af,"align.right":lf,"align.top":df,"copy.readonly.link":cf,"dialog.save.again":pf,"dialog.save.firsttime":uf,"dialog.yes":hf,"dialog.no":mf,"dialog.cancel":gf,"enter.file.name":ff,"distribute.x":Sf,"distribute.y":bf,"dock.position":Tf,bottom:yf,left:wf,right:xf,top:kf,"export.background":vf,auto:If,light:Cf,dark:Df,image:Pf,"keyboard.shortcuts":Mf,loading:Ef,page:Bf,search:Rf,"stretch.x":Af,"stretch.y":Lf,"translation.link":Hf,transparent:zf};var Of="Farbe",Ff="F\xFCllen",jf="Strich",Gf="Gr\xF6\xDFe",Vf="Offen halten",$f="Schriftart",Nf="Ausrichten",Wf="Stile",Uf="Heranzoomen",Kf="Herauszoomen",_f="zu",Yf="Werkzeuge",Zf="Transformieren",Xf="Datei",qf="Bearbeiten",Jf="Ansicht",Qf="Pr\xE4ferenzen",eS="Einloggen",tS="Ausloggen",nS="Sponsor werden",oS="Zur\xFCck zum Inhalt",rS="Zur Auswahl zoomen",sS="Zoom anpassen",iS="Zoomen nach",aS="Dunkler Modus",lS="Fokus Modus",dS="Debug Modus",cS="Gitter anzeigen",pS="CAD Auswahl verwenden",uS="Stilmen\xFC offen halten",hS="Hilfslinien immer anzeigen",mS="Rotiergriffe",gS="Bindegriffe",fS="Klongriffe",SS="R\xFCckg\xE4ngig machen",bS="Wiederherstellen",TS="Ausschneiden",yS="Kopieren",wS="Einf\xFCgen",xS="Kopieren als",kS="Exportieren als",vS="Alles ausw\xE4hlen",IS="Nichts ausw\xE4hlen",CS="L\xF6schen",DS="Neues Projekt",PS="\xD6ffnen",MS="Speichern",ES="Speichern als",BS="Medien hochladen",RS="Seite erstellen",AS="Neue Seite",LS="Seitenname",HS="Duplizieren",zS="Form Optionen",OS="Fromen",FS="Abbrechen",jS="Einladungslink kopieren",GS="Schreibgesch\xFCtzten Link kopieren",VS="Geteiltes Projekt erstellen",$S="In ein Geteiltes Projekt kopieren",NS="Ausw\xE4hlen",WS="Radierer",US="Malen",KS="Pfeil",_S="Text",YS="Notiz",ZS="Rechteck",XS="Ellipse",qS="Dreieck",JS="Linie",QS="Drehen",eb="Seitenverh\xE4ltnis sperren",tb="Seitenverh\xE4ltnis entsperren",nb="Gruppieren",ob="Gruppierung aufheben",rb="Nach Hinten verschieben",sb="R\xFCckw\xE4rts schieben",ib="Vorw\xE4rts schieben",ab="Nach Vorne verschieben",lb="Winkel zur\xFCcksetzen",db="Sperren",cb="Entsperren",pb="Ausrichten / Verteilen",ub="Zu Seite verschieben",hb="Horizontal spiegeln",mb="Vertikal spiegeln",gb="Verschieben",fb="Nach Vorne",Sb="Vorw\xE4rts",bb="R\xFCckw\xE4rts",Tb="Hinten",yb="Sprache",wb="Mehr erfahren",xb="Dock Position",kb="Unten",vb="Links",Ib="Rechts",Cb="Oben",Db="Seite",Pb="Tastaturkurzbefehle",Mb="Suche",Eb="Laden{dots}",Bb="Hintergrund Exportieren",Rb="Transparent",Ab="Auto",Lb="Hell",Hb="Dunkel",zb="Github",Ob="Twitter",Fb="Discord",jb="Bild",Gb="Links ausrichten",Vb="Horizontal mittig ausrichten",$b="Rechts ausrichten",Nb="Oben ausrichten",Wb="Vertikal mittig ausrichten",Ub="Unten ausrichten",Kb="Horizontal verteilen",_b="Vertikal verteilen",Yb="Horizontal strecken",Zb="Vertikal strecken",Xb="M\xF6chten Sie Ihr aktuelles Projekt speichern?",qb="M\xF6chten Sie die \xC4nderungen an Ihrem aktuellen Projekt speichern?",Jb="Abbrechen",Qb="Nein",eT="Ja",tT="Dateiname eingeben",nT="Probieren Sie das neue tldraw",oT="Wei\xDF",rT="hellgrau",sT="Frau",iT="Schwarz",aT="Gr\xFCn",lT="Cyan",dT="Blau",cT="Indigo",pT="Violett",uT="Rot",hT="Orange",mT="Gelb",gT="Durchgehend",fT="Gestrichelt",ST="Gepunktet",bT="Klein",TT="Mittel",yT="Gro\xDF",ll={"style.menu.color":Of,"style.menu.fill":Ff,"style.menu.dash":jf,"style.menu.size":Gf,"style.menu.keep.open":Vf,"style.menu.font":$f,"style.menu.align":Nf,styles:Wf,"zoom.in":Uf,"zoom.out":Kf,to:_f,"menu.tools":Yf,"menu.transform":Zf,"menu.file":Xf,"menu.edit":qf,"menu.view":Jf,"menu.preferences":Qf,"menu.sign.in":eS,"menu.sign.out":tS,"become.a.sponsor":nS,"zoom.to.content":oS,"zoom.to.selection":rS,"zoom.to.fit":sS,"zoom.to":iS,"preferences.dark.mode":aS,"preferences.focus.mode":lS,"preferences.debug.mode":dS,"preferences.show.grid":cS,"preferences.use.cad.selection":pS,"preferences.keep.stylemenu.open":uS,"preferences.always.show.snaps":hS,"preferences.rotate.handles":mS,"preferences.binding.handles":gS,"preferences.clone.handles":fS,undo:SS,redo:bS,cut:TS,copy:yS,paste:wS,"copy.as":xS,"export.as":kS,"select.all":vS,"select.none":IS,delete:CS,"new.project":DS,open:PS,save:MS,"save.as":ES,"upload.media":BS,"create.page":RS,"new.page":AS,"page.name":LS,duplicate:HS,"shape.options":zS,shapes:OS,cancel:FS,"copy.invite.link":jS,"copy.readonly.link":GS,"create.multiplayer.project":VS,"copy.multiplayer.project":$S,select:NS,eraser:WS,draw:US,arrow:KS,text:_S,sticky:YS,rectangle:ZS,ellipse:XS,triangle:qS,line:JS,rotate:QS,"lock.aspect.ratio":eb,"unlock.aspect.ratio":tb,group:nb,ungroup:ob,"move.to.back":rb,"move.backward":sb,"move.forward":ib,"move.to.front":ab,"reset.angle":lb,lock:db,unlock:cb,"align.distribute":pb,"move.to.page":ub,"flip.horizontal":hb,"flip.vertical":mb,move:gb,"to.front":fb,forward:Sb,backward:bb,back:Tb,language:yb,"translation.link":wb,"dock.position":xb,bottom:kb,left:vb,right:Ib,top:Cb,page:Db,"keyboard.shortcuts":Pb,search:Mb,loading:Eb,"export.background":Bb,transparent:Rb,auto:Ab,light:Lb,dark:Hb,github:zb,twitter:Ob,discord:Fb,image:jb,"align.left":Gb,"align.center.x":Vb,"align.right":$b,"align.top":Nb,"align.center.y":Wb,"align.bottom":Ub,"distribute.x":Kb,"distribute.y":_b,"stretch.x":Yb,"stretch.y":Zb,"dialog.save.firsttime":Xb,"dialog.save.again":qb,"dialog.cancel":Jb,"dialog.no":Qb,"dialog.yes":eT,"enter.file.name":tT,"tldraw-beta":nT,white:oT,lightGray:rT,gray:sT,black:iT,green:aT,cyan:lT,blue:dT,indigo:cT,violet:pT,red:uT,orange:hT,yellow:mT,solid:gT,dashed:fT,dotted:ST,small:bT,medium:TT,large:yT};var dl={};var xT="Color",kT="Relleno",vT="L\xEDnea",IT="Tama\xF1o",CT="Mantener abierto",DT="Fuente",PT="Alineaci\xF3n",MT="Estilos",ET="Acercar",BT="Alejar",RT="A",AT="Herramientas",LT="Transformar",HT="Archivo",zT="Editar",OT="Ver",FT="Preferencias",jT="Iniciar sesi\xF3n",GT="Cerrar sesi\xF3n",VT="Convi\xE9rtete en patrocinador",$T="Acercar al contenido",NT="Acercar a la selecci\xF3n",WT="Ajustar a la ventana",UT="Acercar a",KT="Modo oscuro",_T="Modo concentraci\xF3n",YT="Modo depuraci\xF3n",ZT="Mostrar cuadr\xEDcula",XT="Usar selecci\xF3n CAD",qT="Mantener men\xFA de estilos abierto",JT="Mostrar puntos de ajuste",QT="Control de rotaci\xF3n",ey="Control de vinculaci\xF3n",ty="Control de clonaci\xF3n",ny="Deshacer",oy="Rehacer",ry="Cortar",sy="Copiar",iy="Pegar",ay="Copiar como",ly="Exportar como",dy="Selecionar todo",cy="Selecionar nada",py="Borrar",uy="Nuevo Proyecto",hy="Abrir",my="Guardar",gy="Guardar como",fy="Subir medios",Sy="Crear p\xE1gina",by="Nueva p\xE1gina",Ty="Nombre de p\xE1gina",yy="Duplicar",wy="Opciones de formas",xy="Formas",ky="Cancelar",vy="Copiar invitaci\xF3n",Iy="Copiar invitaci\xF3n (solo lectura)",Cy="Crear proyecto multijugador",Dy="Copiar proyecto multijugador",Py="Seleccionar",My="Borrador",Ey="Dibujar",By="Flecha",Ry="Texto",Ay="Pegatina",Ly="Rect\xE1ngulo",Hy="Elipse",zy="Tri\xE1ngulo",Oy="L\xEDnea",Fy="Rotar",jy="Bloquear relaci\xF3n de aspecto",Gy="Desbloquear relaci\xF3n de aspecto",Vy="Agrupar",$y="Desagrupar",Ny="Mover al fondo",Wy="Mover atr\xE1s",Uy="Mover adelante",Ky="Mover al frente",_y="Restablecer \xE1ngulo",Yy="Bloquear",Zy="Desbloquear",Xy="Alinear / Distribuir",qy="Mover a p\xE1gina",Jy="Voltear horizontalmente",Qy="Voltear verticalmente",ew="Mover",tw="Al frente",nw="Adelante",ow="Atr\xE1s",rw="Fondo",sw="Idioma",iw="Saber m\xE1s",aw="Posici\xF3n del dock",lw="Abajo",dw="Izquierda",cw="Derecha",pw="Arriba",uw="P\xE1gina",hw="Atajos de teclado",mw="Buscar",gw="Cargando{dots}",fw="Exportar fondo",Sw="Transparente",bw="Auto",Tw="Claro",yw="Oscuro",ww="Github",xw="Twitter",kw="Discord",vw="Imagen",Iw="Alinear a la izquierda",Cw="Alinear al centro horizontalmente",Dw="Alinear a la derecha",Pw="Alinear arriba",Mw="Alinear al centro verticalmente",Ew="Alinear abajo",Bw="Distribuir horizontalmente",Rw="Distribuir verticalmente",Aw="Estirar horizontalmente",Lw="Estirar verticalmente",Hw="\xBFQuieres guardar el proyecto actual?",zw="\xBFQuieres guardar los cambios en el proyecto actual?",Ow="Cancelar",Fw="No",jw="S\xED",Gw="Introduce el nombre del arquivo",Vw="Prueba el nuevo tldraw",$w="Blanco",Nw="Gris claro",Ww="Gris",Uw="Negro",Kw="Verde",_w="Cian",Yw="Azul",Zw="Indigo",Xw="Violeta",qw="Rojo",Jw="Naranja",Qw="Amarillo",ex="Cont\xEDnuo",tx="Discont\xEDnuo",nx="Punteado",ox="Peque\xF1o",rx="Mediano",sx="Grande",cl={"style.menu.color":xT,"style.menu.fill":kT,"style.menu.dash":vT,"style.menu.size":IT,"style.menu.keep.open":CT,"style.menu.font":DT,"style.menu.align":PT,styles:MT,"zoom.in":ET,"zoom.out":BT,to:RT,"menu.tools":AT,"menu.transform":LT,"menu.file":HT,"menu.edit":zT,"menu.view":OT,"menu.preferences":FT,"menu.sign.in":jT,"menu.sign.out":GT,"become.a.sponsor":VT,"zoom.to.content":$T,"zoom.to.selection":NT,"zoom.to.fit":WT,"zoom.to":UT,"preferences.dark.mode":KT,"preferences.focus.mode":_T,"preferences.debug.mode":YT,"preferences.show.grid":ZT,"preferences.use.cad.selection":XT,"preferences.keep.stylemenu.open":qT,"preferences.always.show.snaps":JT,"preferences.rotate.handles":QT,"preferences.binding.handles":ey,"preferences.clone.handles":ty,undo:ny,redo:oy,cut:ry,copy:sy,paste:iy,"copy.as":ay,"export.as":ly,"select.all":dy,"select.none":cy,delete:py,"new.project":uy,open:hy,save:my,"save.as":gy,"upload.media":fy,"create.page":Sy,"new.page":by,"page.name":Ty,duplicate:yy,"shape.options":wy,shapes:xy,cancel:ky,"copy.invite.link":vy,"copy.readonly.link":Iy,"create.multiplayer.project":Cy,"copy.multiplayer.project":Dy,select:Py,eraser:My,draw:Ey,arrow:By,text:Ry,sticky:Ay,rectangle:Ly,ellipse:Hy,triangle:zy,line:Oy,rotate:Fy,"lock.aspect.ratio":jy,"unlock.aspect.ratio":Gy,group:Vy,ungroup:$y,"move.to.back":Ny,"move.backward":Wy,"move.forward":Uy,"move.to.front":Ky,"reset.angle":_y,lock:Yy,unlock:Zy,"align.distribute":Xy,"move.to.page":qy,"flip.horizontal":Jy,"flip.vertical":Qy,move:ew,"to.front":tw,forward:nw,backward:ow,back:rw,language:sw,"translation.link":iw,"dock.position":aw,bottom:lw,left:dw,right:cw,top:pw,page:uw,"keyboard.shortcuts":hw,search:mw,loading:gw,"export.background":fw,transparent:Sw,auto:bw,light:Tw,dark:yw,github:ww,twitter:xw,discord:kw,image:vw,"align.left":Iw,"align.center.x":Cw,"align.right":Dw,"align.top":Pw,"align.center.y":Mw,"align.bottom":Ew,"distribute.x":Bw,"distribute.y":Rw,"stretch.x":Aw,"stretch.y":Lw,"dialog.save.firsttime":Hw,"dialog.save.again":zw,"dialog.cancel":Ow,"dialog.no":Fw,"dialog.yes":jw,"enter.file.name":Gw,"tldraw-beta":Vw,white:$w,lightGray:Nw,gray:Ww,black:Uw,green:Kw,cyan:_w,blue:Yw,indigo:Zw,violet:Xw,red:qw,orange:Jw,yellow:Qw,solid:ex,dashed:tx,dotted:nx,small:ox,medium:rx,large:sx};var ix="\u0631\u0646\u06AF",ax="\u062A\u0648\u067E\u064F\u0631",lx="\u062E\u0637\u200C\u0686\u06CC\u0646",dx="\u0627\u0646\u062F\u0627\u0632\u0647",cx="\u0628\u0627\u0632 \u0646\u06AF\u0647\u200C\u062F\u0627\u0634\u062A\u0646",px="\u0642\u0644\u0645",ux="\u062A\u0631\u0627\u0632",hx="\u0633\u0628\u06A9\u200C\u0647\u0627",mx="\u0628\u0632\u0631\u06AF\u200C\u0646\u0645\u0627\u06CC\u06CC",gx="\u06A9\u0648\u0686\u06A9\u200C\u0646\u0645\u0627\u06CC\u06CC",fx="\u0628\u0647",Sx="\u0627\u0628\u0632\u0627\u0631\u0647\u0627",bx="\u062A\u063A\u06CC\u06CC\u0631 \u0634\u06A9\u0644",Tx="\u067E\u0631\u0648\u0646\u062F\u0647",yx="\u0648\u06CC\u0631\u0627\u06CC\u0634",wx="\u0646\u0645\u0627\u06CC\u0634",xx="\u062A\u0631\u062C\u06CC\u062D\u0627\u062A",kx="\u0648\u0631\u0648\u062F",vx="\u062E\u0631\u0648\u062C",Ix="\u062D\u0645\u0627\u06CC\u062A\u200C\u06A9\u0646\u0646\u062F\u0647 \u0634\u0648\u06CC\u062F",Cx="\u0628\u0627\u0632\u06AF\u0634\u062A \u0628\u0647 \u0645\u062D\u062A\u0648\u0627",Dx="\u0628\u0632\u0631\u06AF\u200C\u0646\u0645\u0627\u06CC\u06CC \u0628\u0647 \u0646\u0627\u062D\u06CC\u0647 \u0627\u0646\u062A\u062E\u0627\u0628\u200C\u0634\u062F\u0647",Px="\u0628\u0632\u0631\u06AF\u200C\u0646\u0645\u0627\u06CC\u06CC \u0645\u062A\u0646\u0627\u0633\u0628 \u0628\u0627 \u0635\u0641\u062D\u0647",Mx="\u0628\u0632\u0631\u06AF\u200C\u0646\u0645\u0627\u06CC\u06CC \u0628\u0647",Ex="\u062D\u0627\u0644\u062A \u062A\u0627\u0631\u06CC\u06A9",Bx="\u062D\u0627\u0644\u062A \u062A\u0645\u0631\u06A9\u0632",Rx="\u062D\u0627\u0644\u062A \u0639\u06CC\u0628\u200C\u06CC\u0627\u0628\u06CC",Ax="\u0646\u0645\u0627\u06CC\u0634 \u062E\u0637\u0648\u0637 \u0631\u0627\u0647\u0646\u0645\u0627",Lx="\u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0627\u0632 \u062D\u0627\u0644\u062A \u0627\u0646\u062A\u062E\u0627\u0628 CAD",Hx="\u0628\u0627\u0632 \u0646\u06AF\u0647\u200C\u062F\u0627\u0634\u062A\u0646 \u0645\u0646\u0648\u06CC \u0633\u0628\u06A9\u200C\u0647\u0627",zx="\u0647\u0645\u06CC\u0634\u0647 \u0646\u0642\u0627\u0637 \u0686\u0633\u0628\u0627\u0646 \u0631\u0627 \u0646\u0634\u0627\u0646 \u0628\u062F\u0647",Ox="\u062F\u0633\u062A\u06AF\u06CC\u0631\u0647\u200C\u0647\u0627\u06CC \u0686\u0631\u062E\u0634",Fx="\u062F\u0633\u062A\u06AF\u06CC\u0631\u0647\u200C\u0647\u0627\u06CC \u0627\u062A\u0635\u0627\u0644\u200C\u062F\u0647\u0646\u062F\u0647",jx="\u062F\u0633\u062A\u06AF\u06CC\u0631\u0647\u200C\u0647\u0627\u06CC \u062A\u06A9\u062B\u06CC\u0631",Gx="\u0648\u0627\u06AF\u0631\u062F\u0627\u0646\u06CC",Vx="\u0627\u0646\u062C\u0627\u0645 \u062F\u0648\u0628\u0627\u0631\u0647",$x="\u0628\u0631\u06CC\u062F\u0646",Nx="\u06A9\u067E\u06CC",Wx="\u062C\u0627\u06CC\u200C\u06AF\u0630\u0627\u0631\u06CC",Ux="\u06A9\u067E\u06CC \u0628\u0647\u200C\u0639\u0646\u0648\u0627\u0646",Kx="\u062E\u0631\u0648\u062C\u06CC\u200C\u06AF\u0631\u0641\u062A\u0646 \u0628\u0647\u200C\u0639\u0646\u0648\u0627\u0646",_x="\u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u0645\u0647",Yx="\u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u06CC\u0686\u200C\u06CC\u06A9",Zx="\u062D\u0630\u0641",Xx="\u067E\u0631\u0648\u0698\u0647 \u062C\u062F\u06CC\u062F",qx="\u0628\u0627\u0632\u06A9\u0631\u062F\u0646",Jx="\u0630\u062E\u06CC\u0631\u0647",Qx="\u0630\u062E\u06CC\u0631\u0647 \u0628\u0647\u200C\u0639\u0646\u0648\u0627\u0646",e0="\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u0631\u0633\u0627\u0646\u0647",t0="\u0627\u06CC\u062C\u0627\u062F \u0628\u0631\u06AF\u0647",n0="\u0628\u0631\u06AF\u0647 \u062C\u062F\u06CC\u062F",o0="\u0646\u0627\u0645 \u0628\u0631\u06AF\u0647",r0="\u062A\u06A9\u062B\u06CC\u0631\u06A9\u0631\u062F\u0646",s0="\u06AF\u0632\u06CC\u0646\u0647\u200C\u0647\u0627\u06CC \u0634\u06A9\u0644",i0="\u0634\u06A9\u0644\u200C\u0647\u0627",a0="\u0644\u063A\u0648",l0="\u06A9\u067E\u06CC\u200C\u06A9\u0631\u062F\u0646 \u067E\u06CC\u0648\u0646\u062F \u062F\u0639\u0648\u062A",d0="\u06A9\u067E\u06CC\u200C\u06A9\u0631\u062F\u0646 \u067E\u06CC\u0648\u0646\u062F \u063A\u06CC\u0631\u0642\u0627\u0628\u0644 \u0648\u06CC\u0631\u0627\u06CC\u0634",c0="\u0627\u06CC\u062C\u0627\u062F \u06CC\u06A9 \u067E\u0631\u0648\u0698\u0647 \u0686\u0646\u062F\u0646\u0641\u0631\u0647",p0="\u06A9\u067E\u06CC \u0628\u0647 \u067E\u0631\u0648\u0698\u0647 \u0686\u0646\u062F\u0646\u0641\u0631\u0647",u0="\u0627\u0646\u062A\u062E\u0627\u0628",h0="\u067E\u0627\u06A9\u200C\u06A9\u0646",m0="\u0631\u0633\u0645",g0="\u0641\u0650\u0644\u0650\u0634",f0="\u0645\u062A\u0646",S0="\u0628\u0631\u06AF\u0647 \u0686\u0633\u0628\u0627\u0646",b0="\u0686\u0647\u0627\u0631\u06AF\u0648\u0634",T0="\u06AF\u0631\u062F\u06CC",y0="\u0633\u0647\u200C\u06AF\u0648\u0634",w0="\u062E\u0637",x0="\u0686\u0631\u062E\u0627\u0646\u062F\u0646",k0="\u0642\u0641\u0644\u200C\u06A9\u0631\u062F\u0646 \u0646\u0633\u0628\u062A \u0627\u0628\u0639\u0627\u062F",v0="\u0627\u062C\u0627\u0632\u0647 \u062A\u063A\u06CC\u06CC\u0631 \u0646\u0633\u0628\u062A \u0627\u0628\u0639\u0627\u062F",I0="\u06AF\u0631\u0648\u0647\u200C\u0628\u0646\u062F\u06CC",C0="\u0644\u063A\u0648 \u06AF\u0631\u0648\u0647\u200C\u0628\u0646\u062F\u06CC",D0="\u0627\u0646\u062A\u0642\u0627\u0644 \u0628\u0647 \u0639\u0642\u0628",P0="\u0627\u0646\u062A\u0642\u0627\u0644 \u0628\u0647 \u0633\u0645\u062A \u0639\u0642\u0628",M0="\u0627\u0646\u062A\u0642\u0627\u0644 \u0628\u0647 \u0633\u0645\u062A \u062C\u0644\u0648",E0="\u0627\u0646\u062A\u0642\u0627\u0644 \u0628\u0647 \u062C\u0644\u0648",B0="\u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC \u0632\u0627\u0648\u06CC\u0647",R0="\u0642\u0641\u0644",A0="\u0628\u0627\u0632\u06A9\u0631\u062F\u0646 \u0642\u0641\u0644",L0="\u062A\u0631\u0627\u0632 / \u067E\u062E\u0634\u200C\u06A9\u0631\u062F\u0646",H0="\u0627\u0646\u062A\u0642\u0627\u0644 \u0628\u0647 \u0628\u0631\u06AF\u0647",z0="\u0648\u0627\u0631\u0648\u0646\u0647\u200C\u0633\u0627\u0632\u06CC \u0627\u0641\u0642\u06CC",O0="\u0648\u0627\u0631\u0648\u0646\u0647\u200C\u0633\u0627\u0632\u06CC \u0639\u0645\u0648\u062F\u06CC",F0="\u062D\u0631\u06A9\u062A\u200C\u062F\u0627\u062F\u0646",j0="\u0628\u0647 \u062C\u0644\u0648",G0="\u0628\u0647 \u0633\u0645\u062A \u062C\u0644\u0648",V0="\u0628\u0647 \u0633\u0645\u062A \u0639\u0642\u0628",$0="\u0628\u0647 \u0639\u0642\u0628",N0="\u0632\u0628\u0627\u0646",W0="\u06CC\u0627\u062F\u06AF\u06CC\u0631\u06CC \u0628\u06CC\u0634\u062A\u0631",U0="\u0645\u0648\u0642\u0639\u06CC\u062A \u0646\u0648\u0627\u0631 \u0627\u0628\u0632\u0627\u0631",K0="\u067E\u0627\u06CC\u06CC\u0646",_0="\u0686\u067E",Y0="\u0631\u0627\u0633\u062A",Z0="\u0628\u0627\u0644\u0627",X0="\u0628\u0631\u06AF\u0647",q0="\u0645\u06CC\u0627\u0646\u200C\u0628\u0631\u0647\u0627\u06CC \u0635\u0641\u062D\u0647\u200C\u06A9\u0644\u06CC\u062F",J0="\u062C\u0633\u062A\u062C\u0648",Q0="\u0628\u0627\u0631\u06AF\u06CC\u0631\u06CC{dots}",ek="\u062E\u0631\u0648\u062C\u06CC\u200C\u06AF\u0631\u0641\u062A\u0646 \u067E\u0633\u200C\u0632\u0645\u06CC\u0646\u0647",tk="\u0634\u0641\u0627\u0641",nk="\u062E\u0648\u062F\u06A9\u0627\u0631",ok="\u0631\u0648\u0634\u0646",rk="\u062A\u0627\u0631\u06CC\u06A9",sk="\u06AF\u06CC\u062A\u200C\u0647\u0627\u0628",ik="\u062A\u0648\u06CC\u06CC\u062A\u0631",ak="\u062F\u06CC\u0633\u06A9\u0648\u0631\u062F",lk="\u062A\u0635\u0648\u06CC\u0631",dk="\u062A\u0631\u0627\u0632 \u0628\u0647 \u0686\u067E",ck="\u062A\u0631\u0627\u0632 \u0628\u0647 \u0645\u0631\u06A9\u0632 \u0627\u0641\u0642\u06CC",pk="\u062A\u0631\u0627\u0632 \u0628\u0647 \u0631\u0627\u0633\u062A",uk="\u062A\u0631\u0627\u0632 \u0628\u0647 \u0628\u0627\u0644\u0627",hk="\u062A\u0631\u0627\u0632 \u0628\u0647 \u0645\u0631\u06A9\u0632 \u0639\u0645\u0648\u062F\u06CC",mk="\u062A\u0631\u0627\u0632 \u0628\u0647 \u067E\u0627\u06CC\u06CC\u0646",gk="\u067E\u062E\u0634\u200C\u06A9\u0631\u062F\u0646 \u0627\u0641\u0642\u06CC",fk="\u067E\u062E\u0634\u200C\u06A9\u0631\u062F\u0646 \u0639\u0645\u0648\u062F\u06CC",Sk="\u06A9\u0634\u200C\u0622\u0648\u0631\u062F\u0646 \u0627\u0641\u0642\u06CC",bk="\u06A9\u0634\u200C\u0622\u0648\u0631\u062F\u0646 \u0639\u0645\u0648\u062F\u06CC",Tk="\u0622\u06CC\u0627 \u0645\u06CC\u200C\u062E\u0648\u0627\u0647\u06CC\u062F \u067E\u0631\u0648\u0698\u0647 \u0641\u0639\u0644\u06CC \u062E\u0648\u062F \u0631\u0627 \u0630\u062E\u06CC\u0631\u0647 \u06A9\u0646\u06CC\u062F\u061F",yk="\u0622\u06CC\u0627 \u0645\u06CC\u200C\u062E\u0648\u0627\u0647\u06CC\u062F \u06A9\u0647 \u062A\u063A\u06CC\u06CC\u0631\u0627\u062A \u0631\u0627 \u062F\u0631 \u067E\u0631\u0648\u0698\u0647 \u0641\u0639\u0644\u06CC \u062E\u0648\u062F \u0630\u062E\u06CC\u0631\u0647 \u06A9\u0646\u06CC\u062F\u061F",wk="\u0644\u063A\u0648",xk="\u062E\u06CC\u0631",kk="\u0628\u0644\u0647",vk="\u0646\u0627\u0645 \u067E\u0631\u0648\u0646\u062F\u0647 \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F",Ik="\u0627\u0645\u062A\u062D\u0627\u0646\u200C\u06A9\u0631\u062F\u0646 tldraw \u062C\u062F\u06CC\u062F",Ck="\u0633\u0641\u06CC\u062F",Dk="\u062E\u0627\u06A9\u0633\u062A\u0631\u06CC \u0631\u0648\u0634\u0646",Pk="\u062E\u0627\u06A9\u0633\u062A\u0631\u06CC",Mk="\u0645\u0634\u06A9\u06CC",Ek="\u0633\u0628\u0632",Bk="\u0641\u06CC\u0631\u0648\u0632\u0647\u200C\u0627\u06CC",Rk="\u0622\u0628\u06CC",Ak="\u0646\u06CC\u0644\u06CC",Lk="\u0628\u0646\u0641\u0634",Hk="\u0642\u0631\u0645\u0632",zk="\u0646\u0627\u0631\u0646\u062C\u06CC",Ok="\u0632\u0631\u062F",Fk="\u062A\u0648\u067E\u064F\u0631",jk="\u062E\u0637\u200C\u0686\u06CC\u0646",Gk="\u0646\u0642\u0637\u0647\u200C\u0686\u06CC\u0646",Vk="\u06A9\u0648\u0686\u06A9",$k="\u0645\u062A\u0648\u0633\u0637",Nk="\u0628\u0632\u0631\u06AF",pl={"style.menu.color":ix,"style.menu.fill":ax,"style.menu.dash":lx,"style.menu.size":dx,"style.menu.keep.open":cx,"style.menu.font":px,"style.menu.align":ux,styles:hx,"zoom.in":mx,"zoom.out":gx,to:fx,"menu.tools":Sx,"menu.transform":bx,"menu.file":Tx,"menu.edit":yx,"menu.view":wx,"menu.preferences":xx,"menu.sign.in":kx,"menu.sign.out":vx,"become.a.sponsor":Ix,"zoom.to.content":Cx,"zoom.to.selection":Dx,"zoom.to.fit":Px,"zoom.to":Mx,"preferences.dark.mode":Ex,"preferences.focus.mode":Bx,"preferences.debug.mode":Rx,"preferences.show.grid":Ax,"preferences.use.cad.selection":Lx,"preferences.keep.stylemenu.open":Hx,"preferences.always.show.snaps":zx,"preferences.rotate.handles":Ox,"preferences.binding.handles":Fx,"preferences.clone.handles":jx,undo:Gx,redo:Vx,cut:$x,copy:Nx,paste:Wx,"copy.as":Ux,"export.as":Kx,"select.all":_x,"select.none":Yx,delete:Zx,"new.project":Xx,open:qx,save:Jx,"save.as":Qx,"upload.media":e0,"create.page":t0,"new.page":n0,"page.name":o0,duplicate:r0,"shape.options":s0,shapes:i0,cancel:a0,"copy.invite.link":l0,"copy.readonly.link":d0,"create.multiplayer.project":c0,"copy.multiplayer.project":p0,select:u0,eraser:h0,draw:m0,arrow:g0,text:f0,sticky:S0,rectangle:b0,ellipse:T0,triangle:y0,line:w0,rotate:x0,"lock.aspect.ratio":k0,"unlock.aspect.ratio":v0,group:I0,ungroup:C0,"move.to.back":D0,"move.backward":P0,"move.forward":M0,"move.to.front":E0,"reset.angle":B0,lock:R0,unlock:A0,"align.distribute":L0,"move.to.page":H0,"flip.horizontal":z0,"flip.vertical":O0,move:F0,"to.front":j0,forward:G0,backward:V0,back:$0,language:N0,"translation.link":W0,"dock.position":U0,bottom:K0,left:_0,right:Y0,top:Z0,page:X0,"keyboard.shortcuts":q0,search:J0,loading:Q0,"export.background":ek,transparent:tk,auto:nk,light:ok,dark:rk,github:sk,twitter:ik,discord:ak,image:lk,"align.left":dk,"align.center.x":ck,"align.right":pk,"align.top":uk,"align.center.y":hk,"align.bottom":mk,"distribute.x":gk,"distribute.y":fk,"stretch.x":Sk,"stretch.y":bk,"dialog.save.firsttime":Tk,"dialog.save.again":yk,"dialog.cancel":wk,"dialog.no":xk,"dialog.yes":kk,"enter.file.name":vk,"tldraw-beta":Ik,white:Ck,lightGray:Dk,gray:Pk,black:Mk,green:Ek,cyan:Bk,blue:Rk,indigo:Ak,violet:Lk,red:Hk,orange:zk,yellow:Ok,solid:Fk,dashed:jk,dotted:Gk,small:Vk,medium:$k,large:Nk};var Wk="Couleur",Uk="Remplir",Kk="Bordure",_k="Taille",Yk="Toujours afficher le menu",Zk="Police",Xk="Alignement",qk="Styles",Jk="Zoom avant",Qk="Zoom arri\xE8re",e1="\xC0",t1="Outils",n1="Transformation",o1="Fichier",r1="\xC9dition",s1="Afficher",i1="Pr\xE9f\xE9rences",a1="S'authentifier",l1="Se d\xE9connecter",d1="Devenir un sponsor",c1="Retour au contenu",p1="Ajuster le zoom \xE0 la s\xE9lection",u1="Adapter le zoom au contenu",h1="R\xE9tablir le zoom \xE0",m1="Mode sombre",g1="Mode focus",f1="Afficher la barre d\xE9veloppeur",S1="Afficher la grille",b1="Utiliser la s\xE9lection CAD",T1="Toujours afficher le menu styles",y1="Afficher les rep\xE8res dynamiques",w1="Manier la rotation",x1="Manier les liaisons",k1="Manier le clonage",v1="Annuler",I1="R\xE9tablir",C1="Couper",D1="Copier",P1="Coller",M1="Copier au format",E1="Exporter au format",B1="Tout s\xE9lectionner",R1="Tout d\xE9s\xE9lectionner",A1="Supprimer",L1="Nouveau project",H1="Ouvrir",z1="Enregistrer",O1="Enregistrer sous",F1="Importer un m\xE9dia",j1="Cr\xE9er une page",G1="Nouvelle Page",V1="Nom de la page",$1="Dupliquer",N1="Annuler",W1="Copier le lien d'invitation",U1="Copier le lien en lecture seule d'invitation",K1="Cr\xE9er un project multi-joueurs",_1="Copier dans un projet multi-joueurs",Y1="S\xE9lection",Z1="Gomme",X1="Crayon",q1="Fl\xE8che",J1="Texte",Q1="Note",ev="Rectangle",tv="Cercle",nv="Triangle",ov="Ligne",rv="Rotation",sv="Verrouiller les proportions",iv="D\xE9verrouiller les proportions",av="Grouper",lv="D\xE9grouper",dv="D\xE9placer \xE0 l'arri\xE8re-plan",cv="Reculer d'un plan",pv="Avancer d'un plan",uv="Placer au premier plan",hv="R\xE9initialiser la rotation",mv="Verrouiller",gv="D\xE9verrouiller",fv="Alignement / R\xE9partion",Sv="D\xE9placer vers la page",bv="Retourner horizontalement",Tv="Retourner verticalement",yv="Disposition",wv="Placer au premier plan",xv="Avancer d'un plan",kv="Reculer d'un plan",vv="D\xE9placer \xE0 l'arri\xE8re-plan",Iv="Langage",Cv="En savoir plus",Dv="Position du dock",Pv="En bas",Mv="\xC0 gauche",Ev="\xC0 droite",Bv="En haut",Rv="Page",Av="Raccourcis clavier",Lv="Rechercher",Hv="Chargement{dots}",zv="Couleur d'arri\xE8re-plan de l'export",Ov="Transparent",Fv="Automatique",jv="Clair",Gv="Sombre",ul={"style.menu.color":Wk,"style.menu.fill":Uk,"style.menu.dash":Kk,"style.menu.size":_k,"style.menu.keep.open":Yk,"style.menu.font":Zk,"style.menu.align":Xk,styles:qk,"zoom.in":Jk,"zoom.out":Qk,to:e1,"menu.tools":t1,"menu.transform":n1,"menu.file":o1,"menu.edit":r1,"menu.view":s1,"menu.preferences":i1,"menu.sign.in":a1,"menu.sign.out":l1,"become.a.sponsor":d1,"zoom.to.content":c1,"zoom.to.selection":p1,"zoom.to.fit":u1,"zoom.to":h1,"preferences.dark.mode":m1,"preferences.focus.mode":g1,"preferences.debug.mode":f1,"preferences.show.grid":S1,"preferences.use.cad.selection":b1,"preferences.keep.stylemenu.open":T1,"preferences.always.show.snaps":y1,"preferences.rotate.handles":w1,"preferences.binding.handles":x1,"preferences.clone.handles":k1,undo:v1,redo:I1,cut:C1,copy:D1,paste:P1,"copy.as":M1,"export.as":E1,"select.all":B1,"select.none":R1,delete:A1,"new.project":L1,open:H1,save:z1,"save.as":O1,"upload.media":F1,"create.page":j1,"new.page":G1,"page.name":V1,duplicate:$1,cancel:N1,"copy.invite.link":W1,"copy.readonly.link":U1,"create.multiplayer.project":K1,"copy.multiplayer.project":_1,select:Y1,eraser:Z1,draw:X1,arrow:q1,text:J1,sticky:Q1,rectangle:ev,ellipse:tv,triangle:nv,line:ov,rotate:rv,"lock.aspect.ratio":sv,"unlock.aspect.ratio":iv,group:av,ungroup:lv,"move.to.back":dv,"move.backward":cv,"move.forward":pv,"move.to.front":uv,"reset.angle":hv,lock:mv,unlock:gv,"align.distribute":fv,"move.to.page":Sv,"flip.horizontal":bv,"flip.vertical":Tv,move:yv,"to.front":wv,forward:xv,backward:kv,back:vv,language:Iv,"translation.link":Cv,"dock.position":Dv,bottom:Pv,left:Mv,right:Ev,top:Bv,page:Rv,"keyboard.shortcuts":Av,search:Lv,loading:Hv,"export.background":zv,transparent:Ov,auto:Fv,light:jv,dark:Gv};var Vv="Cor",$v="Recheo",Nv="Li\xF1a",Wv="Tama\xF1o",Uv="Manter aberto",Kv="Fonte",_v="Ali\xF1amento",Yv="Estilos",Zv="Achegar",Xv="Afastar",qv="A",Jv="Ferramentas",Qv="Transformar",eI="Arquivo",tI="Editar",nI="Ver",oI="Preferencias",rI="Iniciar sesi\xF3n",sI="Pechar sesi\xF3n",iI="Conv\xEDrtete en patrocinador",aI="Achegar ao contido",lI="Achegar \xE1 selecci\xF3n",dI="Axustar \xE1 vent\xE1",cI="Achegar a",pI="Modo escuro",uI="Modo concentraci\xF3n",hI="Modo depuraci\xF3n",mI="Amosar cuadr\xEDcula",gI="Usar selecci\xF3n CAD",fI="Manter men\xFA de estilos aberto",SI="Amosar puntos de axuste",bI="Control de rotaci\xF3n",TI="Control de vinculaci\xF3n",yI="Control de clonaci\xF3n",wI="Desfacer",xI="Refacer",kI="Cortar",vI="Copiar",II="Pegar",CI="Copiar como",DI="Exportar como",PI="Selecionar todo",MI="Selecionar nada",EI="Borrar",BI="Novo Proxecto",RI="Abrir",AI="Gardar",LI="Gardar como",HI="Subir medios",zI="Crear p\xE1xina",OI="Nova p\xE1xina",FI="Nome de p\xE1xina",jI="Duplicar",GI="Opci\xF3ns de formas",VI="Formas",$I="Cancelar",NI="Copiar invitaci\xF3n",WI="Copiar invitaci\xF3n (s\xF3 lectura)",UI="Crear proxecto multixogador",KI="Copiar proxecto multixogador",_I="Seleccionar",YI="Borrador",ZI="Debuxar",XI="Frecha",qI="Texto",JI="Pegatina",QI="Rect\xE1ngulo",eC="Elipse",tC="Tri\xE1ngulo",nC="Li\xF1a",oC="Rotar",rC="Bloquear relaci\xF3n de aspecto",sC="Desbloquear relaci\xF3n de aspecto",iC="Agrupar",aC="Desagrupar",lC="Mover ao fondo",dC="Mover atr\xE1s",cC="Mover adiante",pC="Mover ao fronte",uC="Restablecer \xE1ngulo",hC="Bloquear",mC="Desbloquear",gC="Ali\xF1ar / Distribu\xEDr",fC="Mover \xE1 p\xE1xina",SC="Voltear horizontalmente",bC="Voltear verticalmente",TC="Mover",yC="Ao fronte",wC="Adilante",xC="Atr\xE1s",kC="Fondo",vC="Idioma",IC="Saber m\xE1is",CC="Posici\xF3n do dock",DC="Abaixo",PC="Esquerda",MC="Dereita",EC="Arriba",BC="P\xE1xina",RC="Atallos de teclado",AC="Buscar",LC="Cargando{dots}",HC="Exportar fondo",zC="Transparente",OC="Auto",FC="Claro",jC="Escuro",GC="Github",VC="Twitter",$C="Discord",NC="Imaxe",WC="Ali\xF1ar \xE1 esquerda",UC="Ali\xF1ar ao centro horizontalmente",KC="Ali\xF1ar \xE1 dereita",_C="Ali\xF1ar arriba",YC="Ali\xF1ar ao centro verticalmente",ZC="Ali\xF1ar abaixo",XC="Distribu\xEDr horizontalmente",qC="Distribu\xEDr verticalmente",JC="Estirar horizontalmente",QC="Estirar verticalmente",eD="Queres gardar o proxecto actual?",tD="Queres gardar os cambios ao proxecto actual?",nD="Cancelar",oD="No",rD="S\xED",sD="Introduce o nome do arquivo",iD="Proba o novo tldraw",aD="Branco",lD="Gris claro",dD="Gris",cD="Negro",pD="Verde",uD="Cian",hD="Azul",mD="Indigo",gD="Violeta",fD="Vermello",SD="Laranxa",bD="Amarelo",TD="Cont\xEDnuo",yD="Discont\xEDnuo",wD="Punteado",xD="Pequeno",kD="Mediano",vD="Grande",hl={"style.menu.color":Vv,"style.menu.fill":$v,"style.menu.dash":Nv,"style.menu.size":Wv,"style.menu.keep.open":Uv,"style.menu.font":Kv,"style.menu.align":_v,styles:Yv,"zoom.in":Zv,"zoom.out":Xv,to:qv,"menu.tools":Jv,"menu.transform":Qv,"menu.file":eI,"menu.edit":tI,"menu.view":nI,"menu.preferences":oI,"menu.sign.in":rI,"menu.sign.out":sI,"become.a.sponsor":iI,"zoom.to.content":aI,"zoom.to.selection":lI,"zoom.to.fit":dI,"zoom.to":cI,"preferences.dark.mode":pI,"preferences.focus.mode":uI,"preferences.debug.mode":hI,"preferences.show.grid":mI,"preferences.use.cad.selection":gI,"preferences.keep.stylemenu.open":fI,"preferences.always.show.snaps":SI,"preferences.rotate.handles":bI,"preferences.binding.handles":TI,"preferences.clone.handles":yI,undo:wI,redo:xI,cut:kI,copy:vI,paste:II,"copy.as":CI,"export.as":DI,"select.all":PI,"select.none":MI,delete:EI,"new.project":BI,open:RI,save:AI,"save.as":LI,"upload.media":HI,"create.page":zI,"new.page":OI,"page.name":FI,duplicate:jI,"shape.options":GI,shapes:VI,cancel:$I,"copy.invite.link":NI,"copy.readonly.link":WI,"create.multiplayer.project":UI,"copy.multiplayer.project":KI,select:_I,eraser:YI,draw:ZI,arrow:XI,text:qI,sticky:JI,rectangle:QI,ellipse:eC,triangle:tC,line:nC,rotate:oC,"lock.aspect.ratio":rC,"unlock.aspect.ratio":sC,group:iC,ungroup:aC,"move.to.back":lC,"move.backward":dC,"move.forward":cC,"move.to.front":pC,"reset.angle":uC,lock:hC,unlock:mC,"align.distribute":gC,"move.to.page":fC,"flip.horizontal":SC,"flip.vertical":bC,move:TC,"to.front":yC,forward:wC,backward:xC,back:kC,language:vC,"translation.link":IC,"dock.position":CC,bottom:DC,left:PC,right:MC,top:EC,page:BC,"keyboard.shortcuts":RC,search:AC,loading:LC,"export.background":HC,transparent:zC,auto:OC,light:FC,dark:jC,github:GC,twitter:VC,discord:$C,image:NC,"align.left":WC,"align.center.x":UC,"align.right":KC,"align.top":_C,"align.center.y":YC,"align.bottom":ZC,"distribute.x":XC,"distribute.y":qC,"stretch.x":JC,"stretch.y":QC,"dialog.save.firsttime":eD,"dialog.save.again":tD,"dialog.cancel":nD,"dialog.no":oD,"dialog.yes":rD,"enter.file.name":sD,"tldraw-beta":iD,white:aD,lightGray:lD,gray:dD,black:cD,green:pD,cyan:uD,blue:hD,indigo:mD,violet:gD,red:fD,orange:SD,yellow:bD,solid:TD,dashed:yD,dotted:wD,small:xD,medium:kD,large:vD};var ID="\u05E6\u05D1\u05E2",CD="\u05DE\u05DC\u05D0",DD="\u05D2\u05D1\u05D5\u05DC",PD="\u05D2\u05D5\u05D3\u05DC",MD="\u05D4\u05E9\u05D0\u05E8 \u05E4\u05EA\u05D5\u05D7",ED="\u05D2\u05D5\u05E4\u05DF",BD="\u05D9\u05D9\u05E9\u05D5\u05E8",RD="\u05E2\u05D9\u05E6\u05D5\u05D1",AD="\u05D4\u05D2\u05D3\u05DC \u05EA\u05E6\u05D5\u05D2\u05D4",LD="\u05D4\u05E7\u05D8\u05DF \u05EA\u05E6\u05D5\u05D2\u05D4",HD="\u05DC",zD="\u05E7\u05D5\u05D1\u05E5",OD="\u05E2\u05E8\u05D9\u05DB\u05D4",FD="\u05EA\u05E6\u05D5\u05D2\u05D4",jD="\u05DE\u05D0\u05E4\u05D9\u05D9\u05E0\u05D9\u05DD",GD="\u05D4\u05D9\u05E8\u05E9\u05DD",VD="\u05D4\u05EA\u05E0\u05EA\u05E7",$D="\u05DE\u05EA\u05DF \u05D7\u05E1\u05D5\u05EA",ND="\u05D6\u05D5\u05DD \u05DC\u05D1\u05D7\u05D9\u05E8\u05D4",WD="\u05D6\u05D5\u05DD \u05DC\u05D4\u05EA\u05D0\u05DE\u05D4",UD="\u05D6\u05D5\u05DD \u05DC",KD="\u05DE\u05E6\u05D1 \u05D7\u05E9\u05D5\u05DA",_D="\u05DE\u05E6\u05D1 \u05E4\u05D5\u05E7\u05D5\u05E1",YD="\u05DE\u05E6\u05D1 \u05D3\u05D9\u05D1\u05D0\u05D2",ZD="(\u05D2\u05E8\u05D9\u05D3)\u05D4\u05E8\u05D0\u05D4 \u05E8\u05E9\u05EA \u05E2\u05D9\u05DE\u05D5\u05D3",XD="\u05E1\u05D9\u05DE\u05D5\u05DF CAD",qD="\u05D4\u05E9\u05D0\u05E8 \u05EA\u05E4\u05E8\u05D9\u05D8 \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E4\u05EA\u05D5\u05D7",JD="\u05D4\u05E8\u05D0\u05D4 \u05E7\u05D5\u05D5\u05D9 \u05DE\u05EA\u05D0\u05E8",QD="\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E1\u05D9\u05D1\u05D5\u05D1",eP="\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E7\u05E9\u05D9\u05E8\u05D4",tP="\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E9\u05D9\u05DB\u05E4\u05D5\u05DC",nP="\u05D1\u05D8\u05DC",oP="\u05E2\u05E9\u05D4 \u05DE\u05D7\u05D3\u05E9",rP="\u05D2\u05D6\u05D5\u05E8",sP="\u05D4\u05E2\u05EA\u05E7",iP="\u05D4\u05D3\u05D1\u05E7",aP="\u05D4\u05E2\u05EA\u05E7 \u05DB",lP="\u05D9\u05D9\u05E6\u05D0 \u05DB",dP="\u05D1\u05D7\u05E8 \u05D4\u05DB\u05DC",cP="\u05D1\u05D8\u05DC \u05D1\u05D7\u05D9\u05E8\u05D4",pP="\u05DE\u05D7\u05E7",uP="\u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05D7\u05D3\u05E9",hP="\u05E4\u05EA\u05D7",mP="\u05E9\u05DE\u05D5\u05E8",gP="\u05E9\u05DE\u05D5\u05E8 \u05DB",fP="\u05D4\u05E2\u05DC\u05D0\u05EA \u05DE\u05D3\u05D9\u05D4",SP="\u05E6\u05D5\u05E8 \u05D3\u05E3",bP="\u05D3\u05E3 \u05D7\u05D3\u05E9",TP="\u05E9\u05DD \u05D4\u05D3\u05E3",yP="\u05E9\u05DB\u05E4\u05DC",wP="\u05D1\u05D8\u05DC",xP="\u05D4\u05E2\u05EA\u05E7 \u05E7\u05D9\u05E9\u05D5\u05E8 \u05D4\u05D6\u05DE\u05E0\u05D4",kP="\u05E6\u05D5\u05E8 \u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05E8\u05D1 \u05DE\u05E9\u05EA\u05EA\u05E4\u05D9\u05DD",vP="\u05D4\u05E2\u05EA\u05E7 \u05DC\u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05E8\u05D1 \u05DE\u05E9\u05EA\u05EA\u05E4\u05D9\u05DD",IP="\u05E1\u05DE\u05DF",CP="\u05DE\u05D7\u05E7",DP="\u05E6\u05D9\u05D9\u05E8",PP="\u05D7\u05E5",MP="\u05D8\u05E7\u05E1\u05D8",EP="\u05D3\u05D1\u05D9\u05E7\u05D9",BP="\u05DE\u05E8\u05D5\u05D1\u05E2",RP="\u05D0\u05DC\u05D9\u05E4\u05E1\u05D4",AP="\u05DE\u05E9\u05D5\u05DC\u05E9",LP="\u05E7\u05D5",HP="\u05E1\u05D5\u05D1\u05D1",zP="\u05E0\u05E2\u05DC \u05D9\u05D7\u05E1 \u05E8\u05D5\u05D7\u05D1-\u05D2\u05D5\u05D1\u05D4",OP="\u05E9\u05D7\u05E8\u05E8 \u05E0\u05E2\u05D9\u05DC\u05EA \u05D9\u05D7\u05E1 \u05E8\u05D5\u05D7\u05D1-\u05D2\u05D5\u05D1\u05D4",FP="\u05E7\u05D1\u05E5",jP="\u05D1\u05D8\u05DC \u05E7\u05D9\u05D1\u05D5\u05E5",GP="\u05D4\u05D1\u05D0 \u05DC\u05EA\u05D7\u05EA\u05D9\u05EA",VP="\u05D4\u05D6\u05D6 \u05D0\u05D7\u05D5\u05E8\u05D4",$P="\u05D4\u05D6\u05D6 \u05E7\u05D3\u05D9\u05DE\u05D4",NP="\u05D4\u05D1\u05D0 \u05DC\u05D7\u05D6\u05D9\u05EA",WP="\u05D0\u05E4\u05E1 \u05D6\u05D5\u05D5\u05D9\u05EA",UP="\u05E0\u05E2\u05DC",KP="\u05E9\u05D7\u05E8\u05E8 \u05E0\u05E2\u05D9\u05DC\u05D4",_P="\u05D4\u05D6\u05D6 \u05DC\u05D3\u05E3",YP="\u05D4\u05E4\u05D5\u05DA \u05D0\u05D5\u05E4\u05E7\u05D9\u05EA",ZP="\u05D4\u05E4\u05D5\u05DA \u05D0\u05E0\u05DB\u05D9\u05EA",XP="\u05D4\u05D6\u05D6",qP="\u05D4\u05D1\u05D0 \u05DC\u05E7\u05D3\u05D9\u05DE\u05D4",JP="\u05E7\u05D3\u05D9\u05DE\u05D4",QP="\u05D0\u05D7\u05D5\u05E8\u05D4",eM="\u05D1\u05D7\u05D6\u05E8\u05D4",tM="\u05E9\u05E4\u05D4",ml={"style.menu.color":ID,"style.menu.fill":CD,"style.menu.dash":DD,"style.menu.size":PD,"style.menu.keep.open":MD,"style.menu.font":ED,"style.menu.align":BD,styles:RD,"zoom.in":AD,"zoom.out":LD,to:HD,"menu.file":zD,"menu.edit":OD,"menu.view":FD,"menu.preferences":jD,"menu.sign.in":GD,"menu.sign.out":VD,"become.a.sponsor":$D,"zoom.to.selection":ND,"zoom.to.fit":WD,"zoom.to":UD,"preferences.dark.mode":KD,"preferences.focus.mode":_D,"preferences.debug.mode":YD,"preferences.show.grid":ZD,"preferences.use.cad.selection":XD,"preferences.keep.stylemenu.open":qD,"preferences.always.show.snaps":JD,"preferences.rotate.handles":QD,"preferences.binding.handles":eP,"preferences.clone.handles":tP,undo:nP,redo:oP,cut:rP,copy:sP,paste:iP,"copy.as":aP,"export.as":lP,"select.all":dP,"select.none":cP,delete:pP,"new.project":uP,open:hP,save:mP,"save.as":gP,"upload.media":fP,"create.page":SP,"new.page":bP,"page.name":TP,duplicate:yP,cancel:wP,"copy.invite.link":xP,"create.multiplayer.project":kP,"copy.multiplayer.project":vP,select:IP,eraser:CP,draw:DP,arrow:PP,text:MP,sticky:EP,rectangle:BP,ellipse:RP,triangle:AP,line:LP,rotate:HP,"lock.aspect.ratio":zP,"unlock.aspect.ratio":OP,group:FP,ungroup:jP,"move.to.back":GP,"move.backward":VP,"move.forward":$P,"move.to.front":NP,"reset.angle":WP,lock:UP,unlock:KP,"move.to.page":_P,"flip.horizontal":YP,"flip.vertical":ZP,move:XP,"to.front":qP,forward:JP,backward:QP,back:eM,language:tM};var nM="Colore",oM="Riempi",rM="Tratteggo",sM="Dimensione",iM="Mantieni aperto",aM="Font",lM="Allineamento",dM="Stile",cM="Ingrandisci",pM="Rimpicciolisci",uM="Imposta",hM="File",mM="Modifica",gM="Visualizzazione",fM="Preferenze",SM="Accedi",bM="Esci",TM="Sponsorizza",yM="Adatta alla selezione",wM="Adatta",xM="Ingrandisci",kM="Modalit\xE0 scura",vM="Modalit\xE0 zen",IM="Modalit\xE0 sviluppatore",CM="Mostra griglia",DM="Selezione CAD",PM="Mantieni menu stile aperto",MM="Mostra sempre le guide",EM="Controlli d'inclinazione",BM="Controlli d'associazione",RM="Controlli di clonazione",AM="Annulla",LM="Ripristina",HM="Taglia",zM="Copia",OM="Incolla",FM="Copia come",jM="Esporta come",GM="Seleziona tutto",VM="Deseleziona tutto",$M="Elimina",NM="Nuovo progetto",WM="Apri",UM="Salva",KM="Salva come",_M="Carica contenuti multimediali",YM="Crea nuova pagina",ZM="Nuova pagina",XM="Nome pagina",qM="Pagina",JM="Duplica",QM="Chiudi",eE="Copia link invito",tE="Crea progetto multiplayer",nE="Trasforma in progetto multiplayer",oE="Seleziona",rE="Gomma",sE="Matita",iE="Freccia",aE="Casella di testo",lE="Post-it",dE="Rettangolo",cE="Ellisse",pE="Triangolo",uE="Linea",hE="Ruota",mE="Blocca rapporto lati",gE="Sblocca rapporto lati",fE="Raggruppa",SE="Separa",bE="Muovi in fondo",TE="Sposta indietro",yE="Sposta avanti",wE="Muovi in fronte",xE="Reimposta angolo",kE="Blocca",vE="Sblocca",IE="Trasferisci a pagina",CE="Ribalta orizzontalmente",DE="Ribalta verticalmente",PE="Sposta",ME="In primo piano",EE="Sposta avanti",BE="Sposta indietro",RE="In fondo",AE="Lingua",LE="Posizione dock",HE="In basso",zE="Sinistra",OE="Destra",FE="In Alto",gl={"style.menu.color":nM,"style.menu.fill":oM,"style.menu.dash":rM,"style.menu.size":sM,"style.menu.keep.open":iM,"style.menu.font":aM,"style.menu.align":lM,styles:dM,"zoom.in":cM,"zoom.out":pM,to:uM,"menu.file":hM,"menu.edit":mM,"menu.view":gM,"menu.preferences":fM,"menu.sign.in":SM,"menu.sign.out":bM,"become.a.sponsor":TM,"zoom.to.selection":yM,"zoom.to.fit":wM,"zoom.to":xM,"preferences.dark.mode":kM,"preferences.focus.mode":vM,"preferences.debug.mode":IM,"preferences.show.grid":CM,"preferences.use.cad.selection":DM,"preferences.keep.stylemenu.open":PM,"preferences.always.show.snaps":MM,"preferences.rotate.handles":EM,"preferences.binding.handles":BM,"preferences.clone.handles":RM,undo:AM,redo:LM,cut:HM,copy:zM,paste:OM,"copy.as":FM,"export.as":jM,"select.all":GM,"select.none":VM,delete:$M,"new.project":NM,open:WM,save:UM,"save.as":KM,"upload.media":_M,"create.page":YM,"new.page":ZM,"page.name":XM,page:qM,duplicate:JM,cancel:QM,"copy.invite.link":eE,"create.multiplayer.project":tE,"copy.multiplayer.project":nE,select:oE,eraser:rE,draw:sE,arrow:iE,text:aE,sticky:lE,rectangle:dE,ellipse:cE,triangle:pE,line:uE,rotate:hE,"lock.aspect.ratio":mE,"unlock.aspect.ratio":gE,group:fE,ungroup:SE,"move.to.back":bE,"move.backward":TE,"move.forward":yE,"move.to.front":wE,"reset.angle":xE,lock:kE,unlock:vE,"move.to.page":IE,"flip.horizontal":CE,"flip.vertical":DE,move:PE,"to.front":ME,forward:EE,backward:BE,back:RE,language:AE,"dock.position":LE,bottom:HE,left:zE,right:OE,top:FE};var jE="\u8272",GE="\u5857\u308A\u3064\u3076\u3057",VE="\u7DDA",$E="\u592A\u3055/\u30B5\u30A4\u30BA",NE="\u5E38\u306B\u8868\u793A",WE="\u30D5\u30A9\u30F3\u30C8",UE="\u914D\u7F6E",KE="\u30B9\u30BF\u30A4\u30EB",_E="\u62E1\u5927",YE="\u7E2E\u5C0F",ZE=" ",XE="\u30D5\u30A1\u30A4\u30EB",qE="\u7DE8\u96C6",JE="\u8868\u793A",QE="\u8A2D\u5B9A",eB="\u30B5\u30A4\u30F3\u30A4\u30F3",tB="\u30B5\u30A4\u30F3\u30A2\u30A6\u30C8",nB="\u652F\u63F4\u3059\u308B",oB="\u9078\u629E\u3057\u305F\u30A2\u30A4\u30C6\u30E0\u306B\u5408\u308F\u305B\u3066\u62E1\u5927",rB="\u62E1\u5927\u3057\u3066\u3059\u3079\u3066\u3092\u8868\u793A",sB="\u62E1\u5927\u7387",iB="\u30C0\u30FC\u30AF\u30E2\u30FC\u30C9",aB="\u30D5\u30A9\u30FC\u30AB\u30B9\u30E2\u30FC\u30C9",lB="\u30C7\u30D0\u30C3\u30B0\u30E2\u30FC\u30C9",dB="\u30B0\u30EA\u30C3\u30C9\u3092\u8868\u793A",cB="CAD\u306E\u9078\u629E\u6CD5\u3092\u4F7F\u7528",pB="\u30B9\u30BF\u30A4\u30EB\u30E1\u30CB\u30E5\u30FC\u3092\u5E38\u306B\u8868\u793A",uB="\u30B9\u30CA\u30C3\u30D7\u3092\u5E38\u306B\u8868\u793A",hB="\u56DE\u8EE2\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A",mB="\u7D50\u5408\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A",gB="\u30AF\u30ED\u30FC\u30F3\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A",fB="\u5143\u306B\u623B\u3059",SB="\u3084\u308A\u76F4\u3057",bB="\u5207\u308A\u53D6\u308A",TB="\u30B3\u30D4\u30FC",yB="\u8CBC\u308A\u4ED8\u3051",wB="\u5F62\u5F0F\u3092\u9078\u629E\u3057\u3066\u30B3\u30D4\u30FC",xB="\u5F62\u5F0F\u3092\u9078\u629E\u3057\u3066\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",kB="\u3059\u3079\u3066\u9078\u629E",vB="\u9078\u629E\u3092\u89E3\u9664",IB="\u524A\u9664",CB="\u65B0\u3057\u3044\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8",DB="\u958B\u304F",PB="\u4FDD\u5B58",MB="\u540D\u524D\u3092\u3064\u3051\u3066\u4FDD\u5B58",EB="\u30E1\u30C7\u30A3\u30A2\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9",BB="\u30DA\u30FC\u30B8\u3092\u4F5C\u6210",RB="\u65B0\u898F\u30DA\u30FC\u30B8",AB="\u30DA\u30FC\u30B8\u540D",LB="\u8907\u88FD",HB="\u30AD\u30E3\u30F3\u30BB\u30EB",zB="\u5171\u6709\u30EA\u30F3\u30AF\u3092\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC",OB="\u30DE\u30EB\u30C1\u30D7\u30EC\u30A4\u30E4\u30FC\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4F5C\u6210",FB="\u30DE\u30EB\u30C1\u30D7\u30EC\u30A4\u30E4\u30FC\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306B\u30B3\u30D4\u30FC",jB="\u9078\u629E",GB="\u6D88\u3057\u30B4\u30E0",VB="\u63CF\u753B",$B="\u77E2\u5370",NB="\u30C6\u30AD\u30B9\u30C8",WB="\u3075\u305B\u3093",UB="\u9577\u65B9\u5F62",KB="\u6955\u5186\u5F62",_B="\u4E09\u89D2\u5F62",YB="\u7DDA",ZB="\u56DE\u8EE2",XB="\u7E26\u6A2A\u6BD4\u3092\u56FA\u5B9A",qB="\u7E26\u6A2A\u6BD4\u306E\u56FA\u5B9A\u3092\u89E3\u9664",JB="\u30B0\u30EB\u30FC\u30D4\u30F3\u30B0",QB="\u30B0\u30EB\u30FC\u30D7\u89E3\u9664",e2="\u6700\u80CC\u9762\u306B\u79FB\u52D5",t2="\u3072\u3068\u3064\u5F8C\u308D\u306B\u79FB\u52D5",n2="\u3072\u3068\u3064\u524D\u306B\u79FB\u52D5",o2="\u6700\u524D\u9762\u306B\u79FB\u52D5",r2="\u89D2\u5EA6\u3092\u521D\u671F\u5316",s2="\u30ED\u30C3\u30AF",i2="\u30A2\u30F3\u30ED\u30C3\u30AF",a2="\u30DA\u30FC\u30B8\u3078\u79FB\u52D5",l2="\u6C34\u5E73\u65B9\u5411\u306B\u53CD\u8EE2",d2="\u5782\u76F4\u65B9\u5411\u306B\u53CD\u8EE2",c2="\u79FB\u52D5",p2="\u6700\u524D\u9762\u3078",u2="\u3072\u3068\u3064\u524D\u3078",h2="\u3072\u3068\u3064\u5F8C\u308D\u3078",m2="\u6700\u80CC\u9762\u3078",g2="\u8A00\u8A9E",fl={"style.menu.color":jE,"style.menu.fill":GE,"style.menu.dash":VE,"style.menu.size":$E,"style.menu.keep.open":NE,"style.menu.font":WE,"style.menu.align":UE,styles:KE,"zoom.in":_E,"zoom.out":YE,to:ZE,"menu.file":XE,"menu.edit":qE,"menu.view":JE,"menu.preferences":QE,"menu.sign.in":eB,"menu.sign.out":tB,"become.a.sponsor":nB,"zoom.to.selection":oB,"zoom.to.fit":rB,"zoom.to":sB,"preferences.dark.mode":iB,"preferences.focus.mode":aB,"preferences.debug.mode":lB,"preferences.show.grid":dB,"preferences.use.cad.selection":cB,"preferences.keep.stylemenu.open":pB,"preferences.always.show.snaps":uB,"preferences.rotate.handles":hB,"preferences.binding.handles":mB,"preferences.clone.handles":gB,undo:fB,redo:SB,cut:bB,copy:TB,paste:yB,"copy.as":wB,"export.as":xB,"select.all":kB,"select.none":vB,delete:IB,"new.project":CB,open:DB,save:PB,"save.as":MB,"upload.media":EB,"create.page":BB,"new.page":RB,"page.name":AB,duplicate:LB,cancel:HB,"copy.invite.link":zB,"create.multiplayer.project":OB,"copy.multiplayer.project":FB,select:jB,eraser:GB,draw:VB,arrow:$B,text:NB,sticky:WB,rectangle:UB,ellipse:KB,triangle:_B,line:YB,rotate:ZB,"lock.aspect.ratio":XB,"unlock.aspect.ratio":qB,group:JB,ungroup:QB,"move.to.back":e2,"move.backward":t2,"move.forward":n2,"move.to.front":o2,"reset.angle":r2,lock:s2,unlock:i2,"move.to.page":a2,"flip.horizontal":l2,"flip.vertical":d2,move:c2,"to.front":p2,forward:u2,backward:h2,back:m2,language:g2};var f2="\uC0C9\uAE54",S2="\uCC44\uC6B0\uAE30",b2="\uD14C\uB450\uB9AC",T2="\uD06C\uAE30",y2="\uD56D\uC0C1 \uC5F4\uAE30",w2="\uAE00\uAF34",x2="\uC815\uB82C",k2="\uC2A4\uD0C0\uC77C",v2="\uD655\uB300",I2="\uCD95\uC18C",C2="To",D2="\uB3C4\uAD6C",P2="\uBCC0\uD658",M2="\uD30C\uC77C",E2="\uD3B8\uC9D1",B2="\uBCF4\uAE30",R2="\uC124\uC815",A2="\uB85C\uADF8\uC778",L2="\uB85C\uADF8\uC544\uC6C3",H2="\uD6C4\uC6D0\uC790 \uB418\uAE30",z2="\uCEE8\uD150\uCE20\uB85C \uB3CC\uC544\uAC00\uAE30",O2="\uC120\uD0DD \uC694\uC18C\uC5D0 \uB9DE\uCD94\uAE30",F2="\uC804\uCCB4\uC5D0 \uB9DE\uCD94\uAE30",j2="\uB9DE\uCD94\uAE30",G2="\uB2E4\uD06C \uBAA8\uB4DC",V2="\uC9D1\uC911 \uBAA8\uB4DC",$2="\uB514\uBC84\uADF8 \uBAA8\uB4DC",N2="\uACA9\uC790 \uBCF4\uAE30",W2="CAD \uC120\uD0DD \uC0AC\uC6A9",U2="\uC2A4\uD0C0\uC77C \uBA54\uB274 \uD56D\uC0C1 \uC5F4\uAE30",K2="Snap \uD56D\uC0C1 \uC5F4\uAE30",_2="\uD68C\uC804 \uBCF4\uC774\uAE30",Y2="\uBC14\uC778\uB529 \uBCF4\uC774\uAE30",Z2="\uBCF5\uC81C \uBCF4\uC774\uAE30",X2="\uC2E4\uD589\uCDE8\uC18C",q2="\uC7AC\uC2E4\uD589",J2="\uC790\uB974\uAE30",Q2="\uBCF5\uC0AC",eR="\uBD99\uC5EC\uB123\uAE30",tR="\uC774\uBBF8\uC9C0\uB85C \uBCF5\uC0AC",nR="\uB0B4\uBCF4\uB0B4\uAE30",oR="\uC804\uCCB4 \uC120\uD0DD",rR="\uC120\uD0DD \uD574\uC81C",sR="\uC0AD\uC81C",iR="\uC0C8 \uD504\uB85C\uC81D\uD2B8",aR="\uC5F4\uAE30",lR="\uC800\uC7A5",dR="\uB2E4\uB978 \uC774\uB984\uC73C\uB85C \uC800\uC7A5",cR="\uBBF8\uB514\uC5B4 \uC5C5\uB85C\uB4DC",pR="\uC0C8 \uD398\uC774\uC9C0 \uC0DD\uC131",uR="\uC0C8 \uD398\uC774\uC9C0",hR="\uD398\uC774\uC9C0 \uC774\uB984",mR="\uBCF5\uC81C",gR="\uCDE8\uC18C",fR="\uCD08\uB300 \uB9C1\uD06C \uBCF5\uC0AC",SR="\uC77D\uAE30 \uC804\uC6A9 \uB9C1\uD06C \uBCF5\uC0AC",bR="\uC2E4\uC2DC\uAC04 \uD611\uC5C5 \uD504\uB85C\uC81D\uD2B8 \uC0DD\uC131",TR="\uC2E4\uC2DC\uAC04 \uD611\uC5C5 \uD504\uB85C\uC81D\uD2B8\uB85C \uBCF5\uC81C",yR="\uC120\uD0DD",wR="\uC9C0\uC6B0\uAC1C",xR="\uD39C",kR="\uD654\uC0B4\uD45C",vR="\uD14D\uC2A4\uD2B8",IR="\uC2A4\uD2F0\uD0A4\uB178\uD2B8",CR="\uC0AC\uAC01\uD615",DR="\uC6D0",PR="\uC0BC\uAC01\uD615",MR="\uC120",ER="\uD68C\uC804",BR="\uBE44\uC728 \uC7A0\uAE08",RR="\uBE44\uC728 \uC7A0\uAE08 \uD574\uC81C",AR="\uADF8\uB8F9\uD654",LR="\uADF8\uB8F9\uD654 \uD574\uC81C",HR="\uB9E8 \uB4A4\uB85C \uBCF4\uB0B4\uAE30",zR="\uB4A4\uB85C \uBCF4\uB0B4\uAE30",OR="\uC55E\uC73C\uB85C \uAC00\uC838\uC624\uAE30",FR="\uB9E8 \uC55E\uC73C\uB85C \uAC00\uC838\uC624\uAE30",jR="\uD68C\uC804 \uCD08\uAE30\uD654",GR="\uC7A0\uAE08",VR="\uC7A0\uAE08 \uD574\uC81C",$R="\uC815\uB82C / \uAC04\uACA9 \uB9DE\uCD94\uAE30",NR="\uD398\uC774\uC9C0\uB85C \uC774\uB3D9",WR="\uC88C\uC6B0 \uB300\uCE6D",UR="\uC0C1\uD558 \uB300\uCE6D",KR="\uC21C\uC11C",_R="\uB9E8 \uC55E\uC73C\uB85C",YR="\uC55E\uC73C\uB85C",ZR="\uB4A4\uB85C",XR="\uB9E8 \uB4A4\uB85C",qR="\uC5B8\uC5B4",JR="\uB354 \uC54C\uC544\uBCF4\uAE30",QR="\uB3C5 \uC704\uCE58",eA="\uD558\uB2E8",tA="\uC67C\uCABD",nA="\uC624\uB978\uCABD",oA="\uC0C1\uB2E8",rA="\uD398\uC774\uC9C0",sA="\uD0A4\uBCF4\uB4DC \uB2E8\uCD95\uD0A4",iA="\uAC80\uC0C9",aA="\uB85C\uB529{dots}",lA="\uBC30\uACBD \uB0B4\uBCF4\uB0B4\uAE30",dA="\uD22C\uBA85",cA="\uC790\uB3D9",pA="\uB77C\uC774\uD2B8",uA="\uB2E4\uD06C",hA="Github",mA="Twitter",gA="Discord",fA="\uC774\uBBF8\uC9C0",SA="\uC67C\uCABD \uC815\uB82C",bA="\uC218\uD3C9 \uC911\uC559 \uC815\uB82C",TA="\uC624\uB978\uCABD \uC815\uB82C",yA="\uC0C1\uB2E8 \uC815\uB82C",wA="\uC218\uC9C1 \uC911\uC559 \uC815\uB82C",xA="\uD558\uB2E8 \uC815\uB82C",kA="\uAC00\uB85C \uAC04\uACA9 \uB9DE\uCD94\uAE30",vA="\uC138\uB85C \uAC04\uACA9 \uB9DE\uCD94\uAE30",IA="\uC218\uD3C9\uC73C\uB85C \uB298\uB9AC\uAE30",CA="\uC218\uC9C1\uC73C\uB85C \uB298\uB9AC\uAE30",DA="\uD604\uC7AC \uD504\uB85C\uC81D\uD2B8\uB97C \uC800\uC7A5\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",PA="\uBCC0\uACBD\uC0AC\uD56D\uC744 \uD604\uC7AC \uD504\uB85C\uC81D\uD2B8\uC5D0 \uC800\uC7A5\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",MA="\uCDE8\uC18C",EA="\uC544\uB2C8\uC624",BA="\uB124",RA="\uD30C\uC77C \uC774\uB984\uC744 \uC785\uB825\uD574\uC8FC\uC138\uC694",AA="\uC0C8\uB85C\uC6B4 tldraw\uB97C \uC0AC\uC6A9\uD574\uBCF4\uC138\uC694",Sl={"style.menu.color":f2,"style.menu.fill":S2,"style.menu.dash":b2,"style.menu.size":T2,"style.menu.keep.open":y2,"style.menu.font":w2,"style.menu.align":x2,styles:k2,"zoom.in":v2,"zoom.out":I2,to:C2,"menu.tools":D2,"menu.transform":P2,"menu.file":M2,"menu.edit":E2,"menu.view":B2,"menu.preferences":R2,"menu.sign.in":A2,"menu.sign.out":L2,"become.a.sponsor":H2,"zoom.to.content":z2,"zoom.to.selection":O2,"zoom.to.fit":F2,"zoom.to":j2,"preferences.dark.mode":G2,"preferences.focus.mode":V2,"preferences.debug.mode":$2,"preferences.show.grid":N2,"preferences.use.cad.selection":W2,"preferences.keep.stylemenu.open":U2,"preferences.always.show.snaps":K2,"preferences.rotate.handles":_2,"preferences.binding.handles":Y2,"preferences.clone.handles":Z2,undo:X2,redo:q2,cut:J2,copy:Q2,paste:eR,"copy.as":tR,"export.as":nR,"select.all":oR,"select.none":rR,delete:sR,"new.project":iR,open:aR,save:lR,"save.as":dR,"upload.media":cR,"create.page":pR,"new.page":uR,"page.name":hR,duplicate:mR,cancel:gR,"copy.invite.link":fR,"copy.readonly.link":SR,"create.multiplayer.project":bR,"copy.multiplayer.project":TR,select:yR,eraser:wR,draw:xR,arrow:kR,text:vR,sticky:IR,rectangle:CR,ellipse:DR,triangle:PR,line:MR,rotate:ER,"lock.aspect.ratio":BR,"unlock.aspect.ratio":RR,group:AR,ungroup:LR,"move.to.back":HR,"move.backward":zR,"move.forward":OR,"move.to.front":FR,"reset.angle":jR,lock:GR,unlock:VR,"align.distribute":$R,"move.to.page":NR,"flip.horizontal":WR,"flip.vertical":UR,move:KR,"to.front":_R,forward:YR,backward:ZR,back:XR,language:qR,"translation.link":JR,"dock.position":QR,bottom:eA,left:tA,right:nA,top:oA,page:rA,"keyboard.shortcuts":sA,search:iA,loading:aA,"export.background":lA,transparent:dA,auto:cA,light:pA,dark:uA,github:hA,twitter:mA,discord:gA,image:fA,"align.left":SA,"align.center.x":bA,"align.right":TA,"align.top":yA,"align.center.y":wA,"align.bottom":xA,"distribute.x":kA,"distribute.y":vA,"stretch.x":IA,"stretch.y":CA,"dialog.save.firsttime":DA,"dialog.save.again":PA,"dialog.cancel":MA,"dialog.no":EA,"dialog.yes":BA,"enter.file.name":RA,"tldraw-beta":AA};var LA="\u0631\u06D5\u0646\u06AF",HA="\u067E\u0695\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5",zA="\u0644\u06D5\u062A \u0644\u06D5\u062A",OA="\u0642\u06D5\u0628\u0627\u0631\u06D5",FA="\u0628\u06D5 \u06A9\u0631\u0627\u0648\u06D5\u06CC\u06CC \u0628\u0645\u06CE\u0646\u06D5\u0631\u06D5\u0648\u06D5",jA="\u0647\u06CE\u06B5",GA="\u0695\u06CE\u06A9\u062E\u0633\u062A\u0646",VA="\u0646\u06D5\u062E\u0634\u06D5\u06A9\u0627\u0646",$A="\u0647\u06CE\u0646\u0627\u0646\u06D5 \u067E\u06CE\u0634\u06D5\u0648\u06D5",NA="\u062F\u0648\u0648\u0631 \u062E\u0633\u062A\u0646\u06D5\u0648\u06D5",WA="\u0628\u06C6",UA="\u0626\u0627\u0645\u0631\u0627\u0632\u06D5\u06A9\u0627\u0646",KA="\u06AF\u06C6\u0695\u06CC\u0646",_A="\u0641\u0627\u06CC\u0644\u06CE\u06A9",YA="\u062F\u06D5\u0633\u062A\u06A9\u0627\u0631\u06CC",ZA="\u062F\u06CC\u0645\u06D5\u0646",XA="\u062E\u0648\u0627\u0633\u062A",qA="\u0686\u0648\u0648\u0646\u06D5 \u0698\u0648\u0648\u0631\u06D5\u0648\u06D5",JA="\u062F\u06D5\u0631\u0686\u0648\u0648\u0646",QA="\u0633\u067E\u06C6\u0646\u0633\u06D5\u0631 \u0628\u06D5",eL="\u0632\u0648\u0648\u0645 \u0628\u06A9\u06D5 \u0628\u06C6 \u0646\u0627\u0648\u06D5\u0695\u06C6\u06A9",tL="\u0632\u0648\u0648\u0645 \u0628\u06A9\u06D5 \u0628\u06C6 \u0647\u06D5\u06B5\u0628\u0698\u0627\u0631\u062F\u0646",nL="\u0632\u0648\u0648\u0645 \u0628\u06A9\u06D5 \u0628\u06C6 \u0626\u06D5\u0648\u06D5\u06CC \u0644\u06D5\u06AF\u06D5\u06B5\u06CC\u062F\u0627 \u0628\u06AF\u0648\u0646\u062C\u06CE\u062A",oL="\u0632\u0648\u0648\u0645 \u0628\u06A9\u06D5 \u0628\u06C6",rL="\u062F\u06C6\u062E\u06CC \u062A\u0627\u0631\u06CC\u06A9",sL="\u062F\u06C6\u062E\u06CC \u0641\u06C6\u06A9\u06D5\u0633",iL="\u0645\u06C6\u062F\u06CC \u0647\u06D5\u06B5\u06D5\u062F\u06C6\u0632\u06CC\u0646",aL="\u062A\u06C6\u0695\u06CC \u067E\u06CC\u0634\u0627\u0646 \u0628\u062F\u06D5",lL="\u0628\u06D5\u06A9\u0627\u0631\u0628\u0647\u06CE\u0646\u06D5 CAD \u0647\u06D5\u06B5\u0628\u0698\u0627\u0631\u062F\u0646\u06CC",dL="\u0645\u06CE\u0646\u06C6\u06CC \u0633\u062A\u0627\u06CC\u0644 \u0628\u06D5 \u06A9\u0631\u0627\u0648\u06D5\u06CC\u06CC \u0628\u0647\u06CE\u06B5\u06D5\u0631\u06D5\u0648\u06D5",cL="\u0647\u06D5\u0645\u06CC\u0634\u06D5 \u0648\u06CE\u0646\u06D5\u06CC \u062E\u06CE\u0631\u0627 \u067E\u06CC\u0634\u0627\u0646 \u0628\u062F\u06D5",pL="\u0633\u0648\u0631\u0627\u0646\u06D5\u0648\u06D5\u06CC \u062F\u06D5\u0633\u062A\u06D5\u06A9\u0627\u0646",uL="\u0628\u06D5\u0633\u062A\u0646\u06D5\u0648\u06D5\u06CC \u062F\u06D5\u0633\u062A\u06D5\u06A9\u0627\u0646",hL="\u06A9\u0644\u06C6\u0646 \u06A9\u0631\u062F\u0646\u06CC \u062F\u06D5\u0633\u062A\u06D5\u06A9\u0627\u0646",mL="\u067E\u0627\u0634\u06D5\u06A9\u0634\u06D5 \u0628\u06A9\u06D5",gL="\u062F\u0648\u0648\u0628\u0627\u0631\u06D5 \u0628\u06CC\u06A9\u06D5\u0631\u06D5\u0648\u06D5",fL="\u0628\u0695\u06CC\u0646",SL="\u06A9\u06C6\u067E\u06CC \u0628\u06A9\u06D5",bL="\u067E\u06D5\u06CC\u0633\u062A \u0628\u06A9\u06D5",TL="\u06A9\u06C6\u067E\u06CC \u0648\u06D5\u06A9",yL="\u0647\u06D5\u0646\u0627\u0631\u062F\u06D5\u06A9\u0631\u062F\u0646 \u0648\u06D5\u06A9",wL="\u0647\u06D5\u0645\u0648\u0648\u06CC\u0627\u0646 \u0647\u06D5\u06B5\u0628\u0698\u06CE\u0631\u0647",xL="\u0647\u06CC\u0686 \u0647\u0647\u200C\u06B5\u0645\u0647\u200C\u0628\u0698\u06CE\u0631\u0647\u200C",kL="\u0633\u0695\u06CC\u0646\u06D5\u0648\u06D5",vL="\u067E\u0695\u06C6\u0698\u06D5\u06CC \u0646\u0648\u06CE",IL="\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5",CL="\u0647\u06D5\u06B5\u06AF\u0631\u062A\u0646",DL="\u0647\u06D5\u06B5\u06AF\u0631\u062A\u0646 \u0648\u06D5\u06A9",PL="\u062F\u0627\u06AF\u0631\u062A\u0646\u06CC \u0645\u06CC\u062F\u06CC\u0627",ML="\u062F\u0631\u0648\u0633\u062A\u06A9\u0631\u062F\u0646\u06CC \u0644\u0627\u067E\u06D5\u0695\u06D5",EL="\u0644\u0627\u067E\u06D5\u0695\u06D5\u06CC \u0646\u0648\u06CE",BL="\u0646\u0627\u0648\u06CC \u0644\u0627\u067E\u06D5\u0695\u06D5",RL="\u062F\u0648\u0648\u0628\u0627\u0631\u06D5\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5",AL="\u0695\u06D5\u062A\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5",LL="\u0644\u06CC\u0646\u06A9\u06CC \u0628\u0627\u0646\u06AF\u0647\u06CE\u0634\u062A\u06A9\u0631\u062F\u0646 \u06A9\u06C6\u067E\u06CC \u0628\u06A9\u06D5",HL="\u0628\u06D5 \u0634\u06CE\u0648\u06D5\u06CC\u06D5\u06A9\u06CC \u0647\u06D5\u0695\u06D5\u0645\u06D5\u06A9\u06CC \u06A9\u06C6\u067E\u06CC \u0628\u06A9\u06D5",zL="\u062F\u0631\u0648\u0633\u062A\u06A9\u0631\u062F\u0646\u06CC \u067E\u0631\u06C6\u0698\u06D5\u06CC \u0641\u0631\u06D5 \u0628\u06D5\u06A9\u0627\u0631\u0647\u06CE\u0646\u06D5\u0631",OL="\u06A9\u06C6\u067E\u06CC \u0628\u06A9\u06D5 \u0628\u06C6 \u067E\u0695\u06C6\u0698\u06D5\u06CC\u06D5\u06A9\u06CC \u0641\u0631\u06D5 \u0628\u06D5\u06A9\u0627\u0631\u0647\u06CE\u0646\u06D5\u0631",FL="\u062F\u06D5\u0633\u0646\u06CC\u0627\u0634\u0646\u06A9\u0631\u062F\u0646",jL="\u0633\u0695\u06D5\u0631\u06D5\u0648\u06D5",GL="\u0648\u06CE\u0646\u06D5\u06A9\u06CE\u0634\u0627\u0646",VL="\u062A\u06CC\u0631",$L="\u062F\u06D5\u0642",NL="\u0686\u06D5\u0633\u067E\u0627\u0648",WL="\u0644\u0627\u06A9\u06CE\u0634\u06D5",UL="\u0628\u06CC\u0628\u0644\u06CC",KL="\u0633\u06CE\u06AF\u06C6\u0634\u06D5",_L="\u0647\u06CE\u06B5",YL="\u0633\u0648\u0695\u0627\u0646\u06D5\u0648\u06D5",ZL="\u0642\u0641\u06B5\u06A9\u0631\u062F\u0646\u06CC \u0695\u06CE\u0698\u06D5\u06CC \u0695\u0648\u0648\u0628\u06D5\u0631\u06CC",XL="\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5\u06CC \u0695\u06CE\u0698\u06D5\u06CC \u0695\u0648\u0648\u0628\u06D5\u0631\u06CC",qL="\u06A9\u06C6\u0645\u06D5\u06B5\u06D5",JL="\u0644\u0627\u0628\u0631\u062F\u0646\u06CC \u06A9\u06C6\u0645\u06D5\u06B5\u06D5",QL="\u0628\u0686\u06C6 \u0628\u06C6 \u067E\u0634\u062A\u06D5\u0648\u06D5",e5="\u0628\u06D5\u0631\u06D5\u0648 \u062F\u0648\u0627\u0648\u06D5",t5="\u0628\u0695\u06C6 \u067E\u06CE\u0634\u06D5\u0648\u06D5",n5="\u0628\u06AF\u0648\u0627\u0632\u0631\u06CE\u062A\u06D5\u0648\u06D5 \u0628\u06C6 \u067E\u06CE\u0634\u06D5\u0648\u06D5",o5="\u06AF\u06C6\u0634\u06D5\u06CC \u067E\u0634\u0648\u0648\u062F\u0627\u0646",r5="\u0642\u0648\u0641\u06B5",s5="\u0644\u0627\u0628\u0631\u062F\u0646\u06CC \u0642\u0648\u0641\u06B5",i5="\u0628\u0686\u06C6 \u0628\u06C6 \u0644\u0627\u067E\u06D5\u0695\u06D5",a5="\u0626\u0627\u0633\u06C6\u06CC\u06CC \u0648\u06D5\u0631\u06AF\u06D5\u0695\u0627\u0646\u062F\u0646",l5="\u0633\u062A\u0648\u0646\u06CC \u0648\u06D5\u0631\u06AF\u06D5\u0695\u0627\u0646\u062F\u0646",d5="\u062C\u0648\u0648\u06B5\u06D5",c5="\u0628\u06C6 \u067E\u06CE\u0634\u06D5\u0648\u06D5",p5="\u0628\u06C6\u067E\u0634\u062A\u06D5\u0648\u06D5",u5="\u0628\u06C6\u062F\u0648\u0627\u0648\u06D5",h5="\u06AF\u06D5\u0695\u0627\u0646\u06D5\u0648\u06D5",m5="\u0632\u0645\u0627\u0646",g5="\u0628\u06D5\u0633\u062A\u06D5\u0631\u06CC \u0648\u06D5\u0631\u06AF\u06CE\u0695\u0627\u0646",f5="\u0634\u0648\u06CE\u0646\u06CC \u062F\u06C6\u06A9",S5="\u062E\u0648\u0627\u0631\u06D5\u0648\u06D5",b5="\u0686\u06D5\u067E",T5="\u0695\u0627\u0633\u062A",y5="\u0633\u06D5\u0631\u0648\u0648",w5="\u0644\u0627\u067E\u06D5\u0695\u06D5",x5="\u06A9\u0648\u0631\u062A\u06A9\u0631\u0627\u0648\u06D5\u06A9\u0627\u0646\u06CC \u062A\u06D5\u062E\u062A\u06D5\u06A9\u0644\u06CC\u0644",k5="\u06AF\u06D5\u0695\u0627\u0646",v5="\u0628\u0627\u0631\u06A9\u0631\u062F\u0646",I5="\u067E\u0627\u0634\u062E\u0627\u0646\u06CC \u0647\u06D5\u0646\u0627\u0631\u062F\u06D5\u06A9\u0631\u062F\u0646",C5="\u0695\u0648\u0648\u0646",D5="\u0626\u06C6\u062A\u06C6\u0645\u0627\u062A\u06CC\u06A9\u06CC",P5="\u0631\u0648\u0648\u0646\u0627\u06A9",M5="\u062A\u0627\u0631\u06CC\u06A9",bl={"style.menu.color":LA,"style.menu.fill":HA,"style.menu.dash":zA,"style.menu.size":OA,"style.menu.keep.open":FA,"style.menu.font":jA,"style.menu.align":GA,styles:VA,"zoom.in":$A,"zoom.out":NA,to:WA,"menu.tools":UA,"menu.transform":KA,"menu.file":_A,"menu.edit":YA,"menu.view":ZA,"menu.preferences":XA,"menu.sign.in":qA,"menu.sign.out":JA,"become.a.sponsor":QA,"zoom.to.content":eL,"zoom.to.selection":tL,"zoom.to.fit":nL,"zoom.to":oL,"preferences.dark.mode":rL,"preferences.focus.mode":sL,"preferences.debug.mode":iL,"preferences.show.grid":aL,"preferences.use.cad.selection":lL,"preferences.keep.stylemenu.open":dL,"preferences.always.show.snaps":cL,"preferences.rotate.handles":pL,"preferences.binding.handles":uL,"preferences.clone.handles":hL,undo:mL,redo:gL,cut:fL,copy:SL,paste:bL,"copy.as":TL,"export.as":yL,"select.all":wL,"select.none":xL,delete:kL,"new.project":vL,open:IL,save:CL,"save.as":DL,"upload.media":PL,"create.page":ML,"new.page":EL,"page.name":BL,duplicate:RL,cancel:AL,"copy.invite.link":LL,"copy.readonly.link":HL,"create.multiplayer.project":zL,"copy.multiplayer.project":OL,select:FL,eraser:jL,draw:GL,arrow:VL,text:$L,sticky:NL,rectangle:WL,ellipse:UL,triangle:KL,line:_L,rotate:YL,"lock.aspect.ratio":ZL,"unlock.aspect.ratio":XL,group:qL,ungroup:JL,"move.to.back":QL,"move.backward":e5,"move.forward":t5,"move.to.front":n5,"reset.angle":o5,lock:r5,unlock:s5,"move.to.page":i5,"flip.horizontal":a5,"flip.vertical":l5,move:d5,"to.front":c5,forward:p5,backward:u5,back:h5,language:m5,"translation.link":g5,"dock.position":f5,bottom:S5,left:b5,right:T5,top:y5,page:w5,"keyboard.shortcuts":x5,search:k5,loading:v5,"export.background":I5,transparent:C5,auto:D5,light:P5,dark:M5};var E5="Color",B5="Fill",R5="Dash",A5="Size",L5="Keep Open",H5="Font",z5="Align",O5="Styles",F5="Zoom In",j5="Zoom Out",G5="To",V5="Tools",$5="Transform",N5="File",W5="Edit",U5="View",K5="Preferences",_5="Sign In",Y5="Sign Out",Z5="Become a Sponsor",X5="Back to content",q5="Zoom to Selection",J5="Zoom to Fit",Q5="Zoom to",e3="Dark Mode",t3="Focus Mode",n3="Debug Mode",o3="Show Grid",r3="Use CAD Selection",s3="Keep Style Menu Open",i3="Always Show Snaps",a3="Rotate Handles",l3="Binding Handles",d3="Clone Handles",c3="Undo",p3="Redo",u3="Cut",h3="Copy",m3="Paste",g3="Copy As",f3="Export As",S3="Select All",b3="Select None",T3="Delete",y3="New Project",w3="Open",x3="Save",k3="Save As",v3="Upload Media",I3="Create Page",C3="New Page",D3="Page Name",P3="Duplicate",M3="Shape Options",E3="Shapes",B3="Cancel",R3="Copy Invite Link",A3="Copy ReadOnly Link",L3="Create a Multiplayer Project",H3="Copy to Multiplayer Project",z3="Select",O3="Eraser",F3="Draw",j3="Arrow",G3="Text",V3="Sticky",$3="Rectangle",N3="Ellipse",W3="Triangle",U3="Line",K3="Rotate",_3="Lock Aspect Ratio",Y3="Unlock Aspect Ratio",Z3="Group",X3="Ungroup",q3="Move to Back",J3="Move Backward",Q3="Move Forward",e8="Move to Front",t8="Reset Angle",n8="Lock",o8="Unlock",r8="Align / Distribute",s8="Move to Page",i8="Flip Horizontal",a8="Flip Vertical",l8="Move",d8="To Front",c8="Forward",p8="Backward",u8="To Back",h8="Language",m8="Learn More",g8="Dock Position",f8="Bottom",S8="Left",b8="Right",T8="Top",y8="Page",w8="Keyboard shortcuts",x8="Search",k8="Loading{dots}",v8="Export Background",I8="Transparent",C8="Auto",D8="Light",P8="Dark",M8="Github",E8="Twitter",B8="Discord",R8="Image",A8="Align Left",L8="Align Horizontal Center",H8="Align Right",z8="Align Top",O8="Align Vertical Center",F8="Align Bottom",j8="Distribute Horizontal",G8="Distribute Vertical",V8="Stretch Horizontal",$8="Stretch Vertical",N8="Do you want to save your current project?",W8="Do you want to save changes to your current project?",U8="Cancel",K8="No",_8="Yes",Y8="Enter file name",Z8="Try the new tldraw",X8="White",q8="Light gray",J8="Gray",Q8="Black",e6="Green",t6="Cyan",n6="Blue",o6="Indigo",r6="Violet",s6="Red",i6="Orange",a6="Yellow",l6="Solid",d6="Dashed",c6="Dotted",p6="Small",u6="Medium",h6="Large",Tl={"style.menu.color":E5,"style.menu.fill":B5,"style.menu.dash":R5,"style.menu.size":A5,"style.menu.keep.open":L5,"style.menu.font":H5,"style.menu.align":z5,styles:O5,"zoom.in":F5,"zoom.out":j5,to:G5,"menu.tools":V5,"menu.transform":$5,"menu.file":N5,"menu.edit":W5,"menu.view":U5,"menu.preferences":K5,"menu.sign.in":_5,"menu.sign.out":Y5,"become.a.sponsor":Z5,"zoom.to.content":X5,"zoom.to.selection":q5,"zoom.to.fit":J5,"zoom.to":Q5,"preferences.dark.mode":e3,"preferences.focus.mode":t3,"preferences.debug.mode":n3,"preferences.show.grid":o3,"preferences.use.cad.selection":r3,"preferences.keep.stylemenu.open":s3,"preferences.always.show.snaps":i3,"preferences.rotate.handles":a3,"preferences.binding.handles":l3,"preferences.clone.handles":d3,undo:c3,redo:p3,cut:u3,copy:h3,paste:m3,"copy.as":g3,"export.as":f3,"select.all":S3,"select.none":b3,delete:T3,"new.project":y3,open:w3,save:x3,"save.as":k3,"upload.media":v3,"create.page":I3,"new.page":C3,"page.name":D3,duplicate:P3,"shape.options":M3,shapes:E3,cancel:B3,"copy.invite.link":R3,"copy.readonly.link":A3,"create.multiplayer.project":L3,"copy.multiplayer.project":H3,select:z3,eraser:O3,draw:F3,arrow:j3,text:G3,sticky:V3,rectangle:$3,ellipse:N3,triangle:W3,line:U3,rotate:K3,"lock.aspect.ratio":_3,"unlock.aspect.ratio":Y3,group:Z3,ungroup:X3,"move.to.back":q3,"move.backward":J3,"move.forward":Q3,"move.to.front":e8,"reset.angle":t8,lock:n8,unlock:o8,"align.distribute":r8,"move.to.page":s8,"flip.horizontal":i8,"flip.vertical":a8,move:l8,"to.front":d8,forward:c8,backward:p8,back:u8,language:h8,"translation.link":m8,"dock.position":g8,bottom:f8,left:S8,right:b8,top:T8,page:y8,"keyboard.shortcuts":w8,search:x8,loading:k8,"export.background":v8,transparent:I8,auto:C8,light:D8,dark:P8,github:M8,twitter:E8,discord:B8,image:R8,"align.left":A8,"align.center.x":L8,"align.right":H8,"align.top":z8,"align.center.y":O8,"align.bottom":F8,"distribute.x":j8,"distribute.y":G8,"stretch.x":V8,"stretch.y":$8,"dialog.save.firsttime":N8,"dialog.save.again":W8,"dialog.cancel":U8,"dialog.no":K8,"dialog.yes":_8,"enter.file.name":Y8,"tldraw-beta":Z8,white:X8,lightGray:q8,gray:J8,black:Q8,green:e6,cyan:t6,blue:n6,indigo:o6,violet:r6,red:s6,orange:i6,yellow:a6,solid:l6,dashed:d6,dotted:c6,small:p6,medium:u6,large:h6};var m6="\u1021\u101B\u1031\u102C\u1004\u103A",g6="\u1021\u101B\u1031\u102C\u1004\u103A \u1011\u100A\u103A\u1037\u1019\u100A\u103A",f6="\u1019\u103B\u1025\u103A\u1038\u1005\u1000\u103A",S6="\u1021\u101B\u103D\u101A\u103A\u1021\u1005\u102C\u1038",b6="\u1016\u103D\u1004\u103A\u1037\u1011\u102C\u1038\u1019\u100A\u103A",T6="\u1005\u102C\u101E\u102C\u1038\u1016\u1031\u102C\u1004\u103A\u1037",y6="\u1021\u1011\u102C\u1038\u1021\u101E\u102D\u102F",w6="\u1005\u1010\u102D\u102F\u1004\u103A",x6="\u1021\u1000\u103C\u102E\u1038\u1001\u103B\u1032\u1037\u1019\u100A\u103A",k6="\u1015\u103C\u1014\u103A\u1000\u103B\u1025\u103A\u1038\u1019\u100A\u103A",v6="\u101E\u102D\u102F\u1037",I6="\u1000\u102D\u101B\u102D\u101A\u102C\u1019\u103B\u102C\u1038",C6="\u1015\u103C\u1031\u102C\u1004\u103A\u1038\u101C\u100A\u103A\u101B\u1014\u103A",D6="\u1016\u102D\u102F\u1004\u103A",P6="\u1015\u103C\u102F\u1015\u103C\u1004\u103A",M6="\u1021\u1019\u103C\u1004\u103A",E6="\u1006\u1000\u103A\u1010\u1004\u103A",B6="\u101D\u1004\u103A\u1019\u100A\u103A",R6="\u1011\u103D\u1000\u103A\u1019\u100A\u103A",A6="\u1004\u103D\u1031\u1000\u103C\u1031\u1038\u1011\u1031\u102C\u1000\u103A\u1015\u1036\u1019\u100A\u103A",L6="\u1015\u1004\u103A\u1019\u1014\u1031\u101B\u102C\u101E\u102D\u102F\u1037 \u1015\u103C\u1014\u103A\u101E\u103D\u102C\u1038\u1019\u100A\u103A",H6="\u101B\u103D\u1031\u1038\u1011\u102C\u1038\u101E\u1031\u102C \u1014\u1031\u101B\u102C\u101E\u102D\u102F\u1037 \u1021\u102C\u101B\u102F\u1036\u1015\u103C\u102F\u1019\u100A\u103A",z6="\u1021\u1036\u1000\u102D\u102F\u1000\u103A\u1016\u103C\u1005\u103A\u1021\u1031\u102C\u1004\u103A \u1001\u103B\u1032\u1037\u1019\u100A\u103A",O6="\u1015\u102F\u1036\u1019\u103E\u1014\u103A\u1006\u102D\u102F\u1012\u103A\u101E\u102D\u102F\u1037 \u1001\u103B\u1032\u1037\u1019\u100A\u103A",F6="\u1021\u1019\u103E\u1031\u102C\u1004\u103A \u1019\u102F\u1012\u103A",j6="\u101B\u103E\u1004\u103A\u1038\u101B\u103E\u1004\u103A\u1038\u101C\u1004\u103A\u1038\u101C\u1004\u103A\u1038 \u1019\u102F\u1012\u103A",G6="\u1005\u1019\u103A\u1038\u101E\u1015\u103A \u1019\u102F\u1012\u103A",V6="\u1014\u1031\u102C\u1000\u103A\u1001\u1036 \u1007\u101A\u102C\u1038\u1000\u103D\u1000\u103A\u1015\u103C\u101B\u1014\u103A",$6="CAD \u1000\u1032\u1037\u101E\u102D\u102F\u1037 \u101B\u103D\u1031\u1038\u1001\u103B\u101A\u103A\u1019\u103E\u102F \u1015\u103C\u102F\u101C\u102F\u1015\u103A\u1019\u100A\u103A",N6="\u1005\u1010\u102D\u102F\u1004\u103A\u101C\u103A \u1019\u102E\u1014\u1030\u1038\u1000\u102D\u102F \u1021\u1019\u103C\u1032\u1016\u103D\u1004\u103A\u1037\u1011\u102C\u1038\u1019\u100A\u103A",W6="Always Show Snaps",U6="Rotate Handles",K6="Binding Handles",_6="Clone Handles",Y6="\u1014\u1002\u102D\u102F\u1019\u1030\u101C\u101E\u102D\u102F\u1037 \u1015\u103C\u1014\u103A\u101C\u102F\u1015\u103A\u101B\u1014\u103A",Z6="\u1015\u103C\u1014\u103A\u101C\u102F\u1015\u103A\u101B\u1014\u103A",X6="\u1016\u103C\u1010\u103A\u101A\u1030",q6="\u1000\u1030\u1038\u101A\u1030",J6="\u1000\u1030\u1038\u101E\u103D\u1004\u103A\u1038",Q6="\u1000\u1030\u1038\u101A\u1030\u1019\u100A\u103A\u1037 \u1015\u102F\u1036\u1005\u1036",eH="\u1011\u102F\u1010\u103A\u1001\u103B\u1004\u103A\u101E\u100A\u103A\u1037 \u1015\u102F\u1036\u1005\u1036",tH="\u1021\u102C\u1038\u101C\u102F\u1036\u1038\u1000\u102D\u102F \u101B\u103D\u1031\u1038\u1001\u103B\u101A\u103A\u101B\u1014\u103A",nH="\u1010\u1005\u103A\u1001\u102F\u1019\u103E \u1019\u101B\u103D\u1031\u1038\u1010\u1031\u102C\u1037\u1015\u102B",oH="\u1016\u103B\u1000\u103A\u1019\u100A\u103A",rH="\u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A \u1021\u101E\u1005\u103A",sH="\u1016\u103D\u1004\u103A\u1037\u1019\u100A\u103A",iH="\u101E\u102D\u1019\u103A\u1038\u1019\u100A\u103A",aH="\u1021\u1001\u103C\u102C\u1038\u101E\u1031\u102C \u1015\u102F\u1036\u1005\u1036\u1016\u103C\u1004\u103A\u1037 \u101E\u102D\u1019\u103A\u1038\u1019\u100A\u103A",lH="\u1019\u102E\u1012\u102E\u101A\u102C\u1016\u102D\u102F\u1004\u103A\u1019\u103B\u102C\u1038 \u1010\u1004\u103A\u1019\u100A\u103A",dH="\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C \u1021\u101E\u1005\u103A\u1016\u103D\u1004\u103A\u1037\u1019\u100A\u103A",cH="\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C \u1021\u101E\u1005\u103A",pH="\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C \u1021\u1019\u100A\u103A",uH="\u1015\u103D\u102C\u1038\u1019\u100A\u103A",hH="\u1019\u101C\u102F\u1015\u103A\u1010\u1031\u102C\u1037\u1015\u102B",mH="\u1016\u102D\u1010\u103A\u1000\u103C\u102C\u1038\u101B\u1014\u103A \u101C\u1004\u103A\u1037\u1001\u103A\u1000\u1030\u1038\u101A\u1030\u1019\u100A\u103A",gH="\u1000\u103C\u100A\u103A\u1037\u101B\u1030\u101B\u1014\u103A\u1021\u1010\u103D\u1000\u103A\u101E\u102C \u101C\u1004\u103A\u1037\u1001\u103A\u1000\u1030\u1038\u101A\u1030\u1019\u100A\u103A",fH="\u1021\u1019\u103B\u102C\u1038\u101E\u102F\u1036\u1038 \u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A\u1021\u1016\u103C\u1005\u103A \u1021\u101E\u1005\u103A\u1016\u1014\u103A\u1010\u102E\u1038\u1019\u100A\u103A",SH="\u1021\u1019\u103B\u102C\u1038\u101E\u102F\u1036\u1038 \u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A\u1021\u1016\u103C\u1005\u103A\u101E\u102D\u102F\u1037 \u1000\u1030\u1038\u101A\u1030\u1019\u100A\u103A",bH="\u101B\u103D\u1031\u1038\u1001\u103B\u101A\u103A\u1019\u103E\u102F",TH="\u1001\u1032\u1016\u103B\u1000\u103A",yH="\u1001\u1032\u1010\u1036",wH="\u1019\u103C\u103E\u102C\u1038",xH="\u1005\u102C\u101E\u102C\u1038",kH="\u1000\u1015\u103A\u1001\u103D\u102C\u1019\u103E\u1010\u103A\u1005\u102F",vH="\u101C\u1031\u1011\u1031\u102C\u1004\u103A\u1037",IH="\u1018\u1032\u1025",CH="\u1010\u103C\u102D\u1002\u1036",DH="\u1019\u103B\u1025\u103A\u1038",PH="\u101C\u103E\u100A\u103A\u1037\u1019\u100A\u103A",MH="\u1021\u1001\u103B\u102D\u102F\u1038\u1021\u1005\u102C\u1038 \u1011\u102D\u1014\u103A\u1038\u1011\u102C\u1038\u1019\u100A\u103A",EH="\u1021\u1001\u103B\u102D\u102F\u1038\u1021\u1005\u102C\u1038 \u1019\u1011\u102D\u1014\u103A\u1038\u1010\u1031\u102C\u1037\u1015\u102B",BH="\u1021\u102F\u1015\u103A\u1005\u102F\u1016\u103D\u1032\u1037",RH="\u1021\u102F\u1015\u103A\u1005\u102F\u1001\u103D\u1032",AH="\u1014\u1031\u102C\u1000\u103A\u1006\u102F\u1036\u1038\u101E\u102D\u102F\u1037 \u1015\u102D\u102F\u1037\u1019\u100A\u103A",LH="\u1014\u1031\u102C\u1000\u103A\u101E\u102D\u102F\u1037 \u1010\u1005\u103A\u1006\u1004\u103A\u1037\u1015\u102D\u102F\u1037\u1019\u100A\u103A",HH="\u101B\u103E\u1031\u1037\u101E\u102D\u102F\u1037 \u1010\u1005\u103A\u1006\u1004\u103A\u1037\u1015\u102D\u102F\u1037\u1019\u100A\u103A",zH="\u101B\u103E\u1031\u1037\u1006\u102F\u1036\u1038\u101E\u102D\u102F\u1037 \u1015\u102D\u102F\u1037\u1019\u100A\u103A",OH="\u1014\u1002\u102D\u102F\u1019\u1030\u101C \u1011\u1031\u102C\u1004\u103A\u1037\u1001\u103B\u102D\u102F\u1038\u1005\u102C\u1038\u101E\u102D\u102F\u1037\u1015\u103C\u1031\u102C\u1004\u103A\u1038\u1019\u100A\u103A",FH="\u1001\u1010\u103A\u1011\u102C\u1038\u1019\u100A\u103A",jH="\u1016\u103D\u1004\u103A\u1037\u1011\u102C\u1038\u1019\u100A\u103A",GH="\u1014\u1031\u101B\u102C \u1021\u1011\u102C\u1038\u1021\u101E\u102D\u102F/ \u1021\u1006\u1014\u103A\u1037\u1021\u1000\u103B\u102F\u1036\u1037",VH="\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C\u1010\u1005\u103A\u1001\u102F\u101E\u102D\u102F\u1037 \u101B\u103D\u1031\u1038\u1019\u100A\u103A",$H="\u1021\u101C\u103B\u102C\u1038\u101C\u102D\u102F\u1000\u103A \u101C\u103E\u1014\u103A\u1019\u100A\u103A",NH="\u1012\u1031\u102B\u1004\u103A\u101C\u102D\u102F\u1000\u103A \u101C\u103E\u1014\u103A\u1019\u100A\u103A",WH="\u101B\u103D\u1031\u1037\u1019\u100A\u103A",UH="\u101B\u103E\u1031\u1037\u1006\u102F\u1036\u1038\u101E\u102D\u102F\u1037",KH="\u101B\u103E\u1031\u1037\u1010\u1005\u103A\u1006\u1004\u103A\u1037",_H="\u1014\u1031\u102C\u1000\u103A\u1010\u1005\u103A\u1006\u1004\u103A\u1037",YH="\u1014\u1031\u102C\u1000\u103A\u1006\u102F\u1036\u1038\u101E\u102D\u102F\u1037",ZH="\u1018\u102C\u101E\u102C\u1005\u1000\u102C\u1038",XH="\u1015\u102D\u102F\u1019\u102D\u102F\u104D \u101C\u1031\u1037\u101C\u102C\u101B\u1014\u103A",qH="\u1000\u102D\u101B\u102D\u101A\u102C \u1021\u1014\u1031\u1021\u1011\u102C\u1038",JH="\u1021\u1031\u102C\u1000\u103A",QH="\u1018\u101A\u103A",e4="\u100A\u102C",t4="\u1011\u102D\u1015\u103A",n4="\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C",o4="Keyboard shortcuts",r4="\u101B\u103E\u102C\u1016\u103D\u1031\u101B\u1014\u103A",s4="\u1001\u100F\u1005\u1031\u102C\u1004\u103A\u1037\u1015\u1031\u1038\u101B\u1014\u103A{dots}",i4="\u1014\u1031\u102C\u1000\u103A\u1001\u1036 \u1011\u102F\u1010\u103A\u101A\u1030\u1019\u100A\u103A",a4="\u1014\u1031\u102C\u1000\u103A\u1001\u1036 \u1021\u1000\u103C\u100A\u103A",l4="Auto",d4="\u1021\u101C\u1004\u103A\u1038",c4="\u1021\u1019\u103E\u1031\u102C\u1004\u103A",p4="Github",u4="Twitter",h4="Discord",m4="\u1013\u102C\u1010\u103A\u1015\u102F\u1036",g4="\u1018\u101A\u103A\u1016\u1000\u103A\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A",f4="\u1021\u101C\u103B\u102C\u1038\u101C\u102D\u102F\u1000\u103A \u1017\u101F\u102D\u102F\u1006\u102E\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A",S4="\u100A\u102C\u1016\u1000\u103A\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A",b4="\u1021\u1015\u1031\u102B\u103A\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A",T4="\u1012\u1031\u102B\u1004\u103A\u101C\u102D\u102F\u1000\u103A \u1017\u101F\u102D\u102F\u1006\u102E\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A",y4="\u1021\u1031\u102C\u1000\u103A\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A",w4="\u1021\u101C\u103B\u102C\u1038\u101C\u102D\u102F\u1000\u103A \u1016\u103C\u1014\u103A\u1037\u101B\u1014\u103A",x4="\u1012\u1031\u102B\u1004\u103A\u101C\u102D\u102F\u1000\u103A \u1016\u103C\u1014\u103A\u1037\u101B\u1014\u103A",k4="\u1021\u101C\u103B\u102C\u1038\u101C\u102D\u102F\u1000\u103A \u1006\u103D\u1032\u1006\u1014\u103A\u1037\u101B\u1014\u103A",v4="\u1012\u1031\u102B\u1004\u103A\u101C\u102D\u102F\u1000\u103A \u1006\u103D\u1032\u1006\u1014\u103A\u1037\u101B\u1014\u103A",I4="\u101A\u1001\u102F \u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A\u1000\u102D\u102F \u101E\u102D\u1019\u103A\u1038\u1006\u100A\u103A\u101C\u102D\u102F\u1015\u102B\u101E\u101C\u102C\u1038 ?",C4="\u101A\u1001\u102F \u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A\u1010\u103D\u1004\u103A \u1015\u103C\u1004\u103A\u1011\u102C\u1038\u101E\u1031\u102C \u1021\u1015\u103C\u1031\u102C\u1004\u103A\u1038\u1021\u101C\u100A\u103A\u1019\u103B\u102C\u1038\u1000\u102D\u102F \u1021\u1010\u100A\u103A\u1015\u103C\u102F \u101E\u102D\u1019\u103A\u1038\u1006\u100A\u103A\u101C\u102D\u102F\u1015\u102B\u101E\u101C\u102C\u1038?",D4="\u1018\u102C\u1019\u103E \u1019\u101C\u102F\u1015\u103A\u1010\u1031\u102C\u1037\u1015\u102B",P4="\u1019\u101C\u102D\u102F\u1010\u1031\u102C\u1037\u1015\u102B",M4="\u101C\u102D\u102F\u1015\u102B\u101E\u100A\u103A",E4="\u1016\u102D\u102F\u1004\u103A\u1014\u102C\u1019\u100A\u103A \u1011\u100A\u103A\u1037\u101E\u103D\u1004\u103A\u1038\u101B\u1014\u103A",B4="tldraw \u1021\u101E\u1005\u103A\u1005\u1019\u103A\u1038\u101E\u102F\u1036\u1038\u1000\u103C\u100A\u103A\u1037\u101B\u1014\u103A",yl={"style.menu.color":m6,"style.menu.fill":g6,"style.menu.dash":f6,"style.menu.size":S6,"style.menu.keep.open":b6,"style.menu.font":T6,"style.menu.align":y6,styles:w6,"zoom.in":x6,"zoom.out":k6,to:v6,"menu.tools":I6,"menu.transform":C6,"menu.file":D6,"menu.edit":P6,"menu.view":M6,"menu.preferences":E6,"menu.sign.in":B6,"menu.sign.out":R6,"become.a.sponsor":A6,"zoom.to.content":L6,"zoom.to.selection":H6,"zoom.to.fit":z6,"zoom.to":O6,"preferences.dark.mode":F6,"preferences.focus.mode":j6,"preferences.debug.mode":G6,"preferences.show.grid":V6,"preferences.use.cad.selection":$6,"preferences.keep.stylemenu.open":N6,"preferences.always.show.snaps":W6,"preferences.rotate.handles":U6,"preferences.binding.handles":K6,"preferences.clone.handles":_6,undo:Y6,redo:Z6,cut:X6,copy:q6,paste:J6,"copy.as":Q6,"export.as":eH,"select.all":tH,"select.none":nH,delete:oH,"new.project":rH,open:sH,save:iH,"save.as":aH,"upload.media":lH,"create.page":dH,"new.page":cH,"page.name":pH,duplicate:uH,cancel:hH,"copy.invite.link":mH,"copy.readonly.link":gH,"create.multiplayer.project":fH,"copy.multiplayer.project":SH,select:bH,eraser:TH,draw:yH,arrow:wH,text:xH,sticky:kH,rectangle:vH,ellipse:IH,triangle:CH,line:DH,rotate:PH,"lock.aspect.ratio":MH,"unlock.aspect.ratio":EH,group:BH,ungroup:RH,"move.to.back":AH,"move.backward":LH,"move.forward":HH,"move.to.front":zH,"reset.angle":OH,lock:FH,unlock:jH,"align.distribute":GH,"move.to.page":VH,"flip.horizontal":$H,"flip.vertical":NH,move:WH,"to.front":UH,forward:KH,backward:_H,back:YH,language:ZH,"translation.link":XH,"dock.position":qH,bottom:JH,left:QH,right:e4,top:t4,page:n4,"keyboard.shortcuts":o4,search:r4,loading:s4,"export.background":i4,transparent:a4,auto:l4,light:d4,dark:c4,github:p4,twitter:u4,discord:h4,image:m4,"align.left":g4,"align.center.x":f4,"align.right":S4,"align.top":b4,"align.center.y":T4,"align.bottom":y4,"distribute.x":w4,"distribute.y":x4,"stretch.x":k4,"stretch.y":v4,"dialog.save.firsttime":I4,"dialog.save.again":C4,"dialog.cancel":D4,"dialog.no":P4,"dialog.yes":M4,"enter.file.name":E4,"tldraw-beta":B4};var R4="Farge",A4="Fyll",L4="Linje",H4="St\xF8rrelse",z4="Hold \xE5pen",O4="Teksttype",F4="Juster",j4="Stiler",G4="Zoom inn",V4="Zoom ut",$4="til",N4="Fil",W4="Rediger",U4="Vis",K4="Preferanser",_4="Logg inn",Y4="Logg ut",Z4="Bli en sponsor",X4="Zoom til valg",q4="Zoom for \xE5 passe",J4="Zoom til",Q4="M\xF8rk modus",ez="Fokus modus",tz="Debug modus",nz="Vis rutenett",oz="Bruk CAD seleksjon",rz="Hold stilmeny \xE5pen",sz="Vis alltid snaps",iz="Vis roteringsh\xE5ndtak",az="Vis bindingsh\xE5ndtak",lz="Vis kloningsh\xE5ndtak",dz="Angre",cz="Gj\xF8r om",pz="Klipp ut",uz="Kopier",hz="Lim inn",mz="Kopier som",gz="Eksporter som",fz="Velg alle",Sz="Velg ingen",bz="Slett",Tz="Nytt prosjekt",yz="\xC5pne",wz="Lagre",xz="Lagre som",kz="Last opp media",vz="Opprett side",Iz="Ny side",Cz="Sidenavn",Dz="Dupliser",Pz="Avbryt",Mz="Kopier invitasjonslink",Ez="Opprett et flerspiller prosjekt",Bz="Kopier til flerspiller prosjekt",Rz="Velg",Az="Viskel\xE6r",Lz="Tegn",Hz="Pil",zz="Tekst",Oz="Lapp",Fz="Rektangel",jz="Ellipse",Gz="Trekant",Vz="Linje",$z="Roter",Nz="L\xE5s st\xF8rrelsesforhold",Wz="L\xE5s opp st\xF8rrelsesforhold",Uz="Grupper",Kz="Avgrupper",_z="Flytt bakerst",Yz="Flytt bakover",Zz="Flytt forover",Xz="Flytt til front",qz="Tilbakestill vinkel",Jz="L\xE5s",Qz="L\xE5s opp",e9="Flytt til side",t9="Snu horisontalt",n9="Snu vertikalt",o9="Flytt",r9="Foran",s9="Framover",i9="Bakover",a9="Bakerst",l9="Spr\xE5k",wl={"style.menu.color":R4,"style.menu.fill":A4,"style.menu.dash":L4,"style.menu.size":H4,"style.menu.keep.open":z4,"style.menu.font":O4,"style.menu.align":F4,styles:j4,"zoom.in":G4,"zoom.out":V4,to:$4,"menu.file":N4,"menu.edit":W4,"menu.view":U4,"menu.preferences":K4,"menu.sign.in":_4,"menu.sign.out":Y4,"become.a.sponsor":Z4,"zoom.to.selection":X4,"zoom.to.fit":q4,"zoom.to":J4,"preferences.dark.mode":Q4,"preferences.focus.mode":ez,"preferences.debug.mode":tz,"preferences.show.grid":nz,"preferences.use.cad.selection":oz,"preferences.keep.stylemenu.open":rz,"preferences.always.show.snaps":sz,"preferences.rotate.handles":iz,"preferences.binding.handles":az,"preferences.clone.handles":lz,undo:dz,redo:cz,cut:pz,copy:uz,paste:hz,"copy.as":mz,"export.as":gz,"select.all":fz,"select.none":Sz,delete:bz,"new.project":Tz,open:yz,save:wz,"save.as":xz,"upload.media":kz,"create.page":vz,"new.page":Iz,"page.name":Cz,duplicate:Dz,cancel:Pz,"copy.invite.link":Mz,"create.multiplayer.project":Ez,"copy.multiplayer.project":Bz,select:Rz,eraser:Az,draw:Lz,arrow:Hz,text:zz,sticky:Oz,rectangle:Fz,ellipse:jz,triangle:Gz,line:Vz,rotate:$z,"lock.aspect.ratio":Nz,"unlock.aspect.ratio":Wz,group:Uz,ungroup:Kz,"move.to.back":_z,"move.backward":Yz,"move.forward":Zz,"move.to.front":Xz,"reset.angle":qz,lock:Jz,unlock:Qz,"move.to.page":e9,"flip.horizontal":t9,"flip.vertical":n9,move:o9,"to.front":r9,forward:s9,backward:i9,back:a9,language:l9};var d9="\u0930\u0902\u0917",c9="\u092D\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",p9="\u0927\u0930\u094D\u0915\u093E",u9="\u0906\u0915\u093E\u0930",h9="\u0916\u0941\u0932\u093E \u0930\u093E\u0916\u094D\u0928\u0941\u0939\u094B\u0938\u094D",m9="\u092B\u0928\u094D\u091F",g9="\u092A\u0919\u094D\u0915\u094D\u0924\u093F\u092C\u0926\u094D\u0927",f9="\u0936\u0948\u0932\u0940\u0939\u0930\u0942",S9="\u091C\u0941\u092E \u0907\u0928",b9="\u091C\u0941\u092E \u0906\u0909\u091F",T9="\u091F\u0941",y9="\u092B\u093E\u0907\u0932",w9="\u0938\u092E\u094D\u092A\u093E\u0926\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",x9="\u092D\u094D\u092F\u0942",k9="\u092A\u094D\u0930\u093E\u0925\u092E\u093F\u0915\u0924\u093E\u0939\u0930\u0942",v9="\u0938\u093E\u0907\u0928 \u0907\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",I9="\u0938\u093E\u0907\u0928 \u0906\u0909\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",C9="\u092A\u094D\u0930\u093E\u092F\u094B\u091C\u0915 \u092C\u0928\u094D\u0928\u0941\u0939\u094B\u0938\u094D",D9="\u091C\u0941\u092E \u091F\u0941 \u0938\u0947\u0932\u0947\u0915\u094D\u0938\u0928",P9="\u091C\u0941\u092E \u091F\u0941 \u092B\u093F\u091F",M9="\u091C\u0941\u092E \u091F\u0941",E9="\u0905\u0901\u0927\u094D\u092F\u093E\u0930\u094B \u092E\u094B\u0921",B9="\u092B\u094B\u0915\u0938 \u092E\u094B\u0921",R9="\u0921\u093F\u092C\u0917 \u092E\u094B\u0921",A9="\u0917\u094D\u0930\u093F\u0921 \u0926\u0947\u0916\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",L9="CAD \u0938\u0947\u0932\u0947\u0915\u094D\u0938\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",H9="\u0938\u094D\u091F\u093E\u0907\u0932 \u092E\u0947\u0928\u0941 \u0916\u0941\u0932\u093E \u0930\u093E\u0916\u094D\u0928\u0941\u0939\u094B\u0938\u094D",z9="\u0938\u0927\u0948\u0901 \u0938\u094D\u0928\u094D\u092F\u093E\u092A\u0939\u0930\u0942 \u0926\u0947\u0916\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",O9="\u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942 \u0918\u0941\u092E\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",F9="\u092C\u093E\u0907\u0928\u094D\u0921\u093F\u0919 \u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942",j9="\u0915\u094D\u0932\u094B\u0928 \u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942",G9="\u092A\u0942\u0930\u094D\u0935\u0935\u0924 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",V9="\u092A\u0941\u0928\u0903 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",$9="\u0915\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",N9="\u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",W9="\u092A\u0947\u0938\u094D\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",U9="\u0915\u092A\u093F \u090F\u091C",K9="\u090F\u0915\u094D\u0938\u092A\u094B\u0930\u094D\u091F \u090F\u091C",_9="\u0938\u092C\u0948 \u091B\u093E\u0928\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Y9="\u0915\u0947\u0939\u093F \u092A\u0928\u093F \u0938\u0947\u0932\u0947\u0915\u094D\u091F \u0928\u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Z9="\u092E\u0947\u091F\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",X9="\u0928\u092F\u093E\u0901 \u092A\u0930\u093F\u092F\u094B\u091C\u0928\u093E",q9="\u0916\u094B\u0932\u094D\u0928\u0941\u0939\u094B\u0938\u094D",J9="\u0938\u0941\u0930\u0915\u094D\u0937\u093F\u0924 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Q9="\u0938\u0947\u092D \u090F\u091C",eO="\u092E\u093F\u0921\u093F\u092F\u093E \u0905\u092A\u0932\u094B\u0921 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",tO="\u092A\u0943\u0937\u094D\u0920 \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",nO="\u0928\u092F\u093E\u0901 \u092A\u0943\u0937\u094D\u0920 \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",oO="\u092A\u0943\u0937\u094D\u0920\u0915\u094B \u0928\u093E\u092E",rO="\u0905\u0928\u0941\u0932\u093F\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",sO="\u0930\u0926\u094D\u0926 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",iO="\u0928\u093F\u092E\u0928\u094D\u0924\u094D\u0930\u0923\u093E \u0932\u093F\u0919\u094D\u0915 \u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",aO="\u092E\u0932\u094D\u091F\u093F\u092A\u094D\u0932\u0947\u092F\u0930 \u092A\u0930\u093F\u092F\u094B\u091C\u0928\u093E \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",lO="\u092E\u0932\u094D\u091F\u093F\u092A\u094D\u0932\u0947\u092F\u0930 \u092A\u094D\u0930\u094B\u091C\u0947\u0915\u094D\u091F\u092E\u093E \u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",dO="\u0938\u0947\u0932\u0947\u0915\u094D\u091F",cO="\u0907\u0930\u0947\u091C\u0930",pO="\u091A\u093F\u0924\u094D\u0930 \u092C\u0928\u093E\u0909\u0928\u0941",uO="\u0924\u0940\u0930",hO="\u0936\u092C\u094D\u0926",mO="\u091F\u093E\u0901\u0938\u093F\u0928\u0947",gO="\u0906\u092F\u0924",fO="\u0926\u0940\u0930\u094D\u0918\u0935\u0943\u0924\u094D\u0924",SO="\u0924\u094D\u0930\u093F\u092D\u0941\u091C",bO="\u0930\u0947\u0916\u093E",TO="\u0918\u0941\u092E\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",yO="\u0906\u0915\u093E\u0930 \u0905\u0928\u0941\u092A\u093E\u0924 \u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",wO="\u0906\u0915\u093E\u0930 \u0905\u0928\u0941\u092A\u093E\u0924 \u0905\u0928\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",xO="\u0938\u092E\u0942\u0939",kO="\u0938\u092E\u0942\u0939 \u0930\u0926\u094D\u0926 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",vO="\u092A\u091B\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",IO="\u0925\u092A \u092A\u091B\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",CO="\u0905\u0917\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",DO="\u0925\u092A \u0905\u0917\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",PO="\u0915\u094B\u0923 \u0930\u093F\u0938\u0947\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",MO="\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",EO="\u0905\u0928\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",BO="\u092A\u0943\u0937\u094D\u0920\u092E\u093E \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",RO="\u0924\u0947\u0930\u094D\u0938\u094B \u092B\u094D\u0932\u093F\u092A \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",AO="\u0920\u093E\u0921\u094B \u092B\u094D\u0932\u093F\u092A \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",LO="\u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",HO="\u0925\u092A \u0905\u0917\u093E\u0921\u093F",zO="\u0905\u0917\u093E\u0921\u093F",OO="\u092A\u091B\u093E\u0921\u093F",FO="\u0925\u092A \u092A\u091B\u093E\u0921\u093F",jO="\u092D\u093E\u0937\u093E",xl={"style.menu.color":d9,"style.menu.fill":c9,"style.menu.dash":p9,"style.menu.size":u9,"style.menu.keep.open":h9,"style.menu.font":m9,"style.menu.align":g9,styles:f9,"zoom.in":S9,"zoom.out":b9,to:T9,"menu.file":y9,"menu.edit":w9,"menu.view":x9,"menu.preferences":k9,"menu.sign.in":v9,"menu.sign.out":I9,"become.a.sponsor":C9,"zoom.to.selection":D9,"zoom.to.fit":P9,"zoom.to":M9,"preferences.dark.mode":E9,"preferences.focus.mode":B9,"preferences.debug.mode":R9,"preferences.show.grid":A9,"preferences.use.cad.selection":L9,"preferences.keep.stylemenu.open":H9,"preferences.always.show.snaps":z9,"preferences.rotate.handles":O9,"preferences.binding.handles":F9,"preferences.clone.handles":j9,undo:G9,redo:V9,cut:$9,copy:N9,paste:W9,"copy.as":U9,"export.as":K9,"select.all":_9,"select.none":Y9,delete:Z9,"new.project":X9,open:q9,save:J9,"save.as":Q9,"upload.media":eO,"create.page":tO,"new.page":nO,"page.name":oO,duplicate:rO,cancel:sO,"copy.invite.link":iO,"create.multiplayer.project":aO,"copy.multiplayer.project":lO,select:dO,eraser:cO,draw:pO,arrow:uO,text:hO,sticky:mO,rectangle:gO,ellipse:fO,triangle:SO,line:bO,rotate:TO,"lock.aspect.ratio":yO,"unlock.aspect.ratio":wO,group:xO,ungroup:kO,"move.to.back":vO,"move.backward":IO,"move.forward":CO,"move.to.front":DO,"reset.angle":PO,lock:MO,unlock:EO,"move.to.page":BO,"flip.horizontal":RO,"flip.vertical":AO,move:LO,"to.front":HO,forward:zO,backward:OO,back:FO,language:jO};var GO="Farge",VO="Fyll",$O="Line",NO="Storleik",WO="Hald open",UO="Teksttype",KO="Tilpass",_O="Stilar",YO="Zoom inn",ZO="Zoom ut",XO="til",qO="Fil",JO="Rediger",QO="Vis",e7="Innstillingar",t7="Logg inn",n7="Logg ut",o7="Vert sponsor",r7="Zoom til innhald",s7="Zoom til valte element",i7="Zoom for \xE5 passe",a7="Zoom til",l7="M\xF8rkmodus",d7="Fokusmodus",c7="Debugmodus",p7="Vis rutenett",u7="Bruk CAD-val",h7="Hald stilmeny open",m7="Vis alltid snaps",g7="Vis roteringshandtak",f7="Vis bindingshandtak",S7="Vis kloningshandtak",b7="Angre",T7="Gjer om",y7="Klipp ut",w7="Kopier",x7="Lim inn",k7="Kopier som",v7="Eksporter som",I7="Vel alle",C7="Vel ingen",D7="Slett",P7="Nytt prosjekt",M7="Opne",E7="Lagre",B7="Lagre som",R7="Last opp media",A7="Opprett side",L7="Ny side",H7="Sidenamn",z7="Dupliser",O7="Avbryt",F7="Kopier invitasjonslenke",j7="Kopier invitasjonslenke (skrivebeskytta)",G7="Lag samarbeidsprosjekt",V7="Kopier til samarbeidsprosjekt",$7="Vel",N7="Viskel\xEAr",W7="Teikn",U7="Pil",K7="Tekst",_7="Lapp",Y7="Rektangel",Z7="Runding",X7="Trekant",q7="Line",J7="Roter",Q7="L\xE5s storleiksforhold",eF="L\xE5s opp storleiksforhold",tF="Grupper",nF="Avgrupper",oF="Flytt bakarst",rF="Flytt bakover",sF="Flytt framover",iF="Flytt til front",aF="Tilbakestill vinkel",lF="L\xE5s",dF="L\xE5s opp",cF="Flytt til side",pF="Snu horisontalt",uF="Snu vertikalt",hF="Flytt",mF="Framme",gF="Framover",fF="Bakover",SF="Bakarst",bF="Spr\xE5k",TF="Les meir",yF="Dokkplassering",wF="Nede",xF="Venstre",kF="H\xF8gre",vF="Oppe",IF="Side",CF="Sn\xF8ggtastar",DF="S\xF8k",PF="Lastar{dots}",MF="Eksporter bakgrunn",EF="Gjennomsiktig",BF="Auto",RF="Lys",AF="M\xF8rk",LF="Github",HF="Twitter",zF="Discord",OF="Bilete",FF="Venstrestill",jF="Midtstill horisontalt",GF="H\xF8grestill",VF="Still til toppen",$F="Midtstill vertikalt",NF="Still til botnen",WF="Distribuer horisontalt",UF="Distribuer vertikalt",KF="Strekk horisontalt",_F="Strekk vertikalt",YF="Vil du lagre det noverande prosjektet ditt?",ZF="Vil du lagre endringane i det noverande prosjektet ditt?",XF="Avbryt",qF="Nei",JF="Ja",QF="Fyll inn filnamn",ej="Pr\xF8v den nye tldraw",tj="Kvit",nj="Lys gr\xE5",oj="Gr\xE5",rj="Svart",sj="Gr\xF8n",ij="Cyan",aj="Bk\xE5",lj="Indigo",dj="Fiol",cj="Raud",pj="Oransj",uj="Gul",hj="Heil",mj="Stipla",gj="Prikka",fj="Liten",Sj="Mellomstor",bj="Stor",kl={"style.menu.color":GO,"style.menu.fill":VO,"style.menu.dash":$O,"style.menu.size":NO,"style.menu.keep.open":WO,"style.menu.font":UO,"style.menu.align":KO,styles:_O,"zoom.in":YO,"zoom.out":ZO,to:XO,"menu.file":qO,"menu.edit":JO,"menu.view":QO,"menu.preferences":e7,"menu.sign.in":t7,"menu.sign.out":n7,"become.a.sponsor":o7,"zoom.to.content":r7,"zoom.to.selection":s7,"zoom.to.fit":i7,"zoom.to":a7,"preferences.dark.mode":l7,"preferences.focus.mode":d7,"preferences.debug.mode":c7,"preferences.show.grid":p7,"preferences.use.cad.selection":u7,"preferences.keep.stylemenu.open":h7,"preferences.always.show.snaps":m7,"preferences.rotate.handles":g7,"preferences.binding.handles":f7,"preferences.clone.handles":S7,undo:b7,redo:T7,cut:y7,copy:w7,paste:x7,"copy.as":k7,"export.as":v7,"select.all":I7,"select.none":C7,delete:D7,"new.project":P7,open:M7,save:E7,"save.as":B7,"upload.media":R7,"create.page":A7,"new.page":L7,"page.name":H7,duplicate:z7,cancel:O7,"copy.invite.link":F7,"copy.readonly.link":j7,"create.multiplayer.project":G7,"copy.multiplayer.project":V7,select:$7,eraser:N7,draw:W7,arrow:U7,text:K7,sticky:_7,rectangle:Y7,ellipse:Z7,triangle:X7,line:q7,rotate:J7,"lock.aspect.ratio":Q7,"unlock.aspect.ratio":eF,group:tF,ungroup:nF,"move.to.back":oF,"move.backward":rF,"move.forward":sF,"move.to.front":iF,"reset.angle":aF,lock:lF,unlock:dF,"move.to.page":cF,"flip.horizontal":pF,"flip.vertical":uF,move:hF,"to.front":mF,forward:gF,backward:fF,back:SF,language:bF,"translation.link":TF,"dock.position":yF,bottom:wF,left:xF,right:kF,top:vF,page:IF,"keyboard.shortcuts":CF,search:DF,loading:PF,"export.background":MF,transparent:EF,auto:BF,light:RF,dark:AF,github:LF,twitter:HF,discord:zF,image:OF,"align.left":FF,"align.center.x":jF,"align.right":GF,"align.top":VF,"align.center.y":$F,"align.bottom":NF,"distribute.x":WF,"distribute.y":UF,"stretch.x":KF,"stretch.y":_F,"dialog.save.firsttime":YF,"dialog.save.again":ZF,"dialog.cancel":XF,"dialog.no":qF,"dialog.yes":JF,"enter.file.name":QF,"tldraw-beta":ej,white:tj,lightGray:nj,gray:oj,black:rj,green:sj,cyan:ij,blue:aj,indigo:lj,violet:dj,red:cj,orange:pj,yellow:uj,solid:hj,dashed:mj,dotted:gj,small:fj,medium:Sj,large:bj};var Tj="Kolor",yj="Wype\u0142nienie",wj="Linia",xj="Rozmiar",kj="Zachowaj otwarte",vj="Czcionka",Ij="Wyr\xF3wnanie",Cj="Style",Dj="Przybli\u017C",Pj="Oddal",Mj="do",Ej="Plik",Bj="Edycja",Rj="Widok",Aj="Preferencje",Lj="Zaloguj",Hj="Wyloguj",zj="Zosta\u0144 sponsorem",Oj="Przybli\u017C do zaznaczenia",Fj="Wype\u0142nij ekran",jj="Przybli\u017C do",Gj="Tryb ciemny",Vj="Tryb skupienia",$j="Tryb debugowania",Nj="Poka\u017C siatk\u0119",Wj="U\u017Cyj zaznaczania CAD",Uj="Zachowaj menu styli otwarte",Kj="Przyci\u0105gaj obiekty",_j="Uchwyty obrotu",Yj="Uchwyty powi\u0105zania",Zj="Uchwyty klonuj\u0105ce",Xj="Cofnij",qj="Powt\xF3rz",Jj="Wytnij",Qj="Kopiuj",eG="Wklej",tG="Kopiuj jako",nG="Eksportuj jako",oG="Zaznacz wszystko",rG="Odznacz wszystko",sG="Usu\u0144",iG="Nowy projekt",aG="Otw\xF3rz",lG="Zapisz",dG="Zapisz jako",cG="Za\u0142aduj multimedia",pG="Utw\xF3rz stron\u0119",uG="Nowa strona",hG="Nazwa strony",mG="Powiel",gG="Anuluj",fG="Kopiuj link zaproszenia",SG="Stw\xF3rz projekt wieloosobowy",bG="Kopiuj do projektu wieloosobowego",TG="Zaznacz",yG="Gumka",wG="Rysuj",xG="Strza\u0142ka",kG="Tekst",vG="Naklejka",IG="Prostok\u0105t",CG="Elipsa",DG="Tr\xF3jk\u0105t",PG="Linia",MG="Obr\xF3\u0107",EG="Zablokuj proporcje",BG="Odblokuj proporcje",RG="Grupuj",AG="Rozgrupuj",LG="Przenie\u015B na ty\u0142",HG="Przesu\u0144 do ty\u0142u",zG="Przesu\u0144 do przodu",OG="Przenie\u015B na prz\xF3d",FG="Resetuj k\u0105t",jG="Zablokuj",GG="Odblokuj",VG="Przenie\u015B na stron\u0119",$G="Odwr\xF3\u0107 w poziomie",NG="Odwr\xF3\u0107 w pionie",WG="Przenie\u015B",UG="Na wierzch",KG="Do przodu",_G="Do ty\u0142u",YG="Na sp\xF3d",ZG="J\u0119zyk",XG="Czytaj wi\u0119cej",qG="Pozycja przybornika",JG="D\xF3\u0142",QG="Lewa",eV="Prawa",tV="G\xF3ra",nV="Strona",oV="Skr\xF3ty klawiszowe",rV="Szukaj",sV="\u0141adowanie{dots}",iV="Eksportuj t\u0142o",aV="Przezroczyste",lV="Automatyczny",dV="Jasny",cV="Ciemny",pV="Github",uV="Twitter",hV="Discord",mV="Obraz",gV="Wyr\xF3wnaj do lewej",fV="Wycentruj poziomo",SV="Wyr\xF3wnaj do prawej",bV="Wyr\xF3wnaj do g\xF3ry",TV="Wycentruj pionowo",yV="Wyr\xF3wnaj do do\u0142u",wV="Roz\u0142\xF3\u017C poziomo",xV="Roz\u0142\xF3\u017C pionowo",kV="Rozci\u0105gnij poziomo",vV="Rozci\u0105gnij pionowo",IV="Czy chcesz zapisa\u0107 bie\u017C\u0105cy projekt?",CV="Czy chcesz zapisa\u0107 zmiany w bie\u017C\u0105cym projekcie?",DV="Anuluj",PV="Nie",MV="Tak",EV="Podaj nazw\u0119 pliku",BV="Wypr\xF3buj nowy tldraw",vl={"style.menu.color":Tj,"style.menu.fill":yj,"style.menu.dash":wj,"style.menu.size":xj,"style.menu.keep.open":kj,"style.menu.font":vj,"style.menu.align":Ij,styles:Cj,"zoom.in":Dj,"zoom.out":Pj,to:Mj,"menu.file":Ej,"menu.edit":Bj,"menu.view":Rj,"menu.preferences":Aj,"menu.sign.in":Lj,"menu.sign.out":Hj,"become.a.sponsor":zj,"zoom.to.selection":Oj,"zoom.to.fit":Fj,"zoom.to":jj,"preferences.dark.mode":Gj,"preferences.focus.mode":Vj,"preferences.debug.mode":$j,"preferences.show.grid":Nj,"preferences.use.cad.selection":Wj,"preferences.keep.stylemenu.open":Uj,"preferences.always.show.snaps":Kj,"preferences.rotate.handles":_j,"preferences.binding.handles":Yj,"preferences.clone.handles":Zj,undo:Xj,redo:qj,cut:Jj,copy:Qj,paste:eG,"copy.as":tG,"export.as":nG,"select.all":oG,"select.none":rG,delete:sG,"new.project":iG,open:aG,save:lG,"save.as":dG,"upload.media":cG,"create.page":pG,"new.page":uG,"page.name":hG,duplicate:mG,cancel:gG,"copy.invite.link":fG,"create.multiplayer.project":SG,"copy.multiplayer.project":bG,select:TG,eraser:yG,draw:wG,arrow:xG,text:kG,sticky:vG,rectangle:IG,ellipse:CG,triangle:DG,line:PG,rotate:MG,"lock.aspect.ratio":EG,"unlock.aspect.ratio":BG,group:RG,ungroup:AG,"move.to.back":LG,"move.backward":HG,"move.forward":zG,"move.to.front":OG,"reset.angle":FG,lock:jG,unlock:GG,"move.to.page":VG,"flip.horizontal":$G,"flip.vertical":NG,move:WG,"to.front":UG,forward:KG,backward:_G,back:YG,language:ZG,"translation.link":XG,"dock.position":qG,bottom:JG,left:QG,right:eV,top:tV,page:nV,"keyboard.shortcuts":oV,search:rV,loading:sV,"export.background":iV,transparent:aV,auto:lV,light:dV,dark:cV,github:pV,twitter:uV,discord:hV,image:mV,"align.left":gV,"align.center.x":fV,"align.right":SV,"align.top":bV,"align.center.y":TV,"align.bottom":yV,"distribute.x":wV,"distribute.y":xV,"stretch.x":kV,"stretch.y":vV,"dialog.save.firsttime":IV,"dialog.save.again":CV,"dialog.cancel":DV,"dialog.no":PV,"dialog.yes":MV,"enter.file.name":EV,"tldraw-beta":BV};var RV="Cor",AV="Preencher",LV="Tra\xE7o",HV="Tamanho",zV="Manter aberto",OV="Fonte",FV="Alinhamento",jV="Estilos",GV="Aumentar zoom",VV="Diminuir zoom",$V="para",NV="Arquivo",WV="Editar",UV="Visualizar",KV="Prefer\xEAncias",_V="Entrar",YV="Sair",ZV="Torne-se um patrocinador",XV="Zoom para a sele\xE7\xE3o",qV="Zoom para ajuste",JV="Zoom para",QV="Modo Escuro",e$="Modo Foco",t$="Modo Debug",n$="Mostrar Grade",o$="Usar sele\xE7\xE3o CAD",r$="Manter Menu de Estilos Aberto",s$="Mostrar Pontos de Ajuste",i$="Controle de Rota\xE7\xE3o",a$="Controle de V\xEDnculos",l$="Controle de Clone",d$="Desfazer",c$="Refazer",p$="Cortar",u$="Copiar",h$="Colar",m$="Copiar como",g$="Exportar como",f$="Selecionar todos",S$="Selecionar nenhum",b$="Deletar",T$="Novo Projeto",y$="Abrir",w$="Salvar",x$="Salvar Como",k$="Carregar M\xEDdia",v$="P\xE1gina",I$="Procurar",C$="Carregando{dots}",D$="Exportar Fundo",P$="Transparente",M$="Autom\xE1tico",E$="Claro",B$="Escuro",R$="Ferramentas",A$="Transformar",L$="Voltar ao Conte\xFAdo",H$="Saiba Mais",z$="Copiar Link ReadOnly",O$="Alinhar / Distribuir",F$="Criar P\xE1gina",j$="Nova P\xE1gina",G$="Nome da P\xE1gina",V$="Duplicar",$$="Cancelar",N$="Copiar Link de Convite",W$="Criar um Projeto Multijogador",U$="Copiar para Projeto Multijogador",K$="Selecionar",_$="Borracha",Y$="Desenhar",Z$="Seta",X$="Texto",q$="Adesivo",J$="Ret\xE2ngulo",Q$="Elipse",eN="Tri\xE2ngulo",tN="Linha",nN="Rotacionar",oN="Travar Propor\xE7\xE3o da Tela",rN="Destravar Propor\xE7\xE3o da Tela",sN="Agrupar",iN="Desagrupar",aN="Recuar",lN="Enviar para Tr\xE1s",dN="Avan\xE7ar",cN="Trazer para Frente",pN="Reiniciar \xC2ngulo",uN="Travar",hN="Destravar",mN="Mover para P\xE1gina",gN="Virar Horizontalmente",fN="Virar Verticalmente",SN="Mover",bN="Para Frente",TN="Avan\xE7ar",yN="Recuar",wN="Voltar",xN="Idioma",kN="Imagem",vN="Atalhos de Teclado",IN="Posi\xE7\xE3o de Ferramentas",CN="Inferior",DN="Superior",PN="Direita",MN="Esquerda",EN="Alinhar \xE0 esquerda",BN="Alinhar ao centro na horizontal",RN="Alinhar \xE0 direita",AN="Alinhas em cima",LN="Alinhar ao centro na vertical",HN="Alinhar embaixo",zN="Distruibuir na horizontal",ON="Distruibuir na vertical",FN="Esticar na horizontal",jN="Esticar na vertical",GN="Voc\xEA deseja salvar seu projeto atual?",VN="Voc\xEA deseja salvar as mudan\xE7as ao projeto atual?",$N="Cancelar",NN="N\xE3o",WN="Sim",UN="Insira o nome do arquivo",Il={"style.menu.color":RV,"style.menu.fill":AV,"style.menu.dash":LV,"style.menu.size":HV,"style.menu.keep.open":zV,"style.menu.font":OV,"style.menu.align":FV,styles:jV,"zoom.in":GV,"zoom.out":VV,to:$V,"menu.file":NV,"menu.edit":WV,"menu.view":UV,"menu.preferences":KV,"menu.sign.in":_V,"menu.sign.out":YV,"become.a.sponsor":ZV,"zoom.to.selection":XV,"zoom.to.fit":qV,"zoom.to":JV,"preferences.dark.mode":QV,"preferences.focus.mode":e$,"preferences.debug.mode":t$,"preferences.show.grid":n$,"preferences.use.cad.selection":o$,"preferences.keep.stylemenu.open":r$,"preferences.always.show.snaps":s$,"preferences.rotate.handles":i$,"preferences.binding.handles":a$,"preferences.clone.handles":l$,undo:d$,redo:c$,cut:p$,copy:u$,paste:h$,"copy.as":m$,"export.as":g$,"select.all":f$,"select.none":S$,delete:b$,"new.project":T$,open:y$,save:w$,"save.as":x$,"upload.media":k$,page:v$,search:I$,loading:C$,"export.background":D$,transparent:P$,auto:M$,light:E$,dark:B$,"menu.tools":R$,"menu.transform":A$,"zoom.to.content":L$,"translation.link":H$,"copy.readonly.link":z$,"align.distribute":O$,"create.page":F$,"new.page":j$,"page.name":G$,duplicate:V$,cancel:$$,"copy.invite.link":N$,"create.multiplayer.project":W$,"copy.multiplayer.project":U$,select:K$,eraser:_$,draw:Y$,arrow:Z$,text:X$,sticky:q$,rectangle:J$,ellipse:Q$,triangle:eN,line:tN,rotate:nN,"lock.aspect.ratio":oN,"unlock.aspect.ratio":rN,group:sN,ungroup:iN,"move.to.back":aN,"move.backward":lN,"move.forward":dN,"move.to.front":cN,"reset.angle":pN,lock:uN,unlock:hN,"move.to.page":mN,"flip.horizontal":gN,"flip.vertical":fN,move:SN,"to.front":bN,forward:TN,backward:yN,back:wN,language:xN,image:kN,"keyboard.shortcuts":vN,"dock.position":IN,bottom:CN,top:DN,right:PN,left:MN,"align.left":EN,"align.center.x":BN,"align.right":RN,"align.top":AN,"align.center.y":LN,"align.bottom":HN,"distribute.x":zN,"distribute.y":ON,"stretch.x":FN,"stretch.y":jN,"dialog.save.firsttime":GN,"dialog.save.again":VN,"dialog.cancel":$N,"dialog.no":NN,"dialog.yes":WN,"enter.file.name":UN};var KN="Cor",_N="Preencher",YN="Tra\xE7o",ZN="Tamanho",XN="Manter aberto",qN="Fonte",JN="Alinhamento",QN="Estilos",eW="Aumentar zoom",tW="Diminuir zoom",nW="para",oW="Ficheiro",rW="Editar",sW="Visualizar",iW="Prefer\xEAncias",aW="Entrar",lW="Sair",dW="Torne-se um patrocinador",cW="Zoom na sele\xE7\xE3o",pW="Zoom para caber",uW="Zoom para",hW="Modo Escuro",mW="Modo Foco",gW="Modo Debug",fW="Mostrar Grelha",SW="Usar sele\xE7\xE3o CAD",bW="Manter Menu de Estilos Aberto",TW="Mostrar Pontos de Ajuste",yW="Controlo de Rota\xE7\xE3o",wW="Controlo de Binds",xW="Controlo de Clone",kW="Desfazer",vW="Refazer",IW="Cortar",CW="Copiar",DW="Colar",PW="Copiar como",MW="Exportar como",EW="Selecionar todos",BW="Selecionar nenhum",RW="Apagar",AW="Novo Projeto",LW="Abrir",HW="Salvar",zW="Salvar Como",OW="Upload M\xE9dia",FW="Criar P\xE1gina",jW="Nova P\xE1gina",GW="Nome da P\xE1gina",VW="Duplicar",$W="Cancelar",NW="Copiar Link de Convite",WW="Criar um Projeto Multi-Utilizador",UW="Copiar num Projeto Multi-Utilizador",KW="Selecionar",_W="Borracha",YW="Desenhar",ZW="Seta",XW="Texto",qW="Post-it",JW="Ret\xE2ngulo",QW="Elipse",eU="Tri\xE2ngulo",tU="Linha",nU="Rodar",oU="Trancar a Propor\xE7\xE3o",rU="Destrancar a Propor\xE7\xE3o",sU="Agrupar",iU="Desagrupar",aU="Colocar no Fundo",lU="Mover abaixo",dU="Mover acima",cU="Colocar \xE0 Frente",pU="Reiniciar \xC2ngulo",uU="Trancar",hU="Destrancar",mU="Mover para P\xE1gina",gU="Inverter Horizontalmente",fU="Inverter Verticalmente",SU="Mover",bU="Para Frente",TU="Avan\xE7ar",yU="Recuar",wU="Voltar",xU="L\xEDngua",Cl={"style.menu.color":KN,"style.menu.fill":_N,"style.menu.dash":YN,"style.menu.size":ZN,"style.menu.keep.open":XN,"style.menu.font":qN,"style.menu.align":JN,styles:QN,"zoom.in":eW,"zoom.out":tW,to:nW,"menu.file":oW,"menu.edit":rW,"menu.view":sW,"menu.preferences":iW,"menu.sign.in":aW,"menu.sign.out":lW,"become.a.sponsor":dW,"zoom.to.selection":cW,"zoom.to.fit":pW,"zoom.to":uW,"preferences.dark.mode":hW,"preferences.focus.mode":mW,"preferences.debug.mode":gW,"preferences.show.grid":fW,"preferences.use.cad.selection":SW,"preferences.keep.stylemenu.open":bW,"preferences.always.show.snaps":TW,"preferences.rotate.handles":yW,"preferences.binding.handles":wW,"preferences.clone.handles":xW,undo:kW,redo:vW,cut:IW,copy:CW,paste:DW,"copy.as":PW,"export.as":MW,"select.all":EW,"select.none":BW,delete:RW,"new.project":AW,open:LW,save:HW,"save.as":zW,"upload.media":OW,"create.page":FW,"new.page":jW,"page.name":GW,duplicate:VW,cancel:$W,"copy.invite.link":NW,"create.multiplayer.project":WW,"copy.multiplayer.project":UW,select:KW,eraser:_W,draw:YW,arrow:ZW,text:XW,sticky:qW,rectangle:JW,ellipse:QW,triangle:eU,line:tU,rotate:nU,"lock.aspect.ratio":oU,"unlock.aspect.ratio":rU,group:sU,ungroup:iU,"move.to.back":aU,"move.backward":lU,"move.forward":dU,"move.to.front":cU,"reset.angle":pU,lock:uU,unlock:hU,"move.to.page":mU,"flip.horizontal":gU,"flip.vertical":fU,move:SU,"to.front":bU,forward:TU,backward:yU,back:wU,language:xU};var kU="\u0426\u0432\u0435\u0442",vU="\u0417\u0430\u043F\u043E\u043B\u043D\u044F\u0442\u044C",IU="\u0428\u0442\u0440\u0438\u0445",CU="\u0420\u0430\u0437\u043C\u0435\u0440",DU="\u0414\u0435\u0440\u0436\u0430\u0442\u044C \u043E\u0442\u043A\u0440\u044B\u0442\u044B\u043C",PU="\u0428\u0440\u0438\u0444\u0442",MU="\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435",EU="\u0421\u0442\u0438\u043B\u044C",BU="\u0423\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C",RU="\u0423\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C",AU="\u043A",LU="\u0418\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u044B",HU="\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0435",zU="\u0424\u0430\u0439\u043B",OU="\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435",FU="\u0412\u0438\u0434",jU="\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",GU="\u0412\u043E\u0439\u0442\u0438",VU="\u0412\u044B\u0439\u0442\u0438",$U="\u0421\u0442\u0430\u0442\u044C \u0441\u043F\u043E\u043D\u0441\u043E\u0440\u043E\u043C",NU="\u0412\u0435\u0440\u043D\u0443\u0442\u044C\u0441\u044F \u043A \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u043C\u0443",WU="\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u044E",UU="\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E \u0440\u0430\u0437\u043C\u0435\u0440\u0443 \u044D\u043A\u0440\u0430\u043D\u0430",KU="\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A",_U="\u0422\u0451\u043C\u043D\u0430\u044F \u0442\u0435\u043C\u0430",YU="\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u0438\u0441\u0442\u0438\u0447\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C",ZU="\u0420\u0435\u0436\u0438\u043C \u043E\u0442\u043B\u0430\u0434\u043A\u0438",XU="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0441\u0435\u0442\u043A\u0443",qU="\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C CAD \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435",JU="\u0414\u0435\u0440\u0436\u0430\u0442\u044C \u043C\u0435\u043D\u044E \u0441\u0442\u0438\u043B\u0435\u0439 \u043E\u0442\u043A\u0440\u044B\u0442\u044B\u043C",QU="\u0412\u0441\u0435\u0433\u0434\u0430 \u043F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u0440\u0438\u0432\u044F\u0437\u043A\u0438",eK="\u0420\u0443\u0447\u043A\u0438 \u0432\u0440\u0430\u0449\u0435\u043D\u0438\u044F",tK="\u0420\u0443\u0447\u043A\u0438 \u043F\u0440\u0438\u0432\u044F\u0437\u043A\u0438",nK="\u0420\u0443\u0447\u043A\u0438 \u043A\u043B\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F",oK="\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",rK="\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C",sK="\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C",iK="\u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",aK="\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C",lK="\u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u0430\u043A",dK="\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u0430\u043A",cK="\u0412\u044B\u0434\u0435\u043B\u0438\u0442\u044C \u0432\u0441\u0451",pK="\u0421\u043D\u044F\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435",uK="\u0423\u0434\u0430\u043B\u0438\u0442\u044C",hK="\u041D\u043E\u0432\u044B\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",mK="\u041E\u0442\u043A\u0440\u044B\u0442\u044C",gK="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",fK="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u043A\u0430\u043A",SK="\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u043C\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043B",bK="\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443",TK="\u041D\u043E\u0432\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",yK="\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B",wK="\u0414\u0443\u0431\u043B\u0438\u0440\u043E\u0432\u0430\u0442\u044C",xK="\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",kK="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u044F",vK="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u0442\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F \u0447\u0442\u0435\u043D\u0438\u044F",IK="\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043C\u043D\u043E\u0433\u043E\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",CK="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432 \u043C\u043D\u043E\u0433\u043E\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",DK="\u0412\u044B\u0434\u0435\u043B\u0438\u0442\u044C",PK="\u041B\u0430\u0441\u0442\u0438\u043A",MK="\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C",EK="\u0421\u0442\u0440\u0435\u043B\u043A\u0430",BK="\u0422\u0435\u043A\u0441\u0442",RK="\u0417\u0430\u043C\u0435\u0442\u043A\u0430",AK="\u041F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",LK="\u042D\u043B\u043B\u0438\u043F\u0441",HK="\u0422\u0440\u0435\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",zK="\u041B\u0438\u043D\u0438\u044F",OK="\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u044C",FK="\u0417\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043E\u043E\u0442\u043D\u043E\u0448\u0435\u043D\u0438\u0435 \u0441\u0442\u043E\u0440\u043E\u043D",jK="\u0420\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043E\u043E\u0442\u043D\u043E\u0448\u0435\u043D\u0438\u0435 \u0441\u0442\u043E\u0440\u043E\u043D",GK="\u0421\u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",VK="\u0420\u0430\u0437\u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",$K="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430\u0437\u0430\u0434",NK="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u0437\u0430\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",WK="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u0432\u043F\u0435\u0440\u0451\u0434",UK="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",KK="\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0443\u0433\u043E\u043B",_K="\u0411\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C",YK="\u0420\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C",ZK="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C / \u0440\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C",XK="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443",qK="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",JK="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",QK="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C",e_="\u041D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",t_="\u0412\u043F\u0435\u0440\u0435\u0434",n_="\u041D\u0430 \u0437\u0430\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",o_="\u041D\u0430\u0437\u0430\u0434",r_="\u042F\u0437\u044B\u043A",s_="\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435",i_="\u0420\u0430\u0441\u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043F\u0430\u043D\u0435\u043B\u0438 \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u043E\u0432",a_="\u0421\u043D\u0438\u0437\u0443",l_="\u0421\u043B\u0435\u0432\u0430",d_="\u0421\u043F\u0440\u0430\u0432\u0430",c_="\u0421\u0432\u0435\u0440\u0445\u0443",p_="\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430",u_="\u0421\u043E\u0447\u0435\u0442\u0430\u043D\u0438\u044F \u043A\u043B\u0430\u0432\u0438\u0448",h_="\u041F\u043E\u0438\u0441\u043A",m_="\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430",g_="\u042D\u043A\u0441\u043F\u043E\u0440\u0442 \u0444\u043E\u043D\u0430",f_="\u041F\u0440\u043E\u0437\u0440\u0430\u0447\u043D\u044B\u0439",S_="\u0410\u0432\u0442\u043E",b_="\u0421\u0432\u0435\u0442\u043B\u044B\u0439",T_="\u0422\u0451\u043C\u043D\u044B\u0439",y_="\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435",w_="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043B\u0435\u0432\u043E\u043C\u0443 \u043A\u0440\u0430\u044E",x_="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0446\u0435\u043D\u0442\u0440\u0443 \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",k_="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043F\u0440\u0430\u0432\u043E\u043C\u0443 \u043A\u0440\u0430\u044E",v_="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0432\u0435\u0440\u0445\u043D\u0435\u043C\u0443 \u043A\u0440\u0430\u044E",I_="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0446\u0435\u043D\u0442\u0440\u0443 \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",C_="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043D\u0438\u0436\u043D\u0435\u043C\u0443 \u043A\u0440\u0430\u044E",D_="\u0420\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",P_="\u0420\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",M_="\u0420\u0430\u0441\u0442\u044F\u043D\u0443\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",E_="\u0420\u0430\u0441\u0442\u044F\u043D\u0443\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",B_="\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F",R_="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043D\u0430 \u0442\u0435\u043A\u0443\u0449\u0443\u044E \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443",A_="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043D\u0430 \u043F\u0440\u043E\u0435\u043A\u0442",L_="\u0414\u0430\u043D\u043D\u044B\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0432\u0435\u043B\u0438\u043A\u0438, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u0434\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0438\u0445 \u0432 \u0441\u0441\u044B\u043B\u043A\u0435. \u041D\u0435 \u0432\u043A\u043B\u044E\u0447\u0430\u0439\u0442\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0438\u043B\u0438 \u0432\u0438\u0434\u0435\u043E!",H_="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0442\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442?",z_="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0432 \u0442\u0435\u043A\u0443\u0449\u0435\u043C \u043F\u0440\u043E\u0435\u043A\u0442\u0435?",O_="\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",F_="\u041D\u0435\u0442",j_="\u0414\u0430",G_="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F \u0444\u0430\u0439\u043B\u0430",Dl={"style.menu.color":kU,"style.menu.fill":vU,"style.menu.dash":IU,"style.menu.size":CU,"style.menu.keep.open":DU,"style.menu.font":PU,"style.menu.align":MU,styles:EU,"zoom.in":BU,"zoom.out":RU,to:AU,"menu.tools":LU,"menu.transform":HU,"menu.file":zU,"menu.edit":OU,"menu.view":FU,"menu.preferences":jU,"menu.sign.in":GU,"menu.sign.out":VU,"become.a.sponsor":$U,"zoom.to.content":NU,"zoom.to.selection":WU,"zoom.to.fit":UU,"zoom.to":KU,"preferences.dark.mode":_U,"preferences.focus.mode":YU,"preferences.debug.mode":ZU,"preferences.show.grid":XU,"preferences.use.cad.selection":qU,"preferences.keep.stylemenu.open":JU,"preferences.always.show.snaps":QU,"preferences.rotate.handles":eK,"preferences.binding.handles":tK,"preferences.clone.handles":nK,undo:oK,redo:rK,cut:sK,copy:iK,paste:aK,"copy.as":lK,"export.as":dK,"select.all":cK,"select.none":pK,delete:uK,"new.project":hK,open:mK,save:gK,"save.as":fK,"upload.media":SK,"create.page":bK,"new.page":TK,"page.name":yK,duplicate:wK,cancel:xK,"copy.invite.link":kK,"copy.readonly.link":vK,"create.multiplayer.project":IK,"copy.multiplayer.project":CK,select:DK,eraser:PK,draw:MK,arrow:EK,text:BK,sticky:RK,rectangle:AK,ellipse:LK,triangle:HK,line:zK,rotate:OK,"lock.aspect.ratio":FK,"unlock.aspect.ratio":jK,group:GK,ungroup:VK,"move.to.back":$K,"move.backward":NK,"move.forward":WK,"move.to.front":UK,"reset.angle":KK,lock:_K,unlock:YK,"align.distribute":ZK,"move.to.page":XK,"flip.horizontal":qK,"flip.vertical":JK,move:QK,"to.front":e_,forward:t_,backward:n_,back:o_,language:r_,"translation.link":s_,"dock.position":i_,bottom:a_,left:l_,right:d_,top:c_,page:p_,"keyboard.shortcuts":u_,search:h_,loading:m_,"export.background":g_,transparent:f_,auto:S_,light:b_,dark:T_,image:y_,"align.left":w_,"align.center.x":x_,"align.right":k_,"align.top":v_,"align.center.y":I_,"align.bottom":C_,"distribute.x":D_,"distribute.y":P_,"stretch.x":M_,"stretch.y":E_,share:B_,"copy.current.page.link":R_,"copy.project.link":A_,"data.too.big.encoded":L_,"dialog.save.firsttime":H_,"dialog.save.again":z_,"dialog.cancel":O_,"dialog.no":F_,"dialog.yes":j_,"enter.file.name":G_};var V_="F\xE4rg",$_="Ifylld",N_="Streck",W_="Storlek",U_="H\xE5ll stilmenyn \xF6ppen",K_="Typsnitt",__="Justera",Y_="Utseende",Z_="Zooma in",X_="Zooma ut",q_="Till",J_="Verktyg",Q_="Transform",eY="Arkiv",tY="Redigera",nY="Inneh\xE5ll",oY="Inst\xE4llningar",rY="Logga in",sY="Logga ut",iY="Bli en sponsor",aY="Anpassa zoom till inneh\xE5ll",lY="Anpassa zoom till urval",dY="Anpassa zoom till sk\xE4rm",cY="Zooma till",pY="M\xF6rkt l\xE4ge",uY="Fokusl\xE4ge",hY="Debugl\xE4ge",mY="Visa rutn\xE4t",gY="V\xE4lj som i CAD-mjukvara",fY="H\xE5ll stilmenyn \xF6ppen",SY="Visa alltid f\xE4stpunkter",bY="Rotationshandtag",TY="Bindningshandtag",yY="Kloningshandtag",wY="\xC5ngra",xY="G\xF6r om",kY="Klipp ut",vY="Kopiera",IY="Klistra in",CY="Kopiera som",DY="Exportera till",PY="V\xE4lj alla",MY="V\xE4lj ingen",EY="Radera",BY="Nytt projekt",RY="\xD6ppna",AY="Spara",LY="Spara som",HY="Ladda upp media",zY="Skapa sida",OY="Ny sida",FY="Sidnamn",jY="Duplicera",GY="Avbryt",VY="Kopiera l\xE4nk med redigeringsr\xE4ttigheter",$Y="Kopiera l\xE4nk med l\xE4sr\xE4ttigheter",NY="Skapa ett Multiplayer-projekt",WY="Kopiera till Multiplayer-project",UY="V\xE4lj",KY="Radera",_Y="Rita",YY="Pil",ZY="Text",XY="Klisterlapp",qY="Rektangel",JY="Ellips",QY="Triangel",eZ="Linje",tZ="Rotera",nZ="L\xE5s storleksf\xF6rh\xE5llande",oZ="L\xE5s upp storleksf\xF6rh\xE5llande",rZ="Gruppera",sZ="Avgruppera",iZ="Placera l\xE4ngst bak",aZ="Flytta bak\xE5t",lZ="Flytta fram\xE5t",dZ="Placera l\xE4ngst fram",cZ="\xC5terst\xE4ll vinkel",pZ="L\xE5s",uZ="L\xE5s upp",hZ="Justera / Placera",mZ="Flytta till sida",gZ="V\xE4nd horisontellt",fZ="V\xE4nd vertikalt",SZ="Flytta",bZ="Till l\xE4ngst fram",TZ="Fram\xE5t",yZ="Bak\xE5t",wZ="Till l\xE4ngst bak",xZ="Spr\xE5k",kZ="Mer information",vZ="Dockningsposition",IZ="Botten",CZ="V\xE4nster",DZ="H\xF6ger",PZ="Topp",MZ="Sida",EZ="Tangentbordsgenv\xE4gar",BZ="S\xF6k",RZ="Laddar{dots}",AZ="Exportbakgrund",LZ="Transparent",HZ="Auto",zZ="Ljus",OZ="M\xF6rk",FZ="Github",jZ="Twitter",GZ="Discord",VZ="Bild",Pl={"style.menu.color":V_,"style.menu.fill":$_,"style.menu.dash":N_,"style.menu.size":W_,"style.menu.keep.open":U_,"style.menu.font":K_,"style.menu.align":__,styles:Y_,"zoom.in":Z_,"zoom.out":X_,to:q_,"menu.tools":J_,"menu.transform":Q_,"menu.file":eY,"menu.edit":tY,"menu.view":nY,"menu.preferences":oY,"menu.sign.in":rY,"menu.sign.out":sY,"become.a.sponsor":iY,"zoom.to.content":aY,"zoom.to.selection":lY,"zoom.to.fit":dY,"zoom.to":cY,"preferences.dark.mode":pY,"preferences.focus.mode":uY,"preferences.debug.mode":hY,"preferences.show.grid":mY,"preferences.use.cad.selection":gY,"preferences.keep.stylemenu.open":fY,"preferences.always.show.snaps":SY,"preferences.rotate.handles":bY,"preferences.binding.handles":TY,"preferences.clone.handles":yY,undo:wY,redo:xY,cut:kY,copy:vY,paste:IY,"copy.as":CY,"export.as":DY,"select.all":PY,"select.none":MY,delete:EY,"new.project":BY,open:RY,save:AY,"save.as":LY,"upload.media":HY,"create.page":zY,"new.page":OY,"page.name":FY,duplicate:jY,cancel:GY,"copy.invite.link":VY,"copy.readonly.link":$Y,"create.multiplayer.project":NY,"copy.multiplayer.project":WY,select:UY,eraser:KY,draw:_Y,arrow:YY,text:ZY,sticky:XY,rectangle:qY,ellipse:JY,triangle:QY,line:eZ,rotate:tZ,"lock.aspect.ratio":nZ,"unlock.aspect.ratio":oZ,group:rZ,ungroup:sZ,"move.to.back":iZ,"move.backward":aZ,"move.forward":lZ,"move.to.front":dZ,"reset.angle":cZ,lock:pZ,unlock:uZ,"align.distribute":hZ,"move.to.page":mZ,"flip.horizontal":gZ,"flip.vertical":fZ,move:SZ,"to.front":bZ,forward:TZ,backward:yZ,back:wZ,language:xZ,"translation.link":kZ,"dock.position":vZ,bottom:IZ,left:CZ,right:DZ,top:PZ,page:MZ,"keyboard.shortcuts":EZ,search:BZ,loading:RZ,"export.background":AZ,transparent:LZ,auto:HZ,light:zZ,dark:OZ,github:FZ,twitter:jZ,discord:GZ,image:VZ};var $Z="\u0C30\u0C02\u0C17\u0C41",NZ="\u0C28\u0C3F\u0C02\u0C2A\u0C41",WZ="\u0C05\u0C21\u0C4D\u0C21 \u0C17\u0C40\u0C24",UZ="\u0C2A\u0C30\u0C3F\u0C2E\u0C3E\u0C23\u0C02",KZ="\u0C24\u0C46\u0C30\u0C3F\u0C1A\u0C3F \u0C09\u0C02\u0C1A\u0C41",_Z="\u0C05\u0C15\u0C4D\u0C37\u0C30\u0C3E\u0C15\u0C43\u0C24\u0C3F",YZ="\u0C38\u0C30\u0C3F\u0C2A\u0C30\u0C1A\u0C41",ZZ="\u0C35\u0C3F\u0C27\u0C2E\u0C41\u0C32\u0C41",XZ="\u0C26\u0C17\u0C4D\u0C17\u0C30\u0C17\u0C3E \u0C1A\u0C42\u0C2A\u0C41",qZ="\u0C26\u0C42\u0C30\u0C02\u0C17\u0C3E \u0C1A\u0C42\u0C2A\u0C41",JZ="\u0C35\u0C26\u0C4D\u0C26\u0C15\u0C41",QZ="\u0C2A\u0C30\u0C3F\u0C15\u0C30\u0C3E\u0C32\u0C41",eX="\u0C2E\u0C3E\u0C30\u0C4D\u0C1A\u0C41",tX="\u0C2B\u0C48\u0C32\u0C4D",nX="\u0C2A\u0C30\u0C3F\u0C37\u0C4D\u0C15\u0C30\u0C3F\u0C02\u0C1A\u0C41",oX="\u0C1A\u0C42\u0C2A\u0C41",rX="\u0C0E\u0C02\u0C1A\u0C41\u0C15\u0C4A\u0C28\u0C4D\u0C28\u0C35\u0C3F",sX="\u0C2A\u0C4D\u0C30\u0C35\u0C47\u0C36\u0C3F\u0C02\u0C1A\u0C41",iX="\u0C28\u0C3F\u0C37\u0C4D\u0C15\u0C4D\u0C30\u0C2E\u0C23",aX="\u0C35\u0C3F\u0C30\u0C3E\u0C33\u0C26\u0C3E\u0C30\u0C41\u0C32\u0C41 \u0C05\u0C35\u0C4D\u0C35\u0C02\u0C21\u0C3F",lX="\u0C35\u0C3F\u0C37\u0C2F\u0C3E\u0C28\u0C4D\u0C28\u0C47 \u0C1A\u0C42\u0C2A\u0C41",dX="\u0C0E\u0C02\u0C1A\u0C41\u0C15\u0C41\u0C28\u0C4D\u0C28 \u0C35\u0C3F\u0C37\u0C2F\u0C3E\u0C28\u0C4D\u0C28\u0C47 \u0C1A\u0C42\u0C2A\u0C41",cX="\u0C38\u0C30\u0C3F\u0C2A\u0C46\u0C1F\u0C4D\u0C1F\u0C3F \u0C1A\u0C42\u0C2A\u0C41",pX="\u0C1A\u0C42\u0C2A\u0C41",uX="\u0C1A\u0C40\u0C15\u0C1F\u0C48\u0C28 \u0C15\u0C4D\u0C30\u0C2E\u0C02",hX="\u0C24\u0C40\u0C15\u0C4D\u0C37\u0C23 \u0C15\u0C4D\u0C30\u0C2E\u0C02",mX="\u0C24\u0C2A\u0C4D\u0C2A\u0C41\u0C32\u0C47\u0C30\u0C41 \u0C15\u0C4D\u0C30\u0C2E\u0C02",gX="\u0C1A\u0C1F\u0C4D\u0C30\u0C02 \u0C1A\u0C42\u0C2A\u0C41",fX="CAD\u0C28\u0C3F \u0C35\u0C3E\u0C21\u0C41",SX="\u0C35\u0C3F\u0C27\u0C2E\u0C41\u0C32 \u0C2A\u0C24\u0C4D\u0C24\u0C3F \u0C24\u0C46\u0C30\u0C3F\u0C1A\u0C3F\u0C35\u0C41\u0C02\u0C1A\u0C41",bX="\u0C0E\u0C2A\u0C4D\u0C2A\u0C41\u0C21\u0C42 \u0C26\u0C43\u0C36\u0C4D\u0C2F\u0C2D\u0C3E\u0C17\u0C02 \u0C1A\u0C42\u0C2A\u0C41",TX="\u0C39\u0C4D\u0C2F\u0C3E\u0C02\u0C21\u0C3F\u0C32\u0C4D\u0C38\u0C4D \u0C24\u0C3F\u0C2A\u0C4D\u0C2A\u0C41",yX="\u0C2F\u0C3E\u0C02\u0C21\u0C3F\u0C32\u0C4D\u0C38\u0C4D \u0C15\u0C1F\u0C4D\u0C1F\u0C41",wX="\u0C2F\u0C3E\u0C02\u0C21\u0C3F\u0C32\u0C4D\u0C38\u0C4D \u0C28\u0C15\u0C32\u0C41",xX="\u0C2E\u0C3E\u0C30\u0C4D\u0C2A\u0C41\u0C28\u0C3F \u0C24\u0C3F\u0C30\u0C41\u0C17\u0C17\u0C4A\u0C1F\u0C4D\u0C1F\u0C41",kX="\u0C2E\u0C33\u0C4D\u0C33\u0C40 \u0C2E\u0C3E\u0C30\u0C4D\u0C1A\u0C41",vX="\u0C15\u0C24\u0C4D\u0C24\u0C3F\u0C30\u0C3F\u0C02\u0C1A\u0C41",IX="\u0C28\u0C15\u0C32\u0C41",CX="\u0C05\u0C24\u0C3F\u0C15\u0C3F\u0C02\u0C1A\u0C41",DX="\u0C28\u0C15\u0C32\u0C41\u0C2A\u0C4D\u0C30\u0C24\u0C3F\u0C17\u0C3E \u0C07\u0C15\u0C4D\u0C15\u0C21\u0C3F\u0C15\u0C3F",PX="\u0C0E\u0C17\u0C41\u0C2E\u0C24\u0C3F \u0C07\u0C15\u0C4D\u0C15\u0C21\u0C3F\u0C15\u0C3F",MX="\u0C05\u0C28\u0C4D\u0C28\u0C40 \u0C0E\u0C02\u0C2A\u0C3F\u0C15\u0C1A\u0C46\u0C2F\u0C4D\u0C2F\u0C3F",EX="\u0C0E\u0C26\u0C40 \u0C0E\u0C02\u0C2A\u0C3F\u0C15\u0C1A\u0C46\u0C2F\u0C4D\u0C2F\u0C35\u0C26\u0C4D\u0C26\u0C41",BX="\u0C24\u0C4A\u0C32\u0C17\u0C3F\u0C02\u0C1A\u0C41",RX="\u0C15\u0C4A\u0C24\u0C4D\u0C24 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C41",AX="\u0C24\u0C46\u0C30\u0C41\u0C35\u0C41",LX="\u0C26\u0C3E\u0C2F\u0C3F",HX="\u0C07\u0C32\u0C3E \u0C26\u0C3E\u0C2F\u0C3F",zX="\u0C0E\u0C17\u0C41\u0C2E\u0C24\u0C3F \u0C2E\u0C3E\u0C27\u0C4D\u0C2F\u0C02",OX="\u0C2A\u0C41\u0C1F \u0C15\u0C32\u0C4D\u0C2A\u0C3F\u0C02\u0C1A\u0C41",FX="\u0C15\u0C4A\u0C24\u0C4D\u0C24 \u0C2A\u0C41\u0C1F",jX="\u0C2A\u0C41\u0C1F \u0C2A\u0C47\u0C30\u0C41",GX="\u0C2E\u0C3E\u0C30\u0C41\u0C2A\u0C4D\u0C30\u0C24\u0C3F",VX="\u0C30\u0C26\u0C4D\u0C26\u0C41\u0C1A\u0C47\u0C2F\u0C3F",$X="\u0C05\u0C39\u0C4D\u0C35\u0C3E\u0C28 \u0C32\u0C3F\u0C02\u0C15\u0C41 \u0C30\u0C3E\u0C2F\u0C3F",NX="\u0C2E\u0C3E\u0C30\u0C28\u0C3F\u0C2A\u0C4D\u0C30\u0C24\u0C3F \u0C32\u0C3F\u0C02\u0C15\u0C41 \u0C30\u0C3E\u0C2F\u0C3F",WX="\u0C2C\u0C39\u0C41\u0C15\u0C30\u0C4D\u0C24\u0C32 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C41 \u0C15\u0C32\u0C4D\u0C2A\u0C3F\u0C02\u0C1A\u0C41",UX="\u0C2C\u0C39\u0C41\u0C15\u0C30\u0C4D\u0C24\u0C32 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C41\u0C15\u0C41 \u0C30\u0C3E\u0C2F\u0C3F",KX="\u0C0E\u0C02\u0C2A\u0C3F\u0C15\u0C1A\u0C46\u0C2F\u0C4D\u0C2F\u0C3F",_X="Eraser",YX="\u0C17\u0C40\u0C2F\u0C4D\u0C2F\u0C3F",ZX="\u0C2C\u0C3E\u0C23\u0C02",XX="\u0C05\u0C15\u0C4D\u0C37\u0C30\u0C2E\u0C41\u0C32\u0C41",qX="\u0C05\u0C24\u0C41\u0C15\u0C4D\u0C15\u0C41\u0C28\u0C47",JX="\u0C26\u0C40\u0C30\u0C4D\u0C18\u0C1A\u0C24\u0C41\u0C30\u0C38\u0C4D\u0C30\u0C02",QX="\u0C26\u0C40\u0C30\u0C4D\u0C18\u0C35\u0C43\u0C24\u0C4D\u0C24\u0C02",eq="\u0C24\u0C4D\u0C30\u0C3F\u0C2D\u0C41\u0C1C\u0C02",tq="\u0C17\u0C40\u0C24",nq="\u0C24\u0C3F\u0C2A\u0C4D\u0C2A\u0C41",oq="\u0C06\u0C38\u0C4D\u0C2A\u0C46\u0C15\u0C4D\u0C1F\u0C4D \u0C28\u0C3F\u0C37\u0C4D\u0C2A\u0C24\u0C4D\u0C24\u0C3F\u0C15\u0C3F \u0C24\u0C3E\u0C33\u0C02\u0C2A\u0C46\u0C1F\u0C4D\u0C1F\u0C41",rq="\u0C06\u0C38\u0C4D\u0C2A\u0C46\u0C15\u0C4D\u0C1F\u0C4D \u0C28\u0C3F\u0C37\u0C4D\u0C2A\u0C24\u0C4D\u0C24\u0C3F \u0C24\u0C3E\u0C33\u0C02\u0C24\u0C46\u0C30\u0C41\u0C35\u0C41",sq="\u0C17\u0C41\u0C02\u0C2A\u0C41\u0C17\u0C3E \u0C0F\u0C30\u0C4D\u0C2A\u0C30\u0C1A\u0C41",iq="\u0C17\u0C41\u0C02\u0C2A\u0C41\u0C28\u0C41 \u0C1A\u0C46\u0C26\u0C30\u0C17\u0C4A\u0C1F\u0C4D\u0C1F\u0C41",aq="\u0C06\u0C16\u0C30\u0C3F\u0C15\u0C3F \u0C1C\u0C30\u0C41\u0C2A\u0C41",lq="\u0C35\u0C46\u0C28\u0C41\u0C15\u0C15\u0C41 \u0C1C\u0C30\u0C41\u0C2A\u0C41",dq="\u0C2E\u0C41\u0C02\u0C26\u0C41\u0C15\u0C41 \u0C1C\u0C30\u0C41\u0C2A\u0C41",cq="\u0C2E\u0C4A\u0C26\u0C1F\u0C3F\u0C15\u0C3F \u0C1C\u0C30\u0C41\u0C2A\u0C41",pq="\u0C15\u0C4B\u0C23\u0C02 \u0C30\u0C40\u0C38\u0C46\u0C1F\u0C4D",uq="\u0C24\u0C3E\u0C33\u0C02 \u0C35\u0C46\u0C2F\u0C4D\u0C2F\u0C3F",hq="\u0C24\u0C3E\u0C33\u0C02 \u0C24\u0C3F\u0C2F\u0C4D\u0C2F\u0C3F",mq=" \u0C38\u0C30\u0C3F\u0C2A\u0C30\u0C1A\u0C41/\u0C35\u0C46\u0C26\u0C1C\u0C32\u0C4D\u0C32\u0C41",gq="\u0C2A\u0C41\u0C1F\u0C32\u0C4B\u0C15\u0C3F \u0C1C\u0C30\u0C41\u0C2A\u0C41",fq="\u0C05\u0C21\u0C4D\u0C21\u0C02\u0C17\u0C3E \u0C2A\u0C32\u0C4D\u0C1F\u0C40",Sq="\u0C28\u0C3F\u0C32\u0C41\u0C35\u0C41\u0C17\u0C3E \u0C2A\u0C32\u0C4D\u0C1F\u0C40",bq="\u0C1C\u0C30\u0C41\u0C2A\u0C41",Tq="\u0C2E\u0C4A\u0C26\u0C1F\u0C3F\u0C15\u0C3F",yq="\u0C2E\u0C41\u0C02\u0C26\u0C41\u0C15\u0C41",wq="\u0C35\u0C46\u0C28\u0C41\u0C15\u0C15\u0C41",xq="\u0C06\u0C16\u0C30\u0C3F\u0C15\u0C3F",kq="\u0C2D\u0C3E\u0C37",vq="\u0C2E\u0C30\u0C3F \u0C15\u0C4A\u0C28\u0C4D\u0C28\u0C3F \u0C35\u0C3F\u0C37\u0C2F\u0C3E\u0C32\u0C41",Iq="\u0C2E\u0C02\u0C1A \u0C38\u0C4D\u0C25\u0C3E\u0C28\u0C02",Cq="\u0C05\u0C21\u0C41\u0C17\u0C41\u0C28",Dq="\u0C0E\u0C21\u0C2E\u0C35\u0C48\u0C2A\u0C41",Pq="\u0C15\u0C41\u0C21\u0C3F\u0C35\u0C48\u0C2A\u0C41",Mq="\u0C2A\u0C48\u0C28",Eq="\u0C2A\u0C41\u0C24",Bq="\u0C15\u0C40\u0C2C\u0C4B\u0C30\u0C4D\u0C21\u0C4D \u0C38\u0C24\u0C4D\u0C35\u0C30\u0C2E\u0C3E\u0C30\u0C4D\u0C17\u0C02",Rq="\u0C35\u0C46\u0C24\u0C41\u0C15\u0C41",Aq="Loading{dots}",Lq="\u0C28\u0C47\u0C2A\u0C25\u0C4D\u0C2F\u0C02 \u0C0E\u0C17\u0C41\u0C2E\u0C24\u0C3F",Hq="\u0C15\u0C3E\u0C02\u0C24\u0C3F \u0C2D\u0C47\u0C26\u0C4D\u0C2F\u0C2E\u0C41",zq="\u0C38\u0C4D\u0C35\u0C2F\u0C02\u0C15\u0C43\u0C24\u0C02",Oq="\u0C35\u0C46\u0C32\u0C41\u0C24\u0C41\u0C30\u0C41",Fq="\u0C1A\u0C40\u0C15\u0C1F\u0C3F",jq="Github",Gq="Twitter",Vq="Discord",$q="\u0C1A\u0C3F\u0C24\u0C4D\u0C30\u0C02",Nq="\u0C0E\u0C21\u0C2E\u0C35\u0C48\u0C2A\u0C41\u0C15\u0C41 \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41",Wq="\u0C05\u0C21\u0C4D\u0C21\u0C02\u0C17\u0C3E \u0C2E\u0C27\u0C4D\u0C2F\u0C32\u0C4B \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41",Uq="\u0C15\u0C41\u0C21\u0C3F\u0C35\u0C48\u0C2A\u0C41\u0C15\u0C41 \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41",Kq="\u0C2A\u0C48\u0C15\u0C3F \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41",_q="\u0C28\u0C3F\u0C32\u0C41\u0C35\u0C41\u0C17\u0C3E \u0C2E\u0C27\u0C4D\u0C2F\u0C32\u0C4B \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41",Yq="\u0C05\u0C21\u0C41\u0C17\u0C41\u0C28 \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41",Zq="\u0C05\u0C21\u0C4D\u0C21\u0C02\u0C17\u0C3E \u0C2A\u0C02\u0C1A\u0C41",Xq="\u0C28\u0C3F\u0C32\u0C41\u0C35\u0C41\u0C17\u0C3E \u0C2A\u0C02\u0C1A\u0C41",qq="\u0C05\u0C21\u0C4D\u0C21\u0C02\u0C17\u0C3E \u0C32\u0C3E\u0C17\u0C41",Jq="\u0C28\u0C3F\u0C32\u0C41\u0C35\u0C41\u0C17\u0C3E \u0C32\u0C3E\u0C17\u0C41",Qq="\u0C2E\u0C40\u0C30\u0C41 \u0C08 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C4D \u0C2D\u0C26\u0C4D\u0C30\u0C2A\u0C30\u0C1A\u0C41\u0C15\u0C4B\u0C35\u0C3E\u0C32\u0C28\u0C3F \u0C05\u0C28\u0C41\u0C15\u0C41\u0C02\u0C1F\u0C41\u0C28\u0C4D\u0C28\u0C3E\u0C30\u0C3E?",eJ="\u0C2E\u0C40\u0C30\u0C41 \u0C08 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C4D \u0C2D\u0C26\u0C4D\u0C30\u0C2A\u0C30\u0C1A\u0C41\u0C15\u0C4B\u0C35\u0C3E\u0C32\u0C28\u0C3F \u0C05\u0C28\u0C41\u0C15\u0C41\u0C02\u0C1F\u0C41\u0C28\u0C4D\u0C28\u0C3E\u0C30\u0C3E?",tJ="\u0C30\u0C26\u0C4D\u0C26\u0C41\u0C1A\u0C46\u0C2F\u0C4D\u0C2F\u0C3F",nJ="\u0C35\u0C26\u0C4D\u0C26\u0C41",oJ="\u0C38\u0C30\u0C47",rJ="\u0C2B\u0C48\u0C32\u0C4D \u0C2A\u0C46\u0C30\u0C41 \u0C1A\u0C46\u0C2A\u0C4D\u0C2A\u0C02\u0C21\u0C3F",Ml={"style.menu.color":$Z,"style.menu.fill":NZ,"style.menu.dash":WZ,"style.menu.size":UZ,"style.menu.keep.open":KZ,"style.menu.font":_Z,"style.menu.align":YZ,styles:ZZ,"zoom.in":XZ,"zoom.out":qZ,to:JZ,"menu.tools":QZ,"menu.transform":eX,"menu.file":tX,"menu.edit":nX,"menu.view":oX,"menu.preferences":rX,"menu.sign.in":sX,"menu.sign.out":iX,"become.a.sponsor":aX,"zoom.to.content":lX,"zoom.to.selection":dX,"zoom.to.fit":cX,"zoom.to":pX,"preferences.dark.mode":uX,"preferences.focus.mode":hX,"preferences.debug.mode":mX,"preferences.show.grid":gX,"preferences.use.cad.selection":fX,"preferences.keep.stylemenu.open":SX,"preferences.always.show.snaps":bX,"preferences.rotate.handles":TX,"preferences.binding.handles":yX,"preferences.clone.handles":wX,undo:xX,redo:kX,cut:vX,copy:IX,paste:CX,"copy.as":DX,"export.as":PX,"select.all":MX,"select.none":EX,delete:BX,"new.project":RX,open:AX,save:LX,"save.as":HX,"upload.media":zX,"create.page":OX,"new.page":FX,"page.name":jX,duplicate:GX,cancel:VX,"copy.invite.link":$X,"copy.readonly.link":NX,"create.multiplayer.project":WX,"copy.multiplayer.project":UX,select:KX,eraser:_X,draw:YX,arrow:ZX,text:XX,sticky:qX,rectangle:JX,ellipse:QX,triangle:eq,line:tq,rotate:nq,"lock.aspect.ratio":oq,"unlock.aspect.ratio":rq,group:sq,ungroup:iq,"move.to.back":aq,"move.backward":lq,"move.forward":dq,"move.to.front":cq,"reset.angle":pq,lock:uq,unlock:hq,"align.distribute":mq,"move.to.page":gq,"flip.horizontal":fq,"flip.vertical":Sq,move:bq,"to.front":Tq,forward:yq,backward:wq,back:xq,language:kq,"translation.link":vq,"dock.position":Iq,bottom:Cq,left:Dq,right:Pq,top:Mq,page:Eq,"keyboard.shortcuts":Bq,search:Rq,loading:Aq,"export.background":Lq,transparent:Hq,auto:zq,light:Oq,dark:Fq,github:jq,twitter:Gq,discord:Vq,image:$q,"align.left":Nq,"align.center.x":Wq,"align.right":Uq,"align.top":Kq,"align.center.y":_q,"align.bottom":Yq,"distribute.x":Zq,"distribute.y":Xq,"stretch.x":qq,"stretch.y":Jq,"dialog.save.firsttime":Qq,"dialog.save.again":eJ,"dialog.cancel":tJ,"dialog.no":nJ,"dialog.yes":oJ,"enter.file.name":rJ};var sJ="\u0E2A\u0E35",iJ="\u0E40\u0E15\u0E34\u0E21",aJ="\u0E01\u0E23\u0E2D\u0E1A",lJ="\u0E02\u0E19\u0E32\u0E14",dJ="\u0E40\u0E1B\u0E34\u0E14\u0E17\u0E34\u0E49\u0E07\u0E44\u0E27\u0E49",cJ="\u0E41\u0E1A\u0E1A\u0E2D\u0E31\u0E01\u0E29\u0E23",pJ="\u0E08\u0E31\u0E14\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07",uJ="\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A",hJ="\u0E0B\u0E39\u0E21\u0E40\u0E02\u0E49\u0E32",mJ="\u0E0B\u0E39\u0E21\u0E2D\u0E2D\u0E01",gJ="\u0E0B\u0E39\u0E21\u0E44\u0E1B\u0E17\u0E35\u0E48",fJ="\u0E40\u0E04\u0E23\u0E37\u0E48\u0E2D\u0E07\u0E21\u0E37\u0E2D",SJ="\u0E41\u0E1B\u0E25\u0E07",bJ="\u0E44\u0E1F\u0E25\u0E4C",TJ="\u0E41\u0E01\u0E49\u0E44\u0E02",yJ="\u0E21\u0E38\u0E21\u0E21\u0E2D\u0E07",wJ="\u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32",xJ="\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A",kJ="\u0E2D\u0E2D\u0E01\u0E08\u0E32\u0E01\u0E23\u0E30\u0E1A\u0E1A",vJ="\u0E23\u0E48\u0E27\u0E21\u0E40\u0E1B\u0E47\u0E19\u0E2A\u0E1B\u0E2D\u0E19\u0E40\u0E0B\u0E2D\u0E23\u0E4C",IJ="\u0E01\u0E25\u0E31\u0E1A\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E40\u0E19\u0E37\u0E49\u0E2D\u0E2B\u0E32",CJ="\u0E0B\u0E39\u0E21\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E2A\u0E48\u0E27\u0E19\u0E17\u0E35\u0E48\u0E40\u0E25\u0E37\u0E2D\u0E01",DJ="\u0E0B\u0E39\u0E21\u0E43\u0E2B\u0E49\u0E40\u0E15\u0E47\u0E21\u0E1E\u0E2D\u0E14\u0E35",PJ="\u0E0B\u0E39\u0E21\u0E44\u0E1B\u0E17\u0E35\u0E48",MJ="\u0E42\u0E2B\u0E21\u0E14\u0E21\u0E37\u0E14",EJ="\u0E42\u0E2B\u0E21\u0E14\u0E42\u0E1F\u0E01\u0E31\u0E2A",BJ="\u0E42\u0E2B\u0E21\u0E14\u0E14\u0E35\u0E1A\u0E31\u0E01",RJ="\u0E41\u0E2A\u0E14\u0E07\u0E15\u0E32\u0E23\u0E32\u0E07",AJ="\u0E01\u0E32\u0E23\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E41\u0E1A\u0E1A CAD",LJ="\u0E40\u0E1B\u0E34\u0E14\u0E40\u0E21\u0E19\u0E39\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E34\u0E49\u0E07\u0E44\u0E27\u0E49",HJ="\u0E41\u0E2A\u0E14\u0E07\u0E2A\u0E41\u0E19\u0E1B\u0E15\u0E25\u0E2D\u0E14",zJ="\u0E41\u0E2A\u0E14\u0E07\u0E08\u0E38\u0E14\u0E08\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E2B\u0E21\u0E38\u0E19",OJ="\u0E41\u0E2A\u0E14\u0E07\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E25\u0E02\u0E2D\u0E49\u0E32\u0E07\u0E2D\u0E34\u0E07",FJ="\u0E41\u0E2A\u0E14\u0E07\u0E15\u0E31\u0E27\u0E42\u0E04\u0E25\u0E19",jJ="\u0E40\u0E25\u0E34\u0E01\u0E17\u0E33",GJ="\u0E17\u0E33\u0E0B\u0E49\u0E33",VJ="\u0E15\u0E31\u0E14",$J="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01",NJ="\u0E27\u0E32\u0E07",WJ="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E40\u0E1B\u0E47\u0E19",UJ="\u0E2A\u0E48\u0E07\u0E2D\u0E2D\u0E01\u0E40\u0E1B\u0E47\u0E19",KJ="\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14",_J="\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E2A\u0E34\u0E48\u0E07\u0E17\u0E35\u0E48\u0E40\u0E25\u0E37\u0E2D\u0E01",YJ="\u0E25\u0E1A",ZJ="\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E01\u0E15\u0E4C\u0E43\u0E2B\u0E21\u0E48",XJ="\u0E40\u0E1B\u0E34\u0E14",qJ="\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01",JJ="\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E40\u0E1B\u0E47\u0E19",QJ="\u0E2D\u0E31\u0E1E\u0E42\u0E2B\u0E25\u0E14\u0E21\u0E35\u0E40\u0E14\u0E35\u0E22",eQ="\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E2B\u0E19\u0E49\u0E32",tQ="\u0E2B\u0E19\u0E49\u0E32\u0E43\u0E2B\u0E21\u0E48",nQ="\u0E0A\u0E37\u0E48\u0E2D\u0E2B\u0E19\u0E49\u0E32",oQ="\u0E2A\u0E33\u0E40\u0E19\u0E32",rQ="\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",sQ="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E25\u0E34\u0E07\u0E01\u0E4C\u0E40\u0E0A\u0E34\u0E0D",iQ="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E25\u0E34\u0E07\u0E01\u0E4C\u0E41\u0E1A\u0E1A\u0E43\u0E2B\u0E49\u0E2D\u0E48\u0E32\u0E19\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E40\u0E14\u0E35\u0E22\u0E27",aQ="\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E01\u0E15\u0E4C\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E2B\u0E25\u0E32\u0E22\u0E04\u0E19",lQ="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E01\u0E15\u0E4C\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E2B\u0E25\u0E32\u0E22\u0E04\u0E19",dQ="\u0E40\u0E25\u0E37\u0E2D\u0E01",cQ="\u0E22\u0E32\u0E07\u0E25\u0E1A",pQ="\u0E27\u0E32\u0E14",uQ="\u0E25\u0E39\u0E01\u0E28\u0E23",hQ="\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21",mQ="\u0E01\u0E23\u0E30\u0E14\u0E32\u0E29\u0E42\u0E19\u0E4A\u0E15",gQ="\u0E2A\u0E35\u0E48\u0E40\u0E2B\u0E25\u0E35\u0E48\u0E22\u0E21\u0E1C\u0E37\u0E19\u0E1C\u0E49\u0E32",fQ="\u0E27\u0E07\u0E23\u0E35",SQ="\u0E2A\u0E32\u0E21\u0E40\u0E2B\u0E25\u0E35\u0E48\u0E22\u0E21",bQ="\u0E40\u0E2A\u0E49\u0E19",TQ="\u0E2B\u0E21\u0E38\u0E19",yQ="\u0E25\u0E47\u0E2D\u0E04\u0E2D\u0E31\u0E15\u0E23\u0E32\u0E2A\u0E48\u0E27\u0E19\u0E20\u0E32\u0E1E",wQ="\u0E1B\u0E25\u0E14\u0E25\u0E47\u0E2D\u0E01\u0E2D\u0E31\u0E15\u0E23\u0E32\u0E2A\u0E48\u0E27\u0E19\u0E20\u0E32\u0E1E",xQ="\u0E01\u0E25\u0E38\u0E48\u0E21",kQ="\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E01\u0E25\u0E38\u0E48\u0E21",vQ="\u0E22\u0E49\u0E32\u0E22\u0E44\u0E1B\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E25\u0E31\u0E07",IQ="\u0E02\u0E22\u0E31\u0E1A\u0E16\u0E2D\u0E22\u0E2B\u0E25\u0E31\u0E07",CQ="\u0E02\u0E22\u0E31\u0E1A\u0E44\u0E1B\u0E2B\u0E19\u0E49\u0E32",DQ="\u0E22\u0E49\u0E32\u0E22\u0E44\u0E1B\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E19\u0E49\u0E32",PQ="\u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15\u0E21\u0E38\u0E21",MQ="\u0E25\u0E47\u0E2D\u0E04",EQ="\u0E1B\u0E25\u0E14\u0E25\u0E47\u0E2D\u0E04",BQ="\u0E08\u0E31\u0E14\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07 / \u0E01\u0E23\u0E30\u0E08\u0E32\u0E22",RQ="\u0E22\u0E49\u0E32\u0E22\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E2B\u0E19\u0E49\u0E32",AQ="\u0E1E\u0E25\u0E34\u0E01\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19",LQ="\u0E1E\u0E25\u0E34\u0E01\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07",HQ="\u0E22\u0E49\u0E32\u0E22",zQ="\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E19\u0E49\u0E32",OQ="\u0E02\u0E49\u0E32\u0E07\u0E2B\u0E19\u0E49\u0E32",FQ="\u0E02\u0E49\u0E32\u0E07\u0E2B\u0E25\u0E31\u0E07",jQ="\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E25\u0E31\u0E07",GQ="\u0E20\u0E32\u0E29\u0E32",VQ="\u0E40\u0E23\u0E35\u0E22\u0E19\u0E23\u0E39\u0E49\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E15\u0E34\u0E21",$Q="\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07\u0E41\u0E16\u0E1A\u0E40\u0E04\u0E23\u0E37\u0E48\u0E2D\u0E07\u0E21\u0E37\u0E2D",NQ="\u0E02\u0E49\u0E32\u0E07\u0E25\u0E48\u0E32\u0E07",WQ="\u0E02\u0E49\u0E32\u0E07\u0E0B\u0E49\u0E32\u0E22",UQ="\u0E02\u0E49\u0E32\u0E07\u0E02\u0E27\u0E32",KQ="\u0E02\u0E49\u0E32\u0E07\u0E1A\u0E19",_Q="\u0E2B\u0E19\u0E49\u0E32",YQ="\u0E41\u0E1B\u0E49\u0E19\u0E1E\u0E34\u0E21\u0E1E\u0E4C\u0E25\u0E31\u0E14",ZQ="\u0E04\u0E49\u0E19\u0E2B\u0E32",XQ="\u0E01\u0E33\u0E25\u0E31\u0E07\u0E42\u0E2B\u0E25\u0E14{dots}",qQ="\u0E2A\u0E48\u0E07\u0E2D\u0E2D\u0E01\u0E1E\u0E37\u0E49\u0E19\u0E2B\u0E25\u0E31\u0E07",JQ="\u0E42\u0E1B\u0E23\u0E48\u0E07\u0E43\u0E2A",QQ="\u0E2D\u0E31\u0E15\u0E42\u0E19\u0E21\u0E31\u0E15\u0E34",eee="\u0E2A\u0E27\u0E48\u0E32\u0E07",tee="\u0E21\u0E37\u0E14",nee="Github",oee="Twitter",ree="Discord",see="\u0E20\u0E32\u0E1E",iee="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E0A\u0E34\u0E14\u0E0B\u0E49\u0E32\u0E22",aee="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E01\u0E36\u0E48\u0E07\u0E01\u0E25\u0E32\u0E07\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19",lee="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E0A\u0E34\u0E14\u0E02\u0E27\u0E32",dee="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E14\u0E49\u0E32\u0E19\u0E1A\u0E19",cee="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E01\u0E36\u0E48\u0E07\u0E01\u0E25\u0E32\u0E07\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07",pee="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E14\u0E49\u0E32\u0E19\u0E25\u0E48\u0E32\u0E07",uee="\u0E01\u0E23\u0E30\u0E08\u0E32\u0E22\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19",hee="\u0E01\u0E23\u0E30\u0E08\u0E32\u0E22\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07",mee="\u0E22\u0E37\u0E14\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19",gee="\u0E22\u0E37\u0E14\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07",fee="\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E47\u0E01\u0E15\u0E4C\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?",See="\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E01\u0E32\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E41\u0E1B\u0E25\u0E07\u0E43\u0E19\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E47\u0E01\u0E15\u0E4C\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?",bee="\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",Tee="\u0E44\u0E21\u0E48",yee="\u0E43\u0E0A\u0E48",wee="\u0E01\u0E23\u0E2D\u0E01\u0E0A\u0E37\u0E48\u0E2D\u0E44\u0E1F\u0E25\u0E4C",El={"style.menu.color":sJ,"style.menu.fill":iJ,"style.menu.dash":aJ,"style.menu.size":lJ,"style.menu.keep.open":dJ,"style.menu.font":cJ,"style.menu.align":pJ,styles:uJ,"zoom.in":hJ,"zoom.out":mJ,to:gJ,"menu.tools":fJ,"menu.transform":SJ,"menu.file":bJ,"menu.edit":TJ,"menu.view":yJ,"menu.preferences":wJ,"menu.sign.in":xJ,"menu.sign.out":kJ,"become.a.sponsor":vJ,"zoom.to.content":IJ,"zoom.to.selection":CJ,"zoom.to.fit":DJ,"zoom.to":PJ,"preferences.dark.mode":MJ,"preferences.focus.mode":EJ,"preferences.debug.mode":BJ,"preferences.show.grid":RJ,"preferences.use.cad.selection":AJ,"preferences.keep.stylemenu.open":LJ,"preferences.always.show.snaps":HJ,"preferences.rotate.handles":zJ,"preferences.binding.handles":OJ,"preferences.clone.handles":FJ,undo:jJ,redo:GJ,cut:VJ,copy:$J,paste:NJ,"copy.as":WJ,"export.as":UJ,"select.all":KJ,"select.none":_J,delete:YJ,"new.project":ZJ,open:XJ,save:qJ,"save.as":JJ,"upload.media":QJ,"create.page":eQ,"new.page":tQ,"page.name":nQ,duplicate:oQ,cancel:rQ,"copy.invite.link":sQ,"copy.readonly.link":iQ,"create.multiplayer.project":aQ,"copy.multiplayer.project":lQ,select:dQ,eraser:cQ,draw:pQ,arrow:uQ,text:hQ,sticky:mQ,rectangle:gQ,ellipse:fQ,triangle:SQ,line:bQ,rotate:TQ,"lock.aspect.ratio":yQ,"unlock.aspect.ratio":wQ,group:xQ,ungroup:kQ,"move.to.back":vQ,"move.backward":IQ,"move.forward":CQ,"move.to.front":DQ,"reset.angle":PQ,lock:MQ,unlock:EQ,"align.distribute":BQ,"move.to.page":RQ,"flip.horizontal":AQ,"flip.vertical":LQ,move:HQ,"to.front":zQ,forward:OQ,backward:FQ,back:jQ,language:GQ,"translation.link":VQ,"dock.position":$Q,bottom:NQ,left:WQ,right:UQ,top:KQ,page:_Q,"keyboard.shortcuts":YQ,search:ZQ,loading:XQ,"export.background":qQ,transparent:JQ,auto:QQ,light:eee,dark:tee,github:nee,twitter:oee,discord:ree,image:see,"align.left":iee,"align.center.x":aee,"align.right":lee,"align.top":dee,"align.center.y":cee,"align.bottom":pee,"distribute.x":uee,"distribute.y":hee,"stretch.x":mee,"stretch.y":gee,"dialog.save.firsttime":fee,"dialog.save.again":See,"dialog.cancel":bee,"dialog.no":Tee,"dialog.yes":yee,"enter.file.name":wee};var xee="Renk",kee="Doldur",vee="\xC7izgi",Iee="Boyut",Cee="A\xE7\u0131k Tut",Dee="Yaz\u0131 Tipi",Pee="Hizala",Mee="Stiller",Eee="Yak\u0131nla\u015Ft\u0131r",Bee="Uzakla\u015Ft\u0131r",Ree="",Aee="Dosya",Lee="D\xFCzenle",Hee="G\xF6r\xFCnt\xFC",zee="Tercihler",Oee="Giri\u015F Yap",Fee="Oturumu Kapat",jee="Sponsor Ol",Gee="Se\xE7ime Yak\u0131nla\u015Ft\u0131r",Vee="S\u0131\u011Fd\u0131rmak i\xE7in Yak\u0131nla\u015Ft\u0131r",$ee="Yak\u0131nla\u015Ft\u0131r",Nee="Karanl\u0131k Mod",Wee="Odak Modu",Uee="Debug Modu",Kee="Izgaray\u0131 G\xF6ster",_ee="CAD Se\xE7imi Kullan",Yee="Stil Men\xFCs\xFCn\xFC A\xE7\u0131k Tut",Zee="Hiza \xC7izgilerini Hep G\xF6ster",Xee="Rotasyon Kontrolc\xFCleri",qee="Ba\u011Flama Kontrolc\xFCleri",Jee="Klon Kontrolc\xFCleri",Qee="Geri Al",ete="Yinele",tte="Kes",nte="Kopyala",ote="Yap\u0131\u015Ft\u0131r",rte="Olarak Kopyala",ste="Olarak D\u0131\u015Far\u0131 Aktar",ite="Hepsini Se\xE7",ate="Hi\xE7birini Se\xE7me",lte="Sil",dte="Yeni Proje",cte="A\xE7",pte="Kaydet",ute="Farkl\u0131 Kaydet",hte="Medya Y\xFCkle",mte="Sayfa Olu\u015Ftur",gte="Yeni Sayfa",fte="Sayfa \u0130smi",Ste="Kopya Olu\u015Ftur",bte="\u0130ptal",Tte="Davet Linkini Kopyala",yte="\xC7ok Oyunculu Proje Olu\u015Ftur",wte="\xC7ok Oyunculu Projeye Kopyala",xte="Se\xE7",kte="Silgi",vte="\xC7izim",Ite="Ok",Cte="Yaz\u0131",Dte="Yap\u0131\u015Fkan",Pte="Dikd\xF6rtgen",Mte="Elips",Ete="\xDC\xE7gen",Bte="\xC7izgi",Rte="D\xF6nd\xFCr",Ate="En Boy Oran\u0131n\u0131 Kilitle",Lte="En Boy Oran\u0131 Kilidini A\xE7",Hte="Grupla",zte="Gruplamay\u0131 Kald\u0131r",Ote="Arkaya Ta\u015F\u0131",Fte="En Arkaya Ta\u015F\u0131",jte="En \xD6ne Ta\u015F\u0131",Gte="\xD6ne Ta\u015F\u0131",Vte="A\xE7\u0131y\u0131 S\u0131f\u0131rla",$te="Kilitle",Nte="Kilidini A\xE7",Wte="Sayfaya Ta\u015F\u0131",Ute="Yatay \xC7evir",Kte="Dikey \xC7evir",_te="Ta\u015F\u0131",Yte="\xD6ne",Zte="En \xD6ne",Xte="En Arkaya",qte="Arkaya",Jte="Dil",Bl={"style.menu.color":xee,"style.menu.fill":kee,"style.menu.dash":vee,"style.menu.size":Iee,"style.menu.keep.open":Cee,"style.menu.font":Dee,"style.menu.align":Pee,styles:Mee,"zoom.in":Eee,"zoom.out":Bee,to:Ree,"menu.file":Aee,"menu.edit":Lee,"menu.view":Hee,"menu.preferences":zee,"menu.sign.in":Oee,"menu.sign.out":Fee,"become.a.sponsor":jee,"zoom.to.selection":Gee,"zoom.to.fit":Vee,"zoom.to":$ee,"preferences.dark.mode":Nee,"preferences.focus.mode":Wee,"preferences.debug.mode":Uee,"preferences.show.grid":Kee,"preferences.use.cad.selection":_ee,"preferences.keep.stylemenu.open":Yee,"preferences.always.show.snaps":Zee,"preferences.rotate.handles":Xee,"preferences.binding.handles":qee,"preferences.clone.handles":Jee,undo:Qee,redo:ete,cut:tte,copy:nte,paste:ote,"copy.as":rte,"export.as":ste,"select.all":ite,"select.none":ate,delete:lte,"new.project":dte,open:cte,save:pte,"save.as":ute,"upload.media":hte,"create.page":mte,"new.page":gte,"page.name":fte,duplicate:Ste,cancel:bte,"copy.invite.link":Tte,"create.multiplayer.project":yte,"copy.multiplayer.project":wte,select:xte,eraser:kte,draw:vte,arrow:Ite,text:Cte,sticky:Dte,rectangle:Pte,ellipse:Mte,triangle:Ete,line:Bte,rotate:Rte,"lock.aspect.ratio":Ate,"unlock.aspect.ratio":Lte,group:Hte,ungroup:zte,"move.to.back":Ote,"move.backward":Fte,"move.forward":jte,"move.to.front":Gte,"reset.angle":Vte,lock:$te,unlock:Nte,"move.to.page":Wte,"flip.horizontal":Ute,"flip.vertical":Kte,move:_te,"to.front":Yte,forward:Zte,backward:Xte,back:qte,language:Jte};var Qte="\u041A\u043E\u043B\u0456\u0440",ene="\u0417\u0430\u043F\u043E\u0432\u043D\u044E\u0432\u0430\u0442\u0438",tne="\u0428\u0442\u0440\u0438\u0445",nne="\u0420\u043E\u0437\u043C\u0456\u0440",one="\u0422\u0440\u0438\u043C\u0430\u0442\u0438 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0438\u043C",rne="\u0428\u0440\u0438\u0444\u0442",sne="\u0412\u0438\u0440\u0456\u0432\u043D\u044F\u0442\u0438",ine="\u0421\u0442\u0438\u043B\u044C",ane="\u0417\u0431\u0456\u043B\u044C\u0448\u0438\u0442\u0438",lne="\u0417\u043C\u0435\u043D\u0448\u0438\u0442\u0438",dne="\u0434\u043E",cne="\u0424\u0430\u0439\u043B",pne="\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F",une="\u0412\u0438\u0433\u043B\u044F\u0434",hne="\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F",mne="\u0423\u0432\u0456\u0439\u0442\u0438",gne="\u0412\u0438\u0439\u0442\u0438",fne="\u0421\u0442\u0430\u0442\u0438 \u0441\u043F\u043E\u043D\u0441\u043E\u0440\u043E\u043C",Sne="\u041D\u0430\u0431\u043B\u0438\u0437\u0438\u0442\u0438 \u0434\u043E \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F",bne="\u0417\u0431\u0456\u043B\u044C\u0448\u0438\u0442\u0438 \u0437\u0430 \u0440\u043E\u0437\u043C\u0456\u0440\u043E\u043C \u0435\u043A\u0440\u0430\u043D\u0443",Tne="\u041D\u0430\u0431\u043B\u0438\u0437\u0438\u0442\u0438 \u0434\u043E",yne="\u0422\u0435\u043C\u043D\u0430 \u0442\u0435\u043C\u0430",wne="\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u0456\u0441\u0442\u0438\u0447\u043D\u0438\u0439 \u0440\u0435\u0436\u0438\u043C",xne="\u0420\u0435\u0436\u0438\u043C \u043D\u0430\u043B\u0430\u0433\u043E\u0434\u0436\u0435\u043D\u043D\u044F",kne="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u0441\u0456\u0442\u043A\u0443",vne="\u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0432\u0430\u0442\u0438 CAD \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F",Ine="\u0422\u0440\u0438\u043C\u0430\u0442\u0438 \u043C\u0435\u043D\u044E \u0441\u0442\u0438\u043B\u0456\u0432 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0438\u043C",Cne="\u0417\u0430\u0432\u0436\u0434\u0438 \u043F\u043E\u043A\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u043F\u0440\u0438\u0432'\u044F\u0437\u043A\u0438",Dne="\u0420\u0443\u0447\u043A\u0438 \u043E\u0431\u0435\u0440\u0442\u0430\u043D\u043D\u044F",Pne="\u0420\u0443\u0447\u043A\u0438 \u043F\u0440\u0438\u0432'\u044F\u0437\u043A\u0438",Mne="\u0420\u0443\u0447\u043A\u0438 \u043A\u043B\u043E\u043D\u0443\u0432\u0430\u043D\u043D\u044F",Ene="\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438",Bne="\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438",Rne="\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438",Ane="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438",Lne="\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438",Hne="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u044F\u043A",zne="\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u044F\u043A",One="\u041E\u0431\u0440\u0430\u0442\u0438 \u0432\u0441\u0435",Fne="\u0417\u043D\u044F\u0442\u0438 \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F",jne="\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438",Gne="\u041D\u043E\u0432\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",Vne="\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438",$ne="\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",Nne="\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u044F\u043A",Wne="\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0438\u0442\u0438 \u043C\u0435\u0434\u0456\u0430",Une="\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443",Kne="\u041D\u043E\u0432\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",_ne="\u041D\u0430\u0437\u0432\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0438",Yne="\u0414\u0443\u0431\u043B\u044E\u0432\u0430\u0442\u0438",Zne="\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438",Xne="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F \u043D\u0430 \u0437\u0430\u043F\u0440\u043E\u0448\u0435\u043D\u043D\u044F",qne="\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0431\u0430\u0433\u0430\u0442\u043E\u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044C\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",Jne="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u0432 \u0431\u0430\u0433\u0430\u0442\u043E\u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044C\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",Qne="\u0412\u0438\u0431\u0438\u0440\u0430\u0442\u0438",eoe="\u041B\u0430\u0441\u0442\u0438\u043A",toe="\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438",noe="\u0421\u0442\u0440\u0456\u043B\u043A\u0430",ooe="\u0422\u0435\u043A\u0441\u0442",roe="\u041D\u043E\u0442\u0430\u0442\u043A\u0430",soe="\u041F\u0440\u044F\u043C\u043E\u043A\u0443\u0442\u043D\u0438\u043A",ioe="\u0415\u043B\u0456\u043F\u0441",aoe="\u0422\u0440\u0438\u043A\u0443\u0442\u043D\u0438\u043A",loe=" \u041B\u0456\u043D\u0456\u044F",doe="\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438",coe="\u0417\u0430\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u0442\u0438 \u0441\u043F\u0456\u0432\u0432\u0456\u0434\u043D\u043E\u0448\u0435\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D",poe=" \u0420\u043E\u0437\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u0442\u0438 \u0441\u043F\u0456\u0432\u0432\u0456\u0434\u043D\u043E\u0448\u0435\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D",uoe="\u0417\u0433\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438",hoe=" \u0420\u043E\u0437\u0433\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438",moe="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430\u0437\u0430\u0434",goe="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430 \u0437\u0430\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",foe="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u0432\u043F\u0435\u0440\u0435\u0434",Soe="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",boe="\u0421\u043A\u0438\u0434\u0430\u043D\u043D\u044F \u043A\u0443\u0442\u0430",Toe="\u0411\u043B\u043E\u043A\u0443\u0432\u0430\u043D\u043D\u044F",yoe=" \u0420\u043E\u0437\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u043D\u043D\u044F",woe="\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443",xoe="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",koe="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",voe="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438",Ioe="\u041D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",Coe=" \u0412\u043F\u0435\u0440\u0435\u0434",Doe="\u041D\u0430 \u0437\u0430\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",Poe="\u041D\u0430\u0437\u0430\u0434",Moe="\u041C\u043E\u0432\u0430",Rl={"style.menu.color":Qte,"style.menu.fill":ene,"style.menu.dash":tne,"style.menu.size":nne,"style.menu.keep.open":one,"style.menu.font":rne,"style.menu.align":sne,styles:ine,"zoom.in":ane,"zoom.out":lne,to:dne,"menu.file":cne,"menu.edit":pne,"menu.view":une,"menu.preferences":hne,"menu.sign.in":mne,"menu.sign.out":gne,"become.a.sponsor":fne,"zoom.to.selection":Sne,"zoom.to.fit":bne,"zoom.to":Tne,"preferences.dark.mode":yne,"preferences.focus.mode":wne,"preferences.debug.mode":xne,"preferences.show.grid":kne,"preferences.use.cad.selection":vne,"preferences.keep.stylemenu.open":Ine,"preferences.always.show.snaps":Cne,"preferences.rotate.handles":Dne,"preferences.binding.handles":Pne,"preferences.clone.handles":Mne,undo:Ene,redo:Bne,cut:Rne,copy:Ane,paste:Lne,"copy.as":Hne,"export.as":zne,"select.all":One,"select.none":Fne,delete:jne,"new.project":Gne,open:Vne,save:$ne,"save.as":Nne,"upload.media":Wne,"create.page":Une,"new.page":Kne,"page.name":_ne,duplicate:Yne,cancel:Zne,"copy.invite.link":Xne,"create.multiplayer.project":qne,"copy.multiplayer.project":Jne,select:Qne,eraser:eoe,draw:toe,arrow:noe,text:ooe,sticky:roe,rectangle:soe,ellipse:ioe,triangle:aoe,line:loe,rotate:doe,"lock.aspect.ratio":coe,"unlock.aspect.ratio":poe,group:uoe,ungroup:hoe,"move.to.back":moe,"move.backward":goe,"move.forward":foe,"move.to.front":Soe,"reset.angle":boe,lock:Toe,unlock:yoe,"move.to.page":woe,"flip.horizontal":xoe,"flip.vertical":koe,move:voe,"to.front":Ioe,forward:Coe,backward:Doe,back:Poe,language:Moe};var Eoe="\u989C\u8272",Boe="\u586B\u5145",Roe="\u8FB9\u6846",Aoe="\u5C3A\u5BF8",Loe="\u4FDD\u6301\u5E38\u5F00",Hoe="\u5B57\u4F53",zoe="\u5BF9\u9F50",Ooe="\u6837\u5F0F",Foe="\u653E\u5927",joe="\u7F29\u5C0F",Goe="\u7F29\u653E\u81F3",Voe="\u5DE5\u5177",$oe="\u8F6C\u6362",Noe="\u6587\u4EF6",Woe="\u7F16\u8F91",Uoe="\u89C6\u56FE",Koe="\u504F\u597D",_oe="\u767B\u5F55",Yoe="\u767B\u51FA",Zoe="\u641C\u7D22",Xoe="\u6210\u4E3A\u8D5E\u52A9\u8005",qoe="\u7F29\u653E\u9009\u4E2D",Joe="\u81EA\u9002\u5E94\u7F29\u653E",Qoe="\u7F29\u653E\u81F3",ere="\u7F29\u653E\u81F3\u5185\u5BB9",tre="\u6697\u9ED1\u6A21\u5F0F",nre="\u4E13\u6CE8\u6A21\u5F0F",ore="\u8C03\u8BD5\u6A21\u5F0F",rre="\u663E\u793A\u7F51\u683C",sre="\u4F7F\u7528 CAD \u9009\u62E9",ire="\u4FDD\u6301\u6837\u5F0F\u83DC\u5355\u5E38\u5F00",are="\u603B\u662F\u5C55\u793A\u5BF9\u9F50\u7EBF",lre="\u65CB\u8F6C\u624B\u67C4",dre="\u6346\u7ED1\u624B\u67C4",cre="\u514B\u9686\u624B\u67C4",pre="\u64A4\u9500",ure="\u91CD\u505A",hre="\u526A\u5207",mre="\u590D\u5236",gre="\u7C98\u8D34",fre="\u590D\u5236\u4E3A",Sre="\u5BFC\u51FA\u4E3A",bre="\u9009\u4E2D\u5168\u90E8",Tre="\u53D6\u6D88\u9009\u4E2D",yre="\u5220\u9664",wre="\u65B0\u9879\u76EE",xre="\u6253\u5F00",kre="\u4FDD\u5B58",vre="\u4FDD\u5B58\u4E3A",Ire="\u4E0A\u4F20\u5A92\u4F53\u6587\u4EF6",Cre="\u521B\u5EFA\u9875\u9762",Dre="\u65B0\u9875\u9762",Pre="\u9875\u9762\u540D\u79F0",Mre="\u590D\u5236",Ere="\u53D6\u6D88",Bre="\u590D\u5236\u9080\u8BF7\u94FE\u63A5",Rre="\u521B\u5EFA\u591A\u4EBA\u9879\u76EE",Are="\u590D\u5236\u5230\u591A\u4EBA\u9879\u76EE",Lre="\u9009\u62E9",Hre="\u6A61\u76AE",zre="\u753B\u7B14",Ore="\u7BAD\u5934",Fre="\u6587\u672C",jre="\u4FBF\u5229\u8D34",Gre="\u77E9\u5F62",Vre="\u692D\u5706\u5F62",$re="\u4E09\u89D2\u5F62",Nre="\u76F4\u7EBF",Wre="\u65CB\u8F6C",Ure="\u9501\u5B9A\u5BBD\u9AD8\u6BD4",Kre="\u89E3\u9501\u5BBD\u9AD8\u6BD4",_re="\u5206\u7EC4",Yre="\u53D6\u6D88\u5206\u7EC4",Zre="\u7F6E\u5E95",Xre="\u4E0B\u79FB\u4E00\u5C42",qre="\u4E0A\u79FB\u4E00\u5C42",Jre="\u7F6E\u9876",Qre="\u91CD\u7F6E\u65CB\u8F6C\u89D2\u5EA6",ese="\u9501\u5B9A",tse="\u89E3\u9501",nse="\u79FB\u52A8\u5230\u9875\u9762",ose="\u6C34\u5E73\u7FFB\u8F6C",rse="\u5782\u76F4\u7FFB\u8F6C",sse="\u79FB\u52A8",ise="\u7F6E\u9876",ase="\u4E0A\u4E00\u5C42",lse="\u4E0B\u4E00\u5C42",dse="\u7F6E\u5E95",cse="\u8BED\u8A00",pse="\u952E\u76D8\u5FEB\u6377\u952E",use="\u4E86\u89E3\u66F4\u591A",hse="\u9875\u9762",mse="\u951A\u70B9\u4F4D\u7F6E",gse="\u4E0B\u9762",fse="\u5DE6\u9762",Sse="\u53F3\u9762",bse="\u4E0A\u9762",Tse="\u5BFC\u51FA\u80CC\u666F\u8272",yse="\u900F\u660E",wse="\u81EA\u52A8",xse="\u660E\u4EAE",kse="\u6697\u9ED1",vse="\u590D\u5236\u53EA\u8BFB\u94FE\u63A5",Ise="\u56FE\u7247",Cse="\u5BF9\u9F50 / \u5206\u6563",Dse="\u60A8\u662F\u5426\u60F3\u4FDD\u5B58\u5F53\u524D\u7684\u9879\u76EE\uFF1F",Pse="\u60A8\u662F\u5426\u60F3\u4FDD\u5B58\u5BF9\u5F53\u524D\u9879\u76EE\u7684\u66F4\u6539\uFF1F",Mse="\u53D6\u6D88",Ese="\u5426",Bse="\u662F",Al={"style.menu.color":Eoe,"style.menu.fill":Boe,"style.menu.dash":Roe,"style.menu.size":Aoe,"style.menu.keep.open":Loe,"style.menu.font":Hoe,"style.menu.align":zoe,styles:Ooe,"zoom.in":Foe,"zoom.out":joe,to:Goe,"menu.tools":Voe,"menu.transform":$oe,"menu.file":Noe,"menu.edit":Woe,"menu.view":Uoe,"menu.preferences":Koe,"menu.sign.in":_oe,"menu.sign.out":Yoe,search:Zoe,"become.a.sponsor":Xoe,"zoom.to.selection":qoe,"zoom.to.fit":Joe,"zoom.to":Qoe,"zoom.to.content":ere,"preferences.dark.mode":tre,"preferences.focus.mode":nre,"preferences.debug.mode":ore,"preferences.show.grid":rre,"preferences.use.cad.selection":sre,"preferences.keep.stylemenu.open":ire,"preferences.always.show.snaps":are,"preferences.rotate.handles":lre,"preferences.binding.handles":dre,"preferences.clone.handles":cre,undo:pre,redo:ure,cut:hre,copy:mre,paste:gre,"copy.as":fre,"export.as":Sre,"select.all":bre,"select.none":Tre,delete:yre,"new.project":wre,open:xre,save:kre,"save.as":vre,"upload.media":Ire,"create.page":Cre,"new.page":Dre,"page.name":Pre,duplicate:Mre,cancel:Ere,"copy.invite.link":Bre,"create.multiplayer.project":Rre,"copy.multiplayer.project":Are,select:Lre,eraser:Hre,draw:zre,arrow:Ore,text:Fre,sticky:jre,rectangle:Gre,ellipse:Vre,triangle:$re,line:Nre,rotate:Wre,"lock.aspect.ratio":Ure,"unlock.aspect.ratio":Kre,group:_re,ungroup:Yre,"move.to.back":Zre,"move.backward":Xre,"move.forward":qre,"move.to.front":Jre,"reset.angle":Qre,lock:ese,unlock:tse,"move.to.page":nse,"flip.horizontal":ose,"flip.vertical":rse,move:sse,"to.front":ise,forward:ase,backward:lse,back:dse,language:cse,"keyboard.shortcuts":pse,"translation.link":use,page:hse,"dock.position":mse,bottom:gse,left:fse,right:Sse,top:bse,"export.background":Tse,transparent:yse,auto:wse,light:xse,dark:kse,"copy.readonly.link":vse,image:Ise,"align.distribute":Cse,"dialog.save.firsttime":Dse,"dialog.save.again":Pse,"dialog.cancel":Mse,"dialog.no":Ese,"dialog.yes":Bse};var Rse="\u984F\u8272",Ase="\u586B\u5145",Lse="\u865B\u7DDA",Hse="\u5927\u5C0F",zse="\u4FDD\u6301\u958B\u555F",Ose="\u5B57\u578B",Fse="\u5C0D\u9F4A",jse="\u6A23\u5F0F",Gse="\u653E\u5927",Vse="\u7E2E\u5C0F",$se="\u81F3",Nse="\u6A94\u6848",Wse="\u7DE8\u8F2F",Use="\u6AA2\u8996",Kse="\u9078\u9805",_se="\u767B\u5165",Yse="\u767B\u51FA",Zse="\u6210\u70BA\u8D0A\u52A9\u8005",Xse="\u7E2E\u653E\u81F3\u9078\u53D6\u7BC4\u570D",qse="\u7E2E\u653E\u81F3\u9069\u7576\u5927\u5C0F",Jse="\u7E2E\u653E\u81F3",Qse="\u6DF1\u8272\u6A21\u5F0F",eie="\u5C08\u6CE8\u6A21\u5F0F",tie="\u9664\u932F\u6A21\u5F0F",nie="\u986F\u793A\u7DB2\u683C",oie="\u4F7F\u7528 CAD \u9078\u53D6",rie="\u6A23\u5F0F\u9078\u55AE\u4FDD\u6301\u958B\u555F",sie="\u6C38\u9060\u986F\u793A\u5C0D\u9F4A\u7DDA",iie="\u65CB\u8F49\u63A7\u9EDE",aie="\u7D81\u5B9A\u63A7\u9EDE",lie="\u8907\u88FD\u63A7\u9EDE",die="\u5FA9\u539F",cie="\u53D6\u6D88\u5FA9\u539F",pie="\u526A\u4E0B",uie="\u8907\u88FD",hie="\u8CBC\u4E0A",mie="\u8907\u88FD\u6210",gie="\u532F\u51FA\u6210",fie="\u5168\u9078",Sie="\u53D6\u6D88\u9078\u53D6",bie="\u522A\u9664",Tie="\u65B0\u5C08\u6848",yie="\u958B\u555F",wie="\u5132\u5B58",xie="\u53E6\u5B58\u70BA",kie="\u4E0A\u50B3\u5A92\u9AD4",vie="\u5EFA\u7ACB\u9801\u9762",Iie="\u65B0\u9801\u9762",Cie="\u9801\u9762\u540D\u7A31",Die="\u8907\u88FD",Pie="\u53D6\u6D88",Mie="\u8907\u88FD\u9080\u8ACB\u9023\u7D50",Eie="\u8907\u88FD\u552F\u8B80\u9023\u7D50",Bie="\u5EFA\u7ACB\u591A\u4EBA\u5C08\u6848",Rie="\u8907\u88FD\u81F3\u591A\u4EBA\u5C08\u6848",Aie="\u9078\u53D6",Lie="\u6A61\u76AE\u64E6",Hie="\u624B\u7E6A",zie="\u7BAD\u982D",Oie="\u6587\u5B57",Fie="\u4FBF\u5229\u8CBC",jie="\u9577\u65B9\u5F62",Gie="\u6A62\u5713\u5F62",Vie="\u4E09\u89D2\u5F62",$ie="\u76F4\u7DDA",Nie="\u65CB\u8F49",Wie="\u9396\u5B9A\u9577\u5BEC\u6BD4",Uie="\u89E3\u9396\u9577\u5BEC\u6BD4",Kie="\u7D44\u6210\u7FA4\u7D44",_ie="\u53D6\u6D88\u7FA4\u7D44",Yie="\u79FB\u5230\u6700\u4E0B\u5C64",Zie="\u4E0B\u79FB\u4E00\u5C64",Xie="\u4E0A\u79FB\u4E00\u5C64",qie="\u79FB\u5230\u6700\u4E0A\u5C64",Jie="\u91CD\u8A2D\u89D2\u5EA6",Qie="\u9396\u5B9A",eae="\u89E3\u9396",tae="\u79FB\u81F3\u9801\u9762",nae="\u6C34\u5E73\u7FFB\u8F49",oae="\u5782\u76F4\u7FFB\u8F49",rae="\u79FB\u52D5",sae="\u5230\u6700\u4E0A\u5C64",iae="\u5230\u4E0A\u4E00\u5C64",aae="\u5230\u4E0B\u4E00\u5C64",lae="\u5230\u6700\u4E0B\u5C64",dae="\u8A9E\u8A00",cae="\u4E86\u89E3\u8A73\u60C5",pae="\u5DE5\u5177\u5217\u4F4D\u7F6E",uae="\u4E0B\u65B9",hae="\u5DE6\u5074",mae="\u53F3\u5074",gae="\u4E0A\u65B9",fae="\u9801\u9762",Ll={"style.menu.color":Rse,"style.menu.fill":Ase,"style.menu.dash":Lse,"style.menu.size":Hse,"style.menu.keep.open":zse,"style.menu.font":Ose,"style.menu.align":Fse,styles:jse,"zoom.in":Gse,"zoom.out":Vse,to:$se,"menu.file":Nse,"menu.edit":Wse,"menu.view":Use,"menu.preferences":Kse,"menu.sign.in":_se,"menu.sign.out":Yse,"become.a.sponsor":Zse,"zoom.to.selection":Xse,"zoom.to.fit":qse,"zoom.to":Jse,"preferences.dark.mode":Qse,"preferences.focus.mode":eie,"preferences.debug.mode":tie,"preferences.show.grid":nie,"preferences.use.cad.selection":oie,"preferences.keep.stylemenu.open":rie,"preferences.always.show.snaps":sie,"preferences.rotate.handles":iie,"preferences.binding.handles":aie,"preferences.clone.handles":lie,undo:die,redo:cie,cut:pie,copy:uie,paste:hie,"copy.as":mie,"export.as":gie,"select.all":fie,"select.none":Sie,delete:bie,"new.project":Tie,open:yie,save:wie,"save.as":xie,"upload.media":kie,"create.page":vie,"new.page":Iie,"page.name":Cie,duplicate:Die,cancel:Pie,"copy.invite.link":Mie,"copy.readonly.link":Eie,"create.multiplayer.project":Bie,"copy.multiplayer.project":Rie,select:Aie,eraser:Lie,draw:Hie,arrow:zie,text:Oie,sticky:Fie,rectangle:jie,ellipse:Gie,triangle:Vie,line:$ie,rotate:Nie,"lock.aspect.ratio":Wie,"unlock.aspect.ratio":Uie,group:Kie,ungroup:_ie,"move.to.back":Yie,"move.backward":Zie,"move.forward":Xie,"move.to.front":qie,"reset.angle":Jie,lock:Qie,unlock:eae,"move.to.page":tae,"flip.horizontal":nae,"flip.vertical":oae,move:rae,"to.front":sae,forward:iae,backward:aae,back:lae,language:dae,"translation.link":cae,"dock.position":pae,bottom:uae,left:hae,right:mae,top:gae,page:fae};var ds=[{locale:"ar",label:"\u0639\u0631\u0628\u064A",messages:il},{locale:"da",label:"Danish",messages:al},{locale:"de",label:"Deutsch",messages:ll},{locale:"en",label:"English",messages:dl},{locale:"es",label:"Espa\xF1ol",messages:cl},{locale:"fa",label:"\u0641\u0627\u0631\u0633\u06CC",messages:pl},{locale:"fr",label:"Fran\xE7ais",messages:ul},{locale:"gl",label:"Galego",messages:hl},{locale:"he",label:"\u05E2\u05D1\u05E8\u05D9\u05EA",messages:ml},{locale:"it",label:"Italiano",messages:gl},{locale:"ja",label:"\u65E5\u672C\u8A9E",messages:fl},{locale:"ko-kr",label:"\uD55C\uAD6D\uC5B4",messages:Sl},{locale:"my",label:"\u1019\u103C\u1014\u103A\u1019\u102C\u1005\u102C",messages:yl},{locale:"nb-no",label:"Norwegian Bokm\xE5l",messages:wl},{locale:"ne",label:"\u0928\u0947\u092A\u093E\u0932\u0940",messages:xl},{locale:"nn-no",label:"Norwegian Nynorsk",messages:kl},{locale:"pl",label:"Polski",messages:vl},{locale:"pt",label:"Portugu\xEAs - Europeu",messages:Cl},{locale:"pt-br",label:"Portugu\xEAs - Brasil",messages:Il},{locale:"ru",label:"Russian",messages:Dl},{locale:"sv",label:"Svenska",messages:Pl},{locale:"te",label:"\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41",messages:Ml},{locale:"tr",label:"T\xFCrk\xE7e",messages:Bl},{locale:"uk",label:"Ukrainian",messages:Rl},{locale:"zh-ch",label:"\u7B80\u4F53\u4E2D\u6587",messages:Al},{locale:"zh-tw",label:"\u7E41\u9AD4\u4E2D\u6587 (\u53F0\u7063)",messages:Ll},{locale:"th",label:"\u0E20\u0E32\u0E29\u0E32\u0E44\u0E17\u0E22",messages:El},{locale:"ku",label:"\u06A9\u0648\u0631\u062F\u06CC",messages:bl}];ds.sort((r,e)=>r.locale<e.locale?-1:1);function Hl(r){var t;let e=ds.find(n=>n.locale===r);return{locale:r,label:(t=e==null?void 0:e.label)!=null?t:r,messages:S(S({},Tl),e==null?void 0:e.messages)}}function Ol(r){return zl.useMemo(()=>Hl(r!=null?r:navigator.language.split(/[-_]/)[0]),[r])}var cs=V(require("react")),ui=cs.createContext({}),ns=()=>{let r=cs.useContext(ui);if(!r)throw new Error("useCtx must be inside a Provider with a value");return r};var Ie=nn.forwardRef((m,p)=>{var h=m,{onSelect:r,onClick:e,onDoubleClick:t,variant:n,children:o,isToolLocked:s=!1,disabled:a=!1,isActive:d=!1,onKeyDown:i,id:c}=h,u=ot(h,["onSelect","onClick","onDoubleClick","variant","children","isToolLocked","disabled","isActive","onKeyDown","id"]);return nn.createElement(Sae,S({ref:p,isActive:d,variant:n,onClick:e,disabled:a,onPointerDown:r,onDoubleClick:t,onKeyDown:i,bp:rt,id:c},u),nn.createElement(tn,null,o),s&&nn.createElement(bae,null))});function on(s){var a=s,{label:r,kbd:e,variant:t,isLocked:n}=a,o=ot(a,["label","kbd","variant","isLocked"]);let d=ge(),i=nn.useCallback(()=>{d.toggleToolLock()},[]),c=nn.useCallback(u=>{u.key===" "&&d.isForcePanning&&u.preventDefault()},[]);return nn.createElement(ze,{label:r[0].toUpperCase()+r.slice(1),kbd:e},nn.createElement(Ie,x(S({},o),{variant:t,isToolLocked:n&&o.isActive,onDoubleClick:i,onKeyDown:c,"aria-label":r[0].toUpperCase()+r.slice(1)})))}var tn=H("div",{position:"relative",height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"$ui",color:"inherit",userSelect:"none",WebkitUserSelect:"none",boxSizing:"border-box",border:"1px solid transparent","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}),Sae=H("button",{position:"relative",color:"$text",fontSize:"$0",background:"none",margin:"0",padding:"$2",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",cursor:"pointer",pointerEvents:"all",height:"40px",width:"40px",border:"1px solid $panel","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent",[`&:disabled ${tn}`]:{opacity:.618},variants:{variant:{primary:{marginTop:"0"},icon:{[`& ${tn}`]:{display:"grid","& > *":{gridRow:1,gridColumn:1}}},text:{width:"auto",[`& ${tn}`]:{fontSize:"$1",padding:"0 $3",gap:"$3"}},circle:{padding:0,height:32,width:32,border:"none",[`& ${tn}`]:{border:"1px solid $panelContrast",borderRadius:"100%",boxShadow:"$panel"},[`& ${tn} > svg`]:{width:14,height:14}}},isActive:{true:{},false:{}},bp:{mobile:{padding:0},small:{}}},compoundVariants:[{variant:"primary",bp:"mobile",css:{height:40,width:36,[`& ${tn} > svg`]:{width:16,height:16}}},{variant:"primary",bp:"small",css:{height:"40px",width:"40px",[`& ${tn} > svg`]:{width:20,height:20}}},{isActive:!0,css:{[`${tn}`]:{backgroundColor:"$selected",color:"$selectedContrast"}}},{isActive:!1,bp:"small",css:{[`&:hover:not(:disabled) ${tn}`]:{backgroundColor:"$hover"},[`&:focus:not(:disabled) ${tn}`]:{backgroundColor:"$hover"}}}]}),bae=H("div",{position:"absolute",width:10,height:10,backgroundColor:"$selected",borderRadius:"100%",bottom:-2,border:"2px solid $panel",zIndex:100});var Tae=r=>r.document.pageStates[r.appState.currentPageId].selectedIds.length,yae=r=>r.settings.isDebugMode,wae=r=>r.document.pageStates[r.appState.currentPageId].selectedIds.some(e=>r.document.pages[r.appState.currentPageId].shapes[e].children!==void 0),xae=r=>r.stopPropagation(),kae=({onBlur:r,children:e})=>{let t=Vt();return C.createElement(Ge.Root,{dir:"ltr"},C.createElement(Ge.Trigger,{dir:"ltr"},e),C.createElement(Ge.Portal,{container:t.current},C.createElement(Ge.Content,{onEscapeKeyDown:xae,tabIndex:-1,onBlur:r,asChild:!0},C.createElement(jt,{id:"TD-ContextMenu"},C.createElement(vae,null)))))},vae=C.memo(function(){let e=ge(),t=(0,Ye.useIntl)(),n=e.useStore(Tae),o=e.useStore(yae),s=e.useStore(wae),a=C.useCallback(()=>{e.flipHorizontal()},[e]),d=C.useCallback(()=>{e.flipVertical()},[e]),i=C.useCallback(()=>{e.duplicate()},[e]),c=C.useCallback(()=>{e.toggleLocked()},[e]),u=C.useCallback(()=>{e.group()},[e]),p=C.useCallback(()=>{e.moveToBack()},[e]),m=C.useCallback(()=>{e.moveBackward()},[e]),h=C.useCallback(()=>{e.moveForward()},[e]),g=C.useCallback(()=>{e.moveToFront()},[e]),f=C.useCallback(()=>{e.delete()},[e]),T=C.useCallback(()=>{e.cut()},[e]),w=C.useCallback(()=>{e.copy()},[e]),b=C.useCallback(()=>{e.paste()},[e]),y=C.useCallback(()=>{e.copyImage("svg",{scale:1,quality:1,transparentBackground:!1})},[e]),R=C.useCallback(()=>{e.copyImage("png",{scale:2,quality:1,transparentBackground:!0})},[e]),K=C.useCallback(()=>{e.undo()},[e]),L=C.useCallback(()=>{e.redo()},[e]),v=C.useCallback(()=>ue(this,null,function*(){e.exportImage("png",{scale:2,quality:1})}),[e]),I=C.useCallback(()=>ue(this,null,function*(){e.exportImage("jpeg",{scale:2,quality:1})}),[e]),J=C.useCallback(()=>ue(this,null,function*(){e.exportImage("webp",{scale:2,quality:1})}),[e]),ce=C.useCallback(()=>ue(this,null,function*(){e.exportImage("svg",{scale:1,quality:1})}),[e]),de=C.useCallback(()=>ue(this,null,function*(){e.copyJson()}),[e]),He=C.useCallback(()=>ue(this,null,function*(){e.exportJson()}),[e]),Pe=n>0,Me=n>1,Ue=n>2;return C.createElement(C.Fragment,null,Pe?C.createElement(C.Fragment,null,C.createElement(Ae,{onClick:i,kbd:"#D",id:"TD-ContextMenu-Duplicate"},C.createElement(Ye.FormattedMessage,{id:"duplicate"})),C.createElement(Ae,{onClick:a,kbd:"\u21E7H",id:"TD-ContextMenu-Flip_Horizontal"},C.createElement(Ye.FormattedMessage,{id:"flip.horizontal"})),C.createElement(Ae,{onClick:d,kbd:"\u21E7V",id:"TD-ContextMenu-Flip_Vertical"},C.createElement(Ye.FormattedMessage,{id:"flip.vertical"})),C.createElement(Ae,{onClick:c,kbd:"#\u21E7L",id:"TD-ContextMenu- Lock_Unlock"},C.createElement(Ye.FormattedMessage,{id:"lock"})," / ",C.createElement(Ye.FormattedMessage,{id:"unlock"})),(Me||s)&&C.createElement(Ee,null),Me&&C.createElement(Ae,{onClick:u,kbd:"#G",id:"TD-ContextMenu-Group"},C.createElement(Ye.FormattedMessage,{id:"group"})),s&&C.createElement(Ae,{onClick:u,kbd:"#G",id:"TD-ContextMenu-Ungroup"},C.createElement(Ye.FormattedMessage,{id:"ungroup"})),C.createElement(Ee,null),C.createElement(ps,{label:t.formatMessage({id:"move"}),id:"TD-ContextMenu-Move"},C.createElement(Ae,{onClick:g,kbd:"\u21E7]",id:"TD-ContextMenu-Move-To_Front"},C.createElement(Ye.FormattedMessage,{id:"to.front"})),C.createElement(Ae,{onClick:h,kbd:"]",id:"TD-ContextMenu-Move-Forward"},C.createElement(Ye.FormattedMessage,{id:"forward"})),C.createElement(Ae,{onClick:m,kbd:"[",id:"TD-ContextMenu-Move-Backward"},C.createElement(Ye.FormattedMessage,{id:"backward"})),C.createElement(Ae,{onClick:p,kbd:"\u21E7[",id:"TD-ContextMenu-Move-To_Back"},C.createElement(Ye.FormattedMessage,{id:"back"}))),C.createElement(Mae,null),Me&&C.createElement(Iae,{hasTwoOrMore:Me,hasThreeOrMore:Ue}),C.createElement(Ee,null),C.createElement(Ae,{onClick:T,kbd:"#X",id:"TD-ContextMenu-Cut"},C.createElement(Ye.FormattedMessage,{id:"cut"})),C.createElement(Ae,{onClick:w,kbd:"#C",id:"TD-ContextMenu-Copy"},C.createElement(Ye.FormattedMessage,{id:"copy"})),C.createElement(Ae,{onClick:b,kbd:"#V",id:"TD-ContextMenu-Paste"},C.createElement(Ye.FormattedMessage,{id:"paste"})),C.createElement(Ee,null),C.createElement(ps,{label:`${t.formatMessage({id:"copy.as"})}...`,size:"small",id:"TD-ContextMenu-Copy-As"},C.createElement(Ae,{onClick:y,id:"TD-ContextMenu-Copy-as-SVG"},"SVG"),C.createElement(Ae,{onClick:R,id:"TD-ContextMenu-Copy-As-PNG"},"PNG"),o&&C.createElement(Ae,{onClick:de,id:"TD-ContextMenu-Copy_as_JSON"},"JSON")),C.createElement(ps,{label:`${t.formatMessage({id:"export.as"})}...`,size:"small",id:"TD-ContextMenu-Export"},C.createElement(Ae,{onClick:ce,id:"TD-ContextMenu-Export-SVG"},"SVG"),C.createElement(Ae,{onClick:v,id:"TD-ContextMenu-Export-PNG"},"PNG"),C.createElement(Ae,{onClick:I,id:"TD-ContextMenu-Export-JPG"},"JPG"),C.createElement(Ae,{onClick:J,id:"TD-ContextMenu-Export-WEBP"},"WEBP"),o&&C.createElement(Ae,{onClick:He,id:"TD-ContextMenu-Export-JSON"},"JSON")),C.createElement(Ee,null),C.createElement(Ae,{onClick:f,kbd:"\u232B",id:"TD-ContextMenu-Delete"},C.createElement(Ye.FormattedMessage,{id:"delete"}))):C.createElement(C.Fragment,null,C.createElement(Ae,{onClick:b,kbd:"#V",id:"TD-ContextMenu-Paste"},C.createElement(Ye.FormattedMessage,{id:"paste"})),C.createElement(Ae,{onClick:K,kbd:"#Z",id:"TD-ContextMenu-Undo"},C.createElement(Ye.FormattedMessage,{id:"undo"})),C.createElement(Ae,{onClick:L,kbd:"#\u21E7Z",id:"TD-ContextMenu-Redo"},C.createElement(Ye.FormattedMessage,{id:"redo"})),C.createElement(ps,{label:`${t.formatMessage({id:"export.as"})}...`,size:"small",id:"TD-ContextMenu-Export"},C.createElement(Ae,{onClick:ce,id:"TD-ContextMenu-Export-SVG"},"SVG"),C.createElement(Ae,{onClick:v,id:"TD-ContextMenu-Export-PNG"},"PNG"),C.createElement(Ae,{onClick:I,id:"TD-ContextMenu-Export-JPG"},"JPG"),C.createElement(Ae,{onClick:J,id:"TD-ContextMenu-Export-WEBP"},"WEBP"),o&&C.createElement(Ae,{onClick:He,id:"TD-ContextMenu-Export-JSON"},"JSON"))))});function Iae({hasThreeOrMore:r}){let e=ge(),t=C.useCallback(()=>{e.align("top")},[e]),n=C.useCallback(()=>{e.align("centerVertical")},[e]),o=C.useCallback(()=>{e.align("bottom")},[e]),s=C.useCallback(()=>{e.stretch("vertical")},[e]),a=C.useCallback(()=>{e.distribute("vertical")},[e]),d=C.useCallback(()=>{e.align("left")},[e]),i=C.useCallback(()=>{e.align("centerHorizontal")},[e]),c=C.useCallback(()=>{e.align("right")},[e]),u=C.useCallback(()=>{e.stretch("horizontal")},[e]),p=C.useCallback(()=>{e.distribute("horizontal")},[e]),m=Vt();return C.createElement(Ge.Sub,null,C.createElement(mi,{id:"TD-ContextMenu-Align-Distribute-Trigger"},C.createElement(Ye.FormattedMessage,{id:"align.distribute"})),C.createElement(Ge.Portal,{container:m.current},C.createElement(Ge.SubContent,{asChild:!0,sideOffset:4,alignOffset:-2},C.createElement(Cae,{numberOfSelected:r?"threeOrMore":"twoOrMore"},C.createElement(Tn,{onClick:d,id:"TD-ContextMenu-Align_Distribute-AlignLeft"},C.createElement(lt.AlignLeftIcon,null)),C.createElement(Tn,{onClick:i,id:"TD-ContextMenu-Align_Distribute-AlignCenterHorizontal"},C.createElement(lt.AlignCenterHorizontallyIcon,null)),C.createElement(Tn,{onClick:c,id:"TD-ContextMenu-Align_Distribute-AlignRight"},C.createElement(lt.AlignRightIcon,null)),C.createElement(Tn,{onClick:u,id:"TD-ContextMenu-Align_Distribute-StretchHorizontal"},C.createElement(lt.StretchHorizontallyIcon,null)),r&&C.createElement(Tn,{onClick:p,id:"TD-ContextMenu-Align_Distribute-SpaceEvenlyHorizontal"},C.createElement(lt.SpaceEvenlyHorizontallyIcon,null)),C.createElement(Tn,{onClick:t,id:"TD-ContextMenu-Align_Distribute-AlignTop"},C.createElement(lt.AlignTopIcon,null)),C.createElement(Tn,{onClick:n,id:"TD-ContextMenu-Align_Distribute-AlignCenterVertical"},C.createElement(lt.AlignCenterVerticallyIcon,null)),C.createElement(Tn,{onClick:o,id:"TD-ContextMenu-Align_Distribute-AlignBottom"},C.createElement(lt.AlignBottomIcon,null)),C.createElement(Tn,{onClick:s,id:"TD-ContextMenu-Align_Distribute-StretchVertical"},C.createElement(lt.StretchVerticallyIcon,null)),r&&C.createElement(Tn,{onClick:a,id:"TD-ContextMenu-Align_Distribute-SpaceEvenlyVertical"},C.createElement(lt.SpaceEvenlyVerticallyIcon,null)),C.createElement(hi,{offset:13})))))}var Cae=H(jt,{display:"grid",variants:{numberOfSelected:{threeOrMore:{gridTemplateColumns:"repeat(5, auto)"},twoOrMore:{gridTemplateColumns:"repeat(4, auto)"}}}}),Dae=r=>r.appState.currentPageId,Pae=r=>r.document.pages;function Mae(){let r=ge(),e=r.useStore(Dae),t=r.useStore(Pae),n=Object.values(t).sort((s,a)=>(s.childIndex||0)-(a.childIndex||0)).filter(s=>s.id!==e),o=Vt();return n.length===0?null:C.createElement(Ge.Sub,null,C.createElement(mi,null,C.createElement(Ye.FormattedMessage,{id:"move.to.page"})),C.createElement(Ge.Portal,{container:o.current},C.createElement(Ge.SubContent,{sideOffset:4,alignOffset:-2,asChild:!0},C.createElement(jt,null,n.map(({id:s,name:a},d)=>C.createElement(Ae,{key:s,disabled:s===e,onClick:()=>r.moveToPage(s)},a||`Page ${d}`)),C.createElement(hi,{offset:13})))))}function ps({children:r,label:e,size:t,id:n}){let o=Vt();return C.createElement(Ge.Sub,null,C.createElement(mi,null,e),C.createElement(Ge.Portal,{container:o.current},C.createElement(Ge.SubContent,{sideOffset:4,alignOffset:-2,asChild:!0},C.createElement(jt,{size:t},r,C.createElement(hi,{offset:13})))))}var hi=H(Ge.ContextMenuArrow,{fill:"$panel"});function Tn(t){var n=t,{onSelect:r}=n,e=ot(n,["onSelect"]);return C.createElement(Ge.ContextMenuItem,{dir:"ltr",onSelect:r,asChild:!0},C.createElement(Ie,S({},e)))}var Ae=t=>{var n=t,{id:r}=n,e=ot(n,["id"]);return C.createElement(Ge.ContextMenuItem,{asChild:!0,id:r},C.createElement($e,S({},e)))},mi=t=>{var n=t,{id:r}=n,e=ot(n,["id"]);return C.createElement(Ge.SubTrigger,{asChild:!0,id:r},C.createElement($e,S({hasArrow:!0},e)))},Fl=C.memo(kae);var $t=V(require("react"));function jl({error:r,resetErrorBoundary:e}){let t=ge(),n=()=>{window.location.reload(),e()},o=()=>{let d=document.createElement("textarea");d.value=r.message,document.body.appendChild(d),d.select(),document.execCommand("copy"),d.remove()},s=()=>{t.saveProjectAs()},a=()=>{t.resetDocument(),e()};return $t.createElement(Eae,null,$t.createElement(Bae,null,$t.createElement("div",null,"We've encountered an error!"),$t.createElement("pre",null,$t.createElement("code",null,r.message)),$t.createElement(Rae,null,$t.createElement($e,{onClick:o},"Copy Error"),$t.createElement($e,{onClick:n},"Refresh Page")),$t.createElement(Ee,null),$t.createElement("p",null,"Keep getting this error?"," ",$t.createElement("a",{onClick:s,title:"Download your project"},"Download your project")," ","as a backup and then"," ",$t.createElement("a",{onClick:a,title:"Reset the document"},"reset the document"),".")))}var Eae=H("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"$canvas"}),Bae=H("div",{backgroundColor:"$panel",border:"1px solid $panelContrast",padding:"$5",borderRadius:8,boxShadow:"$panel",maxWidth:320,color:"$text",fontFamily:"$ui",fontSize:"$2",textAlign:"center",display:"flex",flexDirection:"column",gap:"$3","& > pre":{marginTop:"$3",marginBottom:"$3",textAlign:"left",whiteSpace:"pre-wrap",backgroundColor:"$hover",padding:"$4",borderRadius:"$2",fontFamily:'"Menlo", "Monaco", monospace',fontWeight:500},"& p":{fontFamily:"$body",lineHeight:1.7,padding:"$5",margin:0},"& a":{color:"$text",cursor:"pointer",textDecoration:"underline"},"& hr":{marginLeft:"-$5",marginRight:"-$5"}}),Rae=H("div",{display:"flex","& > button > div":{justifyContent:"center",textAlign:"center"}});var Gl=require("@radix-ui/react-icons"),us=V(require("react"));var Ho=H("button",{position:"relative",height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",outline:"none",border:"none",pointerEvents:"all",fontSize:"$0",color:"$text",cursor:"pointer",display:"grid",alignItems:"center",justifyContent:"center","& > *":{gridRow:1,gridColumn:1},"&:disabled":{opacity:"0.5"},"& > span":{width:"100%",height:"100%",display:"flex",alignItems:"center"},variants:{bp:{mobile:{backgroundColor:"transparent"},small:{"&:hover:not(:disabled)":{backgroundColor:"$hover"}}},size:{small:{height:32,width:32,"& svg:nth-of-type(1)":{height:"16px",width:"16px"}},medium:{height:44,width:44,"& svg:nth-of-type(1)":{height:"18px",width:"18px"}},large:{height:44,width:44,"& svg:nth-of-type(1)":{height:"20px",width:"20px"}}},isActive:{true:{color:"$selected"}}}});function Vl({onSelect:r}){return us.createElement(Aae,null,us.createElement(Ho,{onClick:r},us.createElement(Gl.DotFilledIcon,null)))}var Aae=H("div",{opacity:1,zIndex:100,backgroundColor:"transparent","& svg":{color:"$text"},"&:hover svg":{color:"$text"}});var gi=V(require("react")),$l=require("react-intl");var Lae=r=>r.appState.isLoading;function fi(){let e=ge().useStore(Lae);return gi.createElement(Hae,{hidden:!e},gi.createElement($l.FormattedMessage,{id:"loading",values:{dots:"..."}}))}var Hae=H("div",{position:"absolute",top:0,left:"50%",transform:"translate(-50%, 0)",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",padding:"8px 16px",fontFamily:"var(--fonts-ui)",fontSize:"var(--fontSizes-1)",boxShadow:"var(--shadows-panel)",backgroundColor:"white",zIndex:200,pointerEvents:"none","& > div > *":{pointerEvents:"all"},variants:{transform:{hidden:{transform:"translate(-50%, 100%)"},visible:{transform:"translate(-50%, 0%)"}}}});var Pt=V(require("@radix-ui/react-alert-dialog")),Tt=V(require("react")),zo=require("react-intl");function zae({children:r,onClose:e,container:t}){return Tt.createElement(Pt.Portal,{container:t},Tt.createElement($ae,null),Tt.createElement(Nae,{onKeyDown:o=>{switch(o.key){case"Escape":e==null||e();break}}},r))}var Oae=H(Pt.Description,{marginBottom:20,color:"$text",fontSize:"$2",lineHeight:1.5,textAlign:"center",maxWidth:"62%",minWidth:0,alignSelf:"center"}),Fae=Pt.Root,jae=zae,Gae=Oae,Nl=Pt.Action,Vae=Pt.Cancel,Wl=({container:r})=>{let{setDialogState:e,dialogState:t,onCancel:n,onNo:o,onYes:s}=ns(),a=(0,zo.useIntl)(),d={saveFirstTime:a.formatMessage({id:"dialog.save.firsttime"}),saveAgain:a.formatMessage({id:"dialog.save.again"})};return Tt.createElement(Fae,{open:t!==null},Tt.createElement(jae,{onClose:()=>e(null),container:r},t&&Tt.createElement(Gae,null,d[t]),Tt.createElement("div",{style:{width:"100%",gap:"$6",display:"flex",justifyContent:"space-between"}},n&&Tt.createElement(Vae,{asChild:!0},Tt.createElement(Oo,{css:{color:"$text"},onClick:()=>{n(),e(null)}},Tt.createElement(zo.FormattedMessage,{id:"dialog.cancel"}))),Tt.createElement("div",{style:{flexShrink:0}},o&&Tt.createElement(Nl,{asChild:!0},Tt.createElement(Oo,{onClick:()=>{o(),e(null)}},Tt.createElement(zo.FormattedMessage,{id:"dialog.no"}))),s&&Tt.createElement(Nl,{asChild:!0},Tt.createElement(Oo,{css:{backgroundColor:"#2F80ED",color:"White"},onClick:()=>{s(),e(null)}},Tt.createElement(zo.FormattedMessage,{id:"dialog.yes"})))))))},$ae=H(Pt.Overlay,{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, .15)",pointerEvents:"all"}),uhe=H(Pt.Overlay,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0}),Nae=H(Pt.Content,{position:"fixed",font:"$ui",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"max-content",padding:"$3",pointerEvents:"all",backgroundColor:"$panel",borderRadius:"$3",display:"flex",flexDirection:"column",justifyContent:"center",fontFamily:"$ui",border:"1px solid $panelContrast",boxShadow:"$panel"}),Oo=H("button",{all:"unset",display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:"$2",padding:"0 15px",fontSize:"$1",lineHeight:1,fontWeight:"normal",height:36,color:"$text",cursor:"pointer",minWidth:48});var rn=V(require("@radix-ui/react-alert-dialog")),Ul=require("@radix-ui/react-icons"),mt=V(require("react")),br=require("react-intl");var Fo=V(require("react"));var hs=Fo.forwardRef((n,t)=>{var o=n,{icon:r}=o,e=ot(o,["icon"]);return Fo.createElement(Wae,null,Fo.createElement(Uae,x(S({},e),{ref:t})),r?Fo.createElement(Kae,null,r):null)}),Wae=H("div",{position:"relative",width:"100%",height:"min-content"}),Uae=H("input",{color:"$text",border:"none",textAlign:"left",width:"100%",paddingLeft:"$3",paddingRight:"$6",backgroundColor:"$background",height:"32px",outline:"none",fontFamily:"$ui",fontSize:"$1","&:focus":{backgroundColor:"$hover"},borderRadius:"$2"}),Kae=H(bt,{top:0,right:0,position:"absolute",paddingLeft:"$3",paddingRight:"$3",pointerEvents:"none",color:"$text"});var Kl=({isOpen:r,onClose:e})=>{let t=ge(),n=Vt(),o=(0,br.useIntl)(),[s,a]=mt.useState(t.document.name),d=mt.useCallback(u=>{let p=u.target.value.trimStart();a(p)},[]);function i(u){u.stopPropagation()}let c=mt.useCallback(u=>{switch(u.key){case"Enter":{t.saveProjectAs(s),e();break}case"Escape":{e();break}}},[]);return mt.createElement(rn.Root,{open:r},mt.createElement(rn.Portal,{container:n.current},mt.createElement(Yae,{onPointerDown:e}),mt.createElement(_ae,{dir:"ltr",onKeyDown:i,onKeyUp:i},mt.createElement(Xae,{placeholder:o.formatMessage({id:"enter.file.name"}),value:s,onChange:d,onKeyDown:c,icon:mt.createElement(Ul.Pencil1Icon,null)}),mt.createElement(Zae,null,mt.createElement(rn.Action,{asChild:!0},mt.createElement(Oo,{onClick:e},mt.createElement(br.FormattedMessage,{id:"cancel"}))),mt.createElement(rn.Action,{asChild:!0},mt.createElement(Oo,{css:{backgroundColor:"#2F80ED",color:"White"},onClick:()=>{let u=s.trim().replace(/\.tldr$/,"");t.saveProjectAs(u),e()}},mt.createElement(br.FormattedMessage,{id:"save"})))))))},_ae=H(rn.Content,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:300,maxWidth:"fit-content",maxHeight:"85vh",marginTop:"-5vh",pointerEvents:"all",backgroundColor:"$panel",padding:"$3",borderRadius:"$2",font:"$ui",zIndex:999999,"&:focus":{outline:"none"}}),Yae=H(rn.Overlay,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0,zIndex:999998}),Zae=H("div",{width:"100%",display:"flex",alignItems:"center",gap:8,justifyContent:"flex-end",marginTop:10}),Xae=H(hs,{background:"$hover"});var vt=V(require("react"));var bs=V(require("@radix-ui/react-dropdown-menu")),ye=require("@radix-ui/react-icons"),q=V(require("react")),Jl=require("react-intl");var _l=require("@radix-ui/react-dropdown-menu"),Si=V(require("react"));function ve(n){var o=n,{onSelect:r,id:e}=o,t=ot(o,["onSelect","id"]);return Si.createElement(_l.Item,{dir:"ltr",asChild:!0,onSelect:r,id:e},Si.createElement($e,S({},t)))}var Yl=require("@radix-ui/react-dropdown-menu"),bi=V(require("react"));var Oe=r=>r.preventDefault();function Rt({checked:r,disabled:e=!1,variant:t,onCheckedChange:n,kbd:o,id:s,ariaLabel:a,children:d}){return bi.createElement(Yl.CheckboxItem,{dir:"ltr",onSelect:Oe,onCheckedChange:n,checked:r,disabled:e,asChild:!0,id:s,"aria-label":a},bi.createElement($e,{kbd:o,variant:t,hasIndicator:!0},d))}var gs=V(require("@radix-ui/react-dropdown-menu")),ms=V(require("react"));var wt=r=>r.stopPropagation();function At({sideOffset:r=4,alignOffset:e=0,children:t,align:n,variant:o,id:s,overflow:a=!1,side:d="bottom"}){let i=Vt();return ms.createElement(gs.Portal,{container:i.current,dir:"ltr"},ms.createElement(gs.Content,{align:n,alignOffset:e,sideOffset:r,onEscapeKeyDown:wt,asChild:!0,id:s,side:d},ms.createElement(qae,{variant:o,overflow:a},t)))}var qae=H(jt,{width:"fit-content",height:"fit-content",minWidth:0,maxHeight:"100vh",overflowY:"auto",overflowX:"hidden","&::webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none",scrollbarWidth:"none",variants:{variant:{horizontal:{flexDirection:"row"},menu:{minWidth:128}},overflow:{true:{maxHeight:"60vh"}}}});var Zl=require("@radix-ui/react-dropdown-menu");var $he=H(Zl.Separator,{backgroundColor:"$hover",height:1,marginTop:"$2",marginRight:"-$2",marginBottom:"$2",marginLeft:"-$2"});var Xl=require("@radix-ui/react-dropdown-menu");var Tr=H(Xl.RadioItem,{height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",variants:{isActive:{true:{backgroundColor:"$selected",color:"white"},false:{}},bp:{mobile:{},small:{}}},compoundVariants:[{isActive:!1,bp:"small",css:{"&:focus":{backgroundColor:"$hover"},"&:hover:not(:disabled)":{backgroundColor:"$hover"}}}]});var Zn=require("@radix-ui/react-dropdown-menu"),fo=V(require("react"));function yn({children:r,size:e,overflow:t=!1,disabled:n=!1,label:o,id:s}){return fo.createElement(Zn.Sub,{key:s},fo.createElement(Zn.SubTrigger,{dir:"ltr",asChild:!0},fo.createElement($e,{disabled:n,hasArrow:!0},o)),fo.createElement(Zn.SubContent,{asChild:!0,sideOffset:4,alignOffset:-4},fo.createElement(jt,{size:e,overflow:t},r,fo.createElement(Zn.Arrow,{offset:13}))))}var ql=require("@radix-ui/react-dropdown-menu"),Ti=V(require("react"));function fs(n){var o=n,{id:r,children:e}=o,t=ot(o,["id","children"]);return Ti.createElement(ql.Trigger,{asChild:!0,id:r},Ti.createElement(Ie,S({},t),e))}var Jae=r=>r.settings.dockPosition,Qae=r=>r.document.pageStates[r.appState.currentPageId].selectedIds.length,ele=r=>{let e=r.document.pages[r.appState.currentPageId],{selectedIds:t}=r.document.pageStates[r.appState.currentPageId];return t.every(n=>e.shapes[n].isLocked)},tle=r=>{let e=r.document.pages[r.appState.currentPageId],{selectedIds:t}=r.document.pageStates[r.appState.currentPageId];return t.every(n=>e.shapes[n].isAspectRatioLocked)},nle=r=>{let e=r.document.pages[r.appState.currentPageId],t=r.document.pageStates[r.appState.currentPageId].selectedIds.map(n=>e.shapes[n]);return t.every(n=>n.children!==void 0||n.parentId===t[0].parentId&&t[0].parentId!==r.appState.currentPageId)},ole=r=>{let{selectedIds:e}=r.document.pageStates[r.appState.currentPageId];return e.length>0},rle=r=>{let{selectedIds:e}=r.document.pageStates[r.appState.currentPageId];return e.length>1};function Ql(){let r=ge(),e=(0,Jl.useIntl)(),t=r.useStore(ele),n=r.useStore(tle),o=r.useStore(nle),s=r.useStore(ole),a=r.useStore(rle),d=r.useStore(Qae),i=r.useStore(Jae),c=d>1,u=d>2,p=q.useCallback(()=>{r.rotate()},[r]),m=q.useCallback(()=>{r.duplicate()},[r]),h=q.useCallback(()=>{r.toggleLocked()},[r]),g=q.useCallback(()=>{r.toggleAspectRatioLocked()},[r]),f=q.useCallback(()=>{r.group()},[r]),T=q.useCallback(()=>{r.moveToBack()},[r]),w=q.useCallback(()=>{r.moveBackward()},[r]),b=q.useCallback(()=>{r.moveForward()},[r]),y=q.useCallback(()=>{r.moveToFront()},[r]),R=q.useCallback(()=>{r.setShapeProps({rotation:0})},[r]),K=q.useCallback(()=>{r.align("top")},[r]),L=q.useCallback(()=>{r.align("centerVertical")},[r]),v=q.useCallback(()=>{r.align("bottom")},[r]),I=q.useCallback(()=>{r.stretch("vertical")},[r]),J=q.useCallback(()=>{r.distribute("vertical")},[r]),ce=q.useCallback(()=>{r.align("left")},[r]),de=q.useCallback(()=>{r.align("centerHorizontal")},[r]),He=q.useCallback(()=>{r.align("right")},[r]),Pe=q.useCallback(()=>{r.stretch("horizontal")},[r]),Me=q.useCallback(()=>{r.distribute("horizontal")},[r]),Ue=q.useCallback(Kt=>{r.setMenuOpen(Kt)},[r]),Ke=i==="bottom"||i==="top"?"top":i;return q.createElement(bs.Root,{dir:"ltr",onOpenChange:Ue},q.createElement(bs.Trigger,{dir:"ltr",asChild:!0,id:"TD-Tools-Dots"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"shape.options"}),variant:"circle"},q.createElement(ye.DotsHorizontalIcon,null))),q.createElement(At,{sideOffset:16,side:Ke},q.createElement(q.Fragment,null,q.createElement(Ss,null,q.createElement(ze,{label:e.formatMessage({id:"duplicate"}),kbd:"#D",id:"TD-Tools-Copy"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"duplicate"}),disabled:!s,onClick:m},q.createElement(ye.CopyIcon,null))),q.createElement(ze,{label:e.formatMessage({id:"rotate"}),id:"TD-Tools-Rotate"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"rotate"}),disabled:!s,onClick:p},q.createElement(ye.RotateCounterClockwiseIcon,null))),q.createElement(ze,{label:e.formatMessage({id:t?"unlock":"lock"}),kbd:"#L",id:"TD-Tools-Lock"},q.createElement(Ie,{"aria-label":e.formatMessage({id:t?"unlock":"lock"}),disabled:!s,onClick:h},t?q.createElement(ye.LockClosedIcon,null):q.createElement(ye.LockOpen1Icon,null))),q.createElement(ze,{label:e.formatMessage({id:n?"unlock.aspect.ratio":"lock.aspect.ratio"}),id:"TD-Tools-AspectRatio"},q.createElement(Ie,{"aria-label":e.formatMessage({id:n?"unlock.aspect.ratio":"lock.aspect.ratio"}),disabled:!s,onClick:g},n?q.createElement(ye.AspectRatioIcon,null):q.createElement(ye.BoxIcon,null))),q.createElement(ze,{label:e.formatMessage({id:"group"}),kbd:"#G",id:"TD-Tools-Group"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"group"}),disabled:!s||!o&&!a,onClick:f},q.createElement(ye.GroupIcon,null)))),q.createElement(Ss,null,q.createElement(ze,{label:e.formatMessage({id:"move.to.back"}),kbd:"#\u21E7[",id:"TD-Tools-PinBottom"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"move.to.back"}),disabled:!s,onClick:T},q.createElement(ye.PinBottomIcon,null))),q.createElement(ze,{label:e.formatMessage({id:"move.backward"}),kbd:"#[",id:"TD-Tools-ArrowDown"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"move.backward"}),disabled:!s,onClick:w},q.createElement(ye.ArrowDownIcon,null))),q.createElement(ze,{label:e.formatMessage({id:"move.forward"}),kbd:"#]",id:"TD-Tools-ArrowUp"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"move.forward"}),disabled:!s,onClick:b},q.createElement(ye.ArrowUpIcon,null))),q.createElement(ze,{label:e.formatMessage({id:"move.to.front"}),kbd:"#\u21E7]",id:"TD-Tools-PinTop"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"move.to.front"}),disabled:!s,onClick:y},q.createElement(ye.PinTopIcon,null))),q.createElement(ze,{label:e.formatMessage({id:"reset.angle"}),id:"TD-Tools-ResetAngle"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"reset.angle"}),disabled:!s,onClick:R},q.createElement(ye.AngleIcon,null)))),q.createElement(Ee,null),q.createElement(Ss,null,q.createElement(ze,{label:e.formatMessage({id:"align.left"}),id:"TD-Tools-AlignLeft"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"align.left"}),disabled:!c,onClick:ce},q.createElement(ye.AlignLeftIcon,null))),q.createElement(ze,{label:e.formatMessage({id:"align.center.x"}),id:"TD-Tools-AlignCenterHorizontal"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"align.center.x"}),disabled:!c,onClick:de},q.createElement(ye.AlignCenterHorizontallyIcon,null))),q.createElement(ze,{label:e.formatMessage({id:"align.right"}),id:"TD-Tools-AlignRight"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"align.right"}),disabled:!c,onClick:He},q.createElement(ye.AlignRightIcon,null))),q.createElement(ze,{label:e.formatMessage({id:"stretch.x"}),id:"TD-Tools-StretchHorizontal"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"stretch.x"}),disabled:!c,onClick:Pe},q.createElement(ye.StretchHorizontallyIcon,null))),q.createElement(ze,{label:e.formatMessage({id:"distribute.x"}),id:"TD-Tools-SpaceEvenlyHorizontal"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"distribute.x"}),disabled:!u,onClick:Me},q.createElement(ye.SpaceEvenlyHorizontallyIcon,null)))),q.createElement(Ss,null,q.createElement(ze,{label:e.formatMessage({id:"align.top"}),id:"TD-Tools-AlignTop"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"align.top"}),disabled:!c,onClick:K},q.createElement(ye.AlignTopIcon,null))),q.createElement(ze,{label:e.formatMessage({id:"align.center.y"}),id:"TD-Tools-AlignCenterVertical"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"align.center.y"}),disabled:!c,onClick:L},q.createElement(ye.AlignCenterVerticallyIcon,null))),q.createElement(ze,{label:e.formatMessage({id:"align.bottom"}),id:"TD-Tools-AlignBottom"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"align.bottom"}),disabled:!c,onClick:v},q.createElement(ye.AlignBottomIcon,null))),q.createElement(ze,{label:e.formatMessage({id:"stretch.y"}),id:"TD-Tools-StretchVertical"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"stretch.y"}),disabled:!c,onClick:I},q.createElement(ye.StretchVerticallyIcon,null))),q.createElement(ze,{label:e.formatMessage({id:"distribute.y"}),id:"TD-Tools-SpaceEvenlyVertical"},q.createElement(Ie,{"aria-label":e.formatMessage({id:"distribute.y"}),disabled:!u,onClick:J},q.createElement(ye.SpaceEvenlyVerticallyIcon,null)))))))}var Ss=H("div",{position:"relative",display:"flex",width:"100%",background:"none",border:"none",cursor:"pointer",outline:"none",alignItems:"center",justifyContent:"flex-start",padding:0});var jo=V(require("react")),ed=require("react-intl");var sle=r=>r.appState.isEmptyCanvas&&Object.keys(r.document.pages[r.appState.currentPageId].shapes).length>0,ile=r=>r.settings.isDebugMode,ale=r=>r.settings.dockPosition,td=jo.memo(function(){let e=ge(),t=e.useStore(sle),n=e.useStore(ale),o=e.useStore(ile),s={bottom:n==="bottom"&&o?120:n==="bottom"?80:o?60:20,left:"50%",transform:"translate(-50%,0)"};return t?jo.createElement(lle,{id:"TD-Tools-Back_to_content",style:S({},s)},jo.createElement($e,{onClick:e.zoomToContent},jo.createElement(ed.FormattedMessage,{id:"zoom.to.content"}))):null}),lle=H(jt,{pointerEvents:"all",width:"fit-content",minWidth:0,position:"fixed",bottom:0});var Go=V(require("react")),hd=require("react-intl");var dle=V(require("react"));var yi=V(require("react"));function wi(r){let n=r,{size:e=16}=n,t=ot(n,["size"]);return yi.createElement("svg",S({width:24,height:24},t),yi.createElement("circle",{cx:12,cy:12,r:e/2}))}var xi=V(require("react"));function nd(){return xi.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},xi.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:50.26548*.1}))}var ki=V(require("react")),cle=`${50.26548*.025} ${50.26548*.1}`;function od(){return ki.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},ki.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:cle}))}var vi=V(require("react"));function rd(){return vi.createElement("svg",{width:"24",height:"24",viewBox:"1 1.5 21 22",fill:"currentColor",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},vi.createElement("path",{d:"M10.0162 19.2768C10.0162 19.2768 9.90679 19.2517 9.6879 19.2017C9.46275 19.1454 9.12816 19.0422 8.68413 18.8921C8.23384 18.7358 7.81482 18.545 7.42707 18.3199C7.03307 18.101 6.62343 17.7883 6.19816 17.3818C5.77289 16.9753 5.33511 16.3718 4.88482 15.5713C4.43453 14.7645 4.1531 13.8545 4.04053 12.8414C3.92795 11.822 4.04991 10.8464 4.40639 9.91451C4.76286 8.98266 5.39452 8.10084 6.30135 7.26906C7.21444 6.44353 8.29325 5.83377 9.5378 5.43976C10.7823 5.05202 11.833 4.92068 12.6898 5.04576C13.5466 5.16459 14.3878 5.43664 15.2133 5.86191C16.0388 6.28718 16.7768 6.8688 17.4272 7.60678C18.0714 8.34475 18.5404 9.21406 18.8344 10.2147C19.1283 11.2153 19.1721 12.2598 18.9657 13.348C18.7593 14.4299 18.2872 15.4337 17.5492 16.3593C16.8112 17.2849 15.9263 18.0072 14.8944 18.5263C13.8624 19.0391 12.9056 19.3174 12.0238 19.3612C11.142 19.405 10.2101 19.2705 9.22823 18.9578C8.24635 18.6451 7.35828 18.151 6.56402 17.4756C5.77601 16.8002 6.08871 16.8658 7.50212 17.6726C8.90927 18.4731 10.1444 18.8484 11.2076 18.7983C12.2645 18.7545 13.2965 18.4825 14.3034 17.9822C15.3102 17.4819 16.1264 16.8221 16.7518 16.0028C17.3772 15.1835 17.7681 14.3111 17.9244 13.3855C18.0808 12.4599 18.0401 11.5781 17.8025 10.74C17.5586 9.902 17.1739 9.15464 16.6486 8.49797C16.1233 7.8413 15.2289 7.27844 13.9656 6.80939C12.7086 6.34034 11.4203 6.20901 10.1007 6.41539C8.78732 6.61552 7.69599 7.06893 6.82669 7.77564C5.96363 8.48859 5.34761 9.26409 4.97863 10.1021C4.60964 10.9402 4.45329 11.8376 4.50958 12.7945C4.56586 13.7513 4.79101 14.6238 5.18501 15.4118C5.57276 16.1998 5.96363 16.8002 6.35764 17.2129C6.75164 17.6257 7.13313 17.9509 7.50212 18.1886C7.87736 18.4325 8.28074 18.642 8.71227 18.8171C9.15005 18.9922 9.47839 19.111 9.69728 19.1736C9.91617 19.2361 10.0256 19.2705 10.0256 19.2768H10.0162Z",strokeWidth:"2"}))}var Ii=V(require("react"));function sd(){return Ii.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},Ii.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2,strokeLinecap:"round"}))}var yr=V(require("react"));function id(r){return yr.createElement("svg",S({width:18,height:18,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r),yr.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.656a.5.5 0 01.5-.5h9.7a.5.5 0 010 1H2.5a.5.5 0 01-.5-.5z"}),yr.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 3a.578.578 0 00-.578.578v.578h3.311v-.578A.578.578 0 008.428 3H6.272zm3.733 1.156v-.578A1.578 1.578 0 008.428 2H6.272a1.578 1.578 0 00-1.578 1.578v.578H3.578a.5.5 0 00-.5.5V12.2a1.578 1.578 0 001.577 1.578h5.39a1.578 1.578 0 001.577-1.578V4.656a.5.5 0 00-.5-.5h-1.117zm-5.927 1V12.2a.578.578 0 00.577.578h5.39a.578.578 0 00.577-.578V5.156H4.078z"}),yr.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5zM8.428 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5z"}))}var Ci=V(require("react"));function Di(t){var n=t,{flipHorizontal:r}=n,e=ot(n,["flipHorizontal"]);return Ci.createElement("svg",S({width:24,height:24,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:{transform:r?"scale(-1, 1)":"scale(1, 1)"}},e),Ci.createElement("path",{d:"M10.6707 8.5081C10.6707 10.1923 9.3004 11.5625 7.61631 11.5625H6.5351C6.35593 11.5625 6.21074 11.4173 6.21074 11.2382V11.13C6.21074 10.9508 6.35591 10.8057 6.5351 10.8057H7.61631C8.88313 10.8057 9.91387 9.77492 9.91387 8.5081C9.91387 7.24128 8.88313 6.21054 7.61631 6.21054H5.62155L6.99534 7.58433C7.14289 7.73183 7.14289 7.97195 6.99534 8.11944C6.85216 8.26251 6.60298 8.2623 6.46013 8.11944L4.44045 6.09971C4.36898 6.02824 4.32959 5.93321 4.32959 5.8321C4.32959 5.73106 4.36898 5.63598 4.44045 5.56454L6.46024 3.54472C6.60309 3.40176 6.85248 3.40176 6.99535 3.54472C7.14291 3.69218 7.14291 3.93234 6.99535 4.07979L5.62156 5.45368H7.61631C9.3004 5.45368 10.6707 6.82393 10.6707 8.5081Z"}))}var Pi=V(require("react"));function ad(r){return Pi.createElement("svg",S({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r),Pi.createElement("path",{d:"M12.4239 4.62C13.3572 4.62 14.1572 4.73333 14.8239 4.96C15.4906 5.17333 15.9772 5.43333 16.2839 5.74C16.3639 5.82 16.4039 5.94 16.4039 6.1V8.86H14.0639C13.9172 8.86 13.8439 8.78666 13.8439 8.64V7.26C13.4306 7.12666 12.9572 7.06 12.4239 7.06C11.6506 7.06 11.0639 7.18 10.6639 7.42C10.2639 7.66 10.0639 8.04666 10.0639 8.58V9C10.0639 9.38666 10.1639 9.69333 10.3639 9.92C10.5772 10.1333 11.0306 10.3467 11.7239 10.56L13.6439 11.14C14.4706 11.38 15.1172 11.66 15.5839 11.98C16.0506 12.3 16.3772 12.68 16.5639 13.12C16.7639 13.5467 16.8639 14.0733 16.8639 14.7V15.62C16.8639 16.7933 16.4039 17.7133 15.4839 18.38C14.5639 19.0467 13.2839 19.38 11.6439 19.38C10.6706 19.38 9.79723 19.2867 9.0239 19.1C8.2639 18.9133 7.71056 18.6533 7.3639 18.32C7.3239 18.28 7.29056 18.24 7.2639 18.2C7.25056 18.1467 7.2439 18.06 7.2439 17.94V15.74H7.6239C8.2239 16.1533 8.85056 16.4533 9.5039 16.64C10.1572 16.8267 10.9306 16.92 11.8239 16.92C12.6506 16.92 13.2506 16.7867 13.6239 16.52C14.0106 16.2533 14.2039 15.9333 14.2039 15.56V14.88C14.2039 14.6667 14.1639 14.48 14.0839 14.32C14.0172 14.16 13.8706 14.0133 13.6439 13.88C13.4172 13.7467 13.0572 13.6067 12.5639 13.46L10.6639 12.88C9.7839 12.6133 9.11056 12.3 8.6439 11.94C8.17723 11.58 7.85056 11.18 7.6639 10.74C7.49056 10.3 7.4039 9.83333 7.4039 9.34V8.38C7.4039 7.64666 7.61056 7 8.0239 6.44C8.43723 5.88 9.01723 5.44 9.7639 5.12C10.5239 4.78666 11.4106 4.62 12.4239 4.62Z"}))}var Mi=V(require("react"));function ld(r){return Mi.createElement("svg",S({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r),Mi.createElement("path",{d:"M8.16191 19H5.68191C5.53525 19 5.46191 18.9267 5.46191 18.78V5H8.76191C8.88191 5 8.97525 5.03333 9.04191 5.1C9.10858 5.15333 9.17525 5.27333 9.24191 5.46C9.72191 6.59333 10.1686 7.7 10.5819 8.78C11.0086 9.84667 11.4352 10.98 11.8619 12.18H12.1619C12.6019 10.9667 13.0352 9.79333 13.4619 8.66C13.8886 7.52667 14.3552 6.30667 14.8619 5H18.3219C18.4686 5 18.5419 5.07333 18.5419 5.22V19H16.0619C15.9152 19 15.8419 18.9267 15.8419 18.78V16.26C15.8419 15.5267 15.8486 14.8133 15.8619 14.12C15.8886 13.4267 15.9286 12.6867 15.9819 11.9C16.0486 11.1 16.1419 10.1933 16.2619 9.18H15.9019C15.4352 10.3533 14.9486 11.5667 14.4419 12.82C13.9486 14.06 13.4819 15.2333 13.0419 16.34H11.1019C11.0619 16.34 11.0152 16.3333 10.9619 16.32C10.9219 16.2933 10.8886 16.2467 10.8619 16.18C10.4619 15.18 10.0086 14.06 9.50191 12.82C9.00858 11.58 8.53525 10.3667 8.08191 9.18H7.70191C7.83525 10.18 7.93525 11.0733 8.00191 11.86C8.06858 12.6467 8.10858 13.3933 8.12191 14.1C8.14858 14.8067 8.16191 15.5267 8.16191 16.26V19Z"}))}var Ei=V(require("react"));function dd(r){return Ei.createElement("svg",S({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r),Ei.createElement("path",{d:"M7.68191 19C7.53525 19 7.46191 18.9267 7.46191 18.78V5H10.1219C10.2686 5 10.3419 5.07333 10.3419 5.22V16.56H13.4419V15.02H15.7619C15.9086 15.02 15.9819 15.0933 15.9819 15.24V19H7.68191Z"}))}var wr=V(require("react"));function cd(){return wr.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wr.createElement("path",{d:"M1.72838 9.33987L8.84935 2.34732C9.23874 1.96494 9.86279 1.96539 10.2516 2.34831L13.5636 5.60975C13.9655 6.00555 13.9607 6.65526 13.553 7.04507L8.13212 12.2278C7.94604 12.4057 7.69851 12.505 7.44107 12.505L6.06722 12.505L3.83772 12.505C3.5673 12.505 3.30842 12.3954 3.12009 12.2014L1.7114 10.7498C1.32837 10.3551 1.33596 9.72521 1.72838 9.33987Z",stroke:"currentColor"}),wr.createElement("line",{x1:"6.01807",y1:"12.5",x2:"10.7959",y2:"12.5",stroke:"currentColor",strokeLinecap:"round"}),wr.createElement("line",{x1:"5.50834",y1:"5.74606",x2:"10.1984",y2:"10.4361",stroke:"currentColor"}))}var Bi=V(require("react"));function pd(){return Bi.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},Bi.createElement("path",{d:"M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"}))}var Ri=V(require("react"));function ud(){return Ri.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},Ri.createElement("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L11.1464 3.14645C11.3417 2.95118 11.6583 2.95118 11.8536 3.14645C12.0488 3.34171 12.0488 3.65829 11.8536 3.85355L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z"}))}function md(){let r=ge(),e=(0,hd.useIntl)(),t=Go.useCallback(()=>{r.delete()},[r]),n=r.useStore(o=>o.appState.status==="idle"&&o.document.pageStates[o.appState.currentPageId].selectedIds.length>0);return Go.createElement(ze,{label:e.formatMessage({id:"delete"}),kbd:"\u232B",id:"TD-Delete"},Go.createElement(Ie,{"aria-label":e.formatMessage({id:"delete"}),variant:"circle",disabled:!n,onSelect:t},Go.createElement(id,null)))}var Ts=V(require("@radix-ui/react-dropdown-menu")),wn=require("@radix-ui/react-icons"),Xn=V(require("@radix-ui/react-popover")),Fe=V(require("react")),Li=require("react-intl");var gd=require("@radix-ui/react-icons"),sn=V(require("react")),fd=require("react-intl");var ple=r=>r.settings.language,Sd=()=>{let r=ge(),e=r.useStore(ple),t=sn.useCallback(n=>{r.setSetting("language",n)},[r]);return sn.createElement(At,{variant:"menu",overflow:!0,id:"language-menu",side:"left",sideOffset:8},ds.map(({locale:n,label:o})=>sn.createElement(Rt,{key:n,checked:e===n,onCheckedChange:()=>t(n),id:`TD-MenuItem-Language-${n}`},o)),sn.createElement(Ee,null),sn.createElement("a",{href:"https://github.com/tldraw/tldraw/blob/main/guides/translation.md",target:"_blank",rel:"nofollow"},sn.createElement(ve,{id:"TD-MenuItem-Translation-Link"},sn.createElement(fd.FormattedMessage,{id:"translation.link"}),sn.createElement(bt,null,sn.createElement(gd.ExternalLinkIcon,null)))))};var Lt=V(require("@radix-ui/react-dialog")),bd=require("@radix-ui/react-icons"),dt=V(require("react")),Vo=require("react-intl");function Td({onOpenChange:r}){let e=(0,Vo.useIntl)(),t=Vt(),n={Tools:[{label:e.formatMessage({id:"select"}),kbd:"1"},{label:e.formatMessage({id:"draw"}),kbd:"2"},{label:e.formatMessage({id:"eraser"}),kbd:"3"},{label:e.formatMessage({id:"rectangle"}),kbd:"4"},{label:e.formatMessage({id:"ellipse"}),kbd:"5"},{label:e.formatMessage({id:"triangle"}),kbd:"6"},{label:e.formatMessage({id:"line"}),kbd:"7"},{label:e.formatMessage({id:"arrow"}),kbd:"8"},{label:e.formatMessage({id:"text"}),kbd:"9"},{label:e.formatMessage({id:"sticky"}),kbd:"0"}],View:[{label:e.formatMessage({id:"zoom.in"}),kbd:"#+"},{label:e.formatMessage({id:"zoom.out"}),kbd:"#-"},{label:`${e.formatMessage({id:"zoom.to"})} 100%`,kbd:"\u21E7+0"},{label:e.formatMessage({id:"zoom.to.fit"}),kbd:"\u21E7+1"},{label:e.formatMessage({id:"zoom.to.selection"}),kbd:"\u21E7+2"},{label:e.formatMessage({id:"preferences.dark.mode"}),kbd:"#\u21E7D"},{label:e.formatMessage({id:"preferences.focus.mode"}),kbd:"#."},{label:e.formatMessage({id:"preferences.show.grid"}),kbd:"#\u21E7G"}],Transform:[{label:e.formatMessage({id:"flip.horizontal"}),kbd:"\u21E7H"},{label:e.formatMessage({id:"flip.vertical"}),kbd:"\u21E7V"},{label:`${e.formatMessage({id:"lock"})} / ${e.formatMessage({id:"unlock"})}`,kbd:"#\u21E7L"},{label:`${e.formatMessage({id:"move"})} ${e.formatMessage({id:"to.front"})}`,kbd:"\u21E7]"},{label:`${e.formatMessage({id:"move"})} ${e.formatMessage({id:"forward"})}`,kbd:"]"},{label:`${e.formatMessage({id:"move"})} ${e.formatMessage({id:"backward"})}`,kbd:"["},{label:`${e.formatMessage({id:"move"})} ${e.formatMessage({id:"back"})}`,kbd:"\u21E7["}],File:[{label:e.formatMessage({id:"new.project"}),kbd:"#N"},{label:e.formatMessage({id:"open"}),kbd:"#O"},{label:e.formatMessage({id:"save"}),kbd:"#S"},{label:e.formatMessage({id:"save.as"}),kbd:"#\u21E7S"},{label:e.formatMessage({id:"upload.media"}),kbd:"#U"}],Edit:[{label:e.formatMessage({id:"undo"}),kbd:"#Z"},{label:e.formatMessage({id:"redo"}),kbd:"#\u21E7Z"},{label:e.formatMessage({id:"cut"}),kbd:"#X"},{label:e.formatMessage({id:"copy"}),kbd:"#C"},{label:e.formatMessage({id:"paste"}),kbd:"#V"},{label:e.formatMessage({id:"select.all"}),kbd:"#A"},{label:e.formatMessage({id:"delete"}),kbd:"\u232B"},{label:e.formatMessage({id:"duplicate"}),kbd:"#D"}]};return dt.createElement(Lt.Root,{onOpenChange:r},dt.createElement(Lt.Trigger,{asChild:!0},dt.createElement($e,{id:"TD-HelpItem-Keyboard",variant:"wide"},dt.createElement(Vo.FormattedMessage,{id:"keyboard.shortcuts"}))),dt.createElement(Lt.Portal,{container:t.current},dt.createElement(Sle,null),dt.createElement(gle,null,dt.createElement(Tle,null,dt.createElement(Vo.FormattedMessage,{id:"keyboard.shortcuts"}),dt.createElement(Lt.Close,{asChild:!0},dt.createElement(ble,null,dt.createElement(bd.Cross2Icon,null)))),dt.createElement(fle,{bp:rt},Object.entries(n).map(([o,s])=>dt.createElement(Ai,{key:o},dt.createElement(ule,null,dt.createElement(Vo.FormattedMessage,{id:`menu.${o.toLocaleLowerCase()}`})),dt.createElement(hle,null,s.map(a=>dt.createElement(mle,{key:a.label},a.label,dt.createElement(Eo,{variant:"menu"},a.kbd))))))))))}var ule=H("h3",{fontSize:"$2",color:"$text",fontFamily:"$ui",margin:0,paddingBottom:"$5"}),Ai=H("div",{breakInside:"avoid",paddingBottom:24}),hle=H("ul",{listStyleType:"none",width:"100%",padding:0,margin:0}),mle=H("li",{display:"flex",alignItems:"center",justifyContent:"space-between",height:32,minHeight:32,width:"100%",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",borderRadius:4,userSelect:"none",WebkitUserSelect:"none",margin:0,padding:"0 0"}),gle=H(Lt.Content,{borderRadius:6,boxShadow:"hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"fit-content",maxWidth:"90vw",maxHeight:"74vh",overflowY:"auto",padding:25,zIndex:9999,pointerEvents:"all",background:"$panel","&:focus":{outline:"none"}}),fle=H("div",{maxWidth:"100%",width:"fit-content",height:"fit-content",overflowY:"auto",columnGap:64,variants:{bp:{mobile:{columns:1,[`& ${Ai}`]:{minWidth:"0px"}},small:{columns:2,[`& ${Ai}`]:{minWidth:"200px"}},medium:{columns:3},large:{columns:3}}}}),Sle=H(Lt.Overlay,{backgroundColor:"$overlay",position:"fixed",inset:0,zIndex:9998}),ble=H(Ho,{fontFamily:"inherit",borderRadius:"100%",height:25,width:25,display:"inline-flex",alignItems:"center",justifyContent:"center",color:"$text",cursor:"pointer","&:hover":{backgroundColor:"$hover"}}),Tle=H(Lt.Title,{fontFamily:"$body",fontSize:"$3",color:"$text",paddingBottom:32,display:"flex",alignItems:"center",justifyContent:"space-between",margin:0});var yle=r=>r.settings.isDebugMode,wle=r=>r.settings.dockPosition;function yd(){let r=ge(),e=r.useStore(yle),t=r.useStore(wle),[n,o]=Fe.useState(!1);return Fe.createElement(Xn.Root,null,Fe.createElement(Dle,{dir:"ltr",debug:e,side:t,bp:rt},Fe.createElement(Xn.Trigger,{dir:"ltr",asChild:!0},Fe.createElement(Ile,null,Fe.createElement(wn.QuestionMarkIcon,null)))),Fe.createElement(Xn.Content,{dir:"ltr",align:"end",side:"top",alignOffset:10,sideOffset:8,asChild:!0},Fe.createElement(Cle,{style:{visibility:n?"hidden":"visible"}},Fe.createElement(xle,null),Fe.createElement(Td,{onOpenChange:o}),Fe.createElement(Ee,null),Fe.createElement(vle,null))))}var xle=()=>Fe.createElement(Ts.Root,{dir:"ltr"},Fe.createElement(Ts.Trigger,{asChild:!0},Fe.createElement($e,{variant:"wide",hasArrow:!0},Fe.createElement(Li.FormattedMessage,{id:"language"}))),Fe.createElement(Sd,null)),kle=[{id:"tldraw-beta",icon:wn.ExternalLinkIcon,url:"https://beta.tldraw.com"},{id:"github",icon:wn.GitHubLogoIcon,url:"https://github.com/tldraw/tldraw"},{id:"twitter",icon:wn.TwitterLogoIcon,url:"https://twitter.com/tldraw"},{id:"discord",icon:pd,url:"https://discord.gg/SBBEVCA4PG"},{id:"become.a.sponsor",icon:wn.HeartFilledIcon,url:"https://github.com/sponsors/steveruizok"}],vle=()=>Fe.createElement(Fe.Fragment,null,kle.map(r=>Fe.createElement("a",{key:r.id,href:r.url,target:"_blank",rel:"nofollow"},Fe.createElement($e,{id:`TD-Link-${r.id}`,variant:"wide"},Fe.createElement(Li.FormattedMessage,{id:r.id}),Fe.createElement(bt,null,Fe.createElement(r.icon,null)))))),Ile=H("button",{width:32,height:32,borderRadius:"100%",display:"flex",padding:0,justifyContent:"center",alignItems:"center",outline:"none",backgroundColor:"$panel",cursor:"pointer",boxShadow:"$panel",border:"1px solid $panelContrast",color:"$text","& svg":{height:12,width:12}}),Cle=H(jt,{width:"fit-content",height:"fit-content",minWidth:200,maxHeight:380,overflowY:"auto","& *":{boxSizing:"border-box"},"& a":{outline:"none"},variants:{variant:{horizontal:{flexDirection:"row"},menu:{minWidth:128}}}}),Dle=H(Xn.Anchor,{position:"absolute",zIndex:999,right:10,bottom:10,width:32,height:32,variants:{debug:{true:{},false:{}},bp:{mobile:{bottom:64},small:{bottom:20},medium:{},large:{}},side:{top:{},left:{},right:{},bottom:{}}},compoundVariants:[{debug:!0,css:{bottom:50}},{bp:"mobile",side:"bottom",debug:!0,css:{bottom:104}},{bp:"small",side:"bottom",debug:!0,css:{bottom:60}},{bp:"small",side:"bottom",debug:!0,css:{bottom:60}}]});var _t=require("@radix-ui/react-icons"),je=V(require("react")),vd=require("react-intl");var So=H("div",{backgroundColor:"$panel",display:"flex",alignItems:"center",flexDirection:"row",boxShadow:"$panel",padding:"$2",border:"1px solid $panelContrast",gap:0,overflow:"hidden",variants:{side:{center:{borderRadius:9},left:{padding:0,borderTop:0,borderLeft:0,borderTopRightRadius:0,borderBottomRightRadius:9,borderBottomLeftRadius:0},right:{padding:0,borderTop:0,borderRight:0,borderTopLeftRadius:0,borderBottomLeftRadius:9,borderBottomRightRadius:0}}},"& hr":{height:10,width:"100%",backgroundColor:"red",border:"none"}});var qn=V(require("@radix-ui/react-dropdown-menu")),$o=require("@radix-ui/react-icons"),Ze=V(require("react")),xd=require("react-intl");var Hi=["rectangle","ellipse","triangle","line"],wd={["rectangle"]:Ze.createElement($o.SquareIcon,null),["ellipse"]:Ze.createElement($o.CircleIcon,null),["triangle"]:Ze.createElement($o.VercelLogoIcon,null),["line"]:Ze.createElement(ud,null)},Ple=r=>r.settings.dockPosition,kd=Ze.memo(function({activeTool:e,isToolLocked:t}){let n=ge(),o=(0,xd.useIntl)(),s=n.useStore(Ple),[a,d]=Ze.useState("rectangle");Ze.useEffect(()=>{Hi.includes(e)&&a!==e&&d(e)},[e]);let i=Ze.useCallback(()=>{n.selectTool(a)},[e,n]),c=Ze.useCallback(()=>{n.toggleToolLock()},[n]),u=Ze.useCallback(g=>{g.key===" "&&n.shiftKey&&g.preventDefault()},[]),p=Hi.includes(e),m=s==="bottom"||s==="top"?"top":s,h=s==="bottom"||s==="top"?"row":"column";return Ze.createElement(qn.Root,{dir:"ltr",onOpenChange:i},Ze.createElement(qn.Trigger,{dir:"ltr",asChild:!0,id:"TD-PrimaryTools-Shapes"},Ze.createElement(Ie,{disabled:p&&n.shiftKey,variant:"primary",onDoubleClick:c,isToolLocked:p&&t,isActive:p,onKeyDown:u,"aria-label":o.formatMessage({id:"shapes"})},wd[a])),Ze.createElement(qn.Content,{asChild:!0,side:m,sideOffset:12},Ze.createElement(So,{side:"center",style:{flexDirection:h}},Hi.map((g,f)=>Ze.createElement(ze,{key:g,label:o.formatMessage({id:g}),kbd:(4+f).toString(),id:`TD-PrimaryTools-Shapes-${g}`},Ze.createElement(qn.Item,{asChild:!0},Ze.createElement(Ie,{"aria-label":o.formatMessage({id:g}),variant:"primary",onClick:()=>{n.selectTool(g),d(g)}},wd[g])))))))});var Mle=r=>r.appState.activeTool,Ele=r=>r.appState.isToolLocked,Ble=r=>r.settings.dockPosition,Id=je.memo(function(){let e=ge(),t=(0,vd.useIntl)(),n=e.useStore(Mle),o=e.useStore(Ele),s=e.useStore(Ble),a=je.useCallback(()=>{e.selectTool("select")},[e]),d=je.useCallback(()=>{e.selectTool("erase")},[e]),i=je.useCallback(()=>{e.selectTool("draw")},[e]),c=je.useCallback(()=>{e.selectTool("arrow")},[e]),u=je.useCallback(()=>{e.selectTool("text")},[e]),p=je.useCallback(()=>{e.selectTool("sticky")},[e]),m=je.useCallback(()=>ue(this,null,function*(){e.openAsset()}),[e]);return je.createElement(Rle,{side:"center",id:"TD-PrimaryTools",style:{flexDirection:s==="bottom"||s==="top"?"row":"column"},bp:rt},je.createElement(on,{kbd:"1",label:t.formatMessage({id:"select"}),onClick:a,isActive:n==="select",variant:"primary",id:"TD-PrimaryTools-CursorArrow"},je.createElement(_t.CursorArrowIcon,null)),je.createElement(on,{kbd:"2",label:t.formatMessage({id:"draw"}),onClick:i,isActive:n==="draw",variant:"primary",id:"TD-PrimaryTools-Pencil"},je.createElement(_t.Pencil1Icon,null)),je.createElement(on,{kbd:"3",label:t.formatMessage({id:"eraser"}),onClick:d,isActive:n==="erase",variant:"primary",id:"TD-PrimaryTools-Eraser"},je.createElement(cd,null)),je.createElement(kd,{activeTool:n,isToolLocked:o}),je.createElement(on,{kbd:"8",label:t.formatMessage({id:"arrow"}),onClick:c,isLocked:o,variant:"primary",isActive:n==="arrow",id:"TD-PrimaryTools-ArrowTopRight"},je.createElement(_t.ArrowTopRightIcon,null)),je.createElement(on,{kbd:"9",label:t.formatMessage({id:"text"}),onClick:u,isLocked:o,variant:"primary",isActive:n==="text",id:"TD-PrimaryTools-Text"},je.createElement(_t.TextIcon,null)),je.createElement(on,{kbd:"0",label:t.formatMessage({id:"sticky"}),onClick:p,isActive:n==="sticky",variant:"primary",id:"TD-PrimaryTools-Pencil2"},je.createElement(_t.Pencil2Icon,null)),je.createElement(on,{label:t.formatMessage({id:"image"}),onClick:m,id:"TD-PrimaryTools-Image",variant:"primary"},je.createElement(_t.ImageIcon,null)))}),Rle=H(So,{variants:{bp:{mobile:{padding:"$0",borderRadius:"10px"},small:{padding:"$2"}}}});var zi=V(require("react"));var Ale=r=>r.appState.status,Lle=r=>r.appState.activeTool;function Cd(){let r=ge(),e=r.useStore(Ale),t=r.useStore(Lle);return zi.createElement(Hle,{bp:rt,id:"TD-StatusBar"},zi.createElement(zle,null,t," | ",e))}var Hle=H("div",{height:40,userSelect:"none",WebkitUserSelect:"none",borderTop:"1px solid $panelContrast",gridArea:"status",display:"flex",color:"$text",justifyContent:"space-between",alignItems:"center",backgroundColor:"$panel",gap:8,fontFamily:"$ui",fontSize:"$0",padding:"0 16px",variants:{bp:{small:{fontSize:"$1"}}}}),zle=H("div",{whiteSpace:"nowrap",overflow:"hidden"});var Ole=r=>r.settings.isDebugMode,Fle=r=>r.settings.dockPosition,Dd=vt.memo(function({onBlur:e}){let t=ge(),n=t.useStore(Fle),o=t.useStore(Ole);return vt.createElement(vt.Fragment,null,vt.createElement(jle,{side:n,onBlur:e,bp:rt,debug:o},vt.createElement(Gle,{id:"TD-Tools"},vt.createElement(td,null),vt.createElement($le,{orientation:n==="bottom"||n==="top"?"horizontal":"vertical"},vt.createElement(Ql,null),vt.createElement(Id,null),vt.createElement(md,null)))),vt.createElement(yd,null),o&&vt.createElement(Vle,null,vt.createElement(Cd,null)))}),jle=H("div",{position:"absolute",width:"100%",minWidth:0,maxWidth:"100%",height:64,gap:"$4",display:"flex",justifyContent:"center",alignItems:"center",zIndex:200,overflow:"hidden",pointerEvents:"none","& > div > *":{pointerEvents:"all"},variants:{debug:{true:{},false:{}},bp:{mobile:{},small:{},medium:{},large:{}},side:{top:{width:"100%",height:64,left:0,right:0,top:45},right:{width:64,height:"100%",top:0,right:0},bottom:{width:"100%",left:0,right:0,bottom:4},left:{width:64,height:"100%",left:0}}},compoundVariants:[{side:"top",bp:"large",css:{top:0}},{side:"bottom",debug:!0,css:{bottom:44}}]}),Gle=H("div",{display:"flex",width:"fit-content",height:"fit-content",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"$4"}),Vle=H("div",{position:"absolute",bottom:"0px",left:"0px",right:"0px",height:"40px",width:"100%",maxWidth:"100%"}),$le=H("div",{position:"relative",display:"flex",alignItems:"center",height:"fit-content",gap:"$3",variants:{orientation:{horizontal:{flexDirection:"row"},vertical:{flexDirection:"column"}}}});var ut=V(require("react")),Uc=require("react-intl");var Ed=V(require("@radix-ui/react-dropdown-menu")),Bd=require("@radix-ui/react-icons"),Rd=require("browser-fs-access"),te=V(require("react")),st=require("react-intl");var Be=V(require("react")),an=require("react-intl");var Nle=r=>r.settings,Wle=["bottom","left","right","top"];function Md(){let r=ge(),e=(0,an.useIntl)(),t=r.useStore(Nle),n=Be.useCallback(()=>{r.setSetting("isDebugMode",p=>!p)},[r]),o=Be.useCallback(()=>{r.setSetting("isDarkMode",p=>!p)},[r]),s=Be.useCallback(()=>{r.setSetting("isFocusMode",p=>!p)},[r]),a=Be.useCallback(()=>{r.setSetting("showGrid",p=>!p)},[r]),d=Be.useCallback(()=>{r.setSetting("keepStyleMenuOpen",p=>!p)},[r]),i=Be.useCallback(()=>{r.setSetting("isCadSelectMode",p=>!p)},[r]),c=Be.useCallback(p=>{r.setSetting("dockPosition",p)},[r]),u=Be.useCallback(p=>{r.setSetting("exportBackground",p)},[r]);return Be.createElement(yn,{label:e.formatMessage({id:"menu.preferences"}),id:"TD-MenuItem-Preferences"},Be.createElement(Rt,{checked:t.isDarkMode,onCheckedChange:o,kbd:"#\u21E7D",id:"TD-MenuItem-Preferences-Dark_Mode",ariaLabel:e.formatMessage({id:"preferences.dark.mode"})},Be.createElement(an.FormattedMessage,{id:"preferences.dark.mode"})),Be.createElement(Rt,{checked:t.isFocusMode,onCheckedChange:s,kbd:"#.",id:"TD-MenuItem-Preferences-Focus_Mode",ariaLabel:e.formatMessage({id:"preferences.focus.mode"})},Be.createElement(an.FormattedMessage,{id:"preferences.focus.mode"})),Be.createElement(Rt,{checked:t.isDebugMode,onCheckedChange:n,id:"TD-MenuItem-Preferences-Debug_Mode",ariaLabel:e.formatMessage({id:"preferences.debug.mode"})},Be.createElement(an.FormattedMessage,{id:"preferences.debug.mode"})),Be.createElement(Ee,null),Be.createElement(Rt,{checked:t.showGrid,onCheckedChange:a,kbd:"#\u21E7G",id:"TD-MenuItem-Preferences-Grid",ariaLabel:e.formatMessage({id:"preferences.show.grid"})},Be.createElement(an.FormattedMessage,{id:"preferences.show.grid"})),Be.createElement(Rt,{checked:t.isCadSelectMode,onCheckedChange:i,id:"TD-MenuItem-Preferences-Cad_Selection",ariaLabel:e.formatMessage({id:"preferences.use.cad.selection"})},Be.createElement(an.FormattedMessage,{id:"preferences.use.cad.selection"})),Be.createElement(Rt,{checked:t.keepStyleMenuOpen,onCheckedChange:d,id:"TD-MenuItem-Preferences-Style_menu",ariaLabel:e.formatMessage({id:"preferences.keep.stylemenu.open"})},Be.createElement(an.FormattedMessage,{id:"preferences.keep.stylemenu.open"})),Be.createElement(yn,{label:e.formatMessage({id:"dock.position"})},Wle.map(p=>Be.createElement(Rt,{key:p,checked:t.dockPosition===p,onCheckedChange:()=>c(p),id:`TD-MenuItem-DockPosition-${p}`,ariaLabel:`DockPosition-${p}`},Be.createElement(Pd,null,Be.createElement(an.FormattedMessage,{id:p}))))),Be.createElement(yn,{label:e.formatMessage({id:"export.background"})},Object.values(Lo).map(p=>Be.createElement(Rt,{key:p,checked:t.exportBackground===p,onCheckedChange:()=>u(p),id:`TD-MenuItem-ExportBackground-${p}`,ariaLabel:`ExportBackground-${p}`},Be.createElement(Pd,null,Be.createElement(an.FormattedMessage,{id:p}))))))}var Pd=H("span",{textTransform:"capitalize"});var Ule=r=>r.document.pageStates[r.appState.currentPageId].selectedIds.length,Kle=r=>r.appState.disableAssets,Ad=te.memo(function({readOnly:e}){let t=ge(),n=(0,st.useIntl)(),[o,s]=te.useState(!1),a=t.useStore(Ule),d=t.useStore(Kle),[i,c]=te.useState(0);te.useEffect(()=>c(1),[]);let{onNewProject:u,onOpenProject:p,onSaveProject:m,onSaveProjectAs:h}=ts(),g=te.useCallback(()=>{Rd.supported?t.saveProjectAs():s(!0)},[t]),f=te.useCallback(()=>{t.delete()},[t]),T=te.useCallback(()=>{t.copyImage("svg",{scale:1,quality:1,transparentBackground:!1})},[t]),w=te.useCallback(()=>{t.copyImage("png",{scale:2,quality:1,transparentBackground:!0})},[t]),b=te.useCallback(()=>ue(this,null,function*(){t.exportImage("png",{scale:2,quality:1})}),[t]),y=te.useCallback(()=>ue(this,null,function*(){t.exportImage("jpeg",{scale:2,quality:1})}),[t]),R=te.useCallback(()=>ue(this,null,function*(){t.exportImage("webp",{scale:2,quality:1})}),[t]),K=te.useCallback(()=>ue(this,null,function*(){t.exportImage("svg",{scale:2,quality:1})}),[t]),L=te.useCallback(()=>ue(this,null,function*(){t.copyJson()}),[t]),v=te.useCallback(()=>ue(this,null,function*(){t.exportJson()}),[t]),I=te.useCallback(()=>{t.cut()},[t]),J=te.useCallback(()=>{t.copy()},[t]),ce=te.useCallback(()=>{t.paste()},[t]),de=te.useCallback(()=>{t.selectAll()},[t]),He=te.useCallback(()=>{t.selectNone()},[t]),Pe=te.useCallback(()=>{t.openAsset()},[t]),Me=te.useCallback(()=>{t.zoomTo(1)},[t]),Ue=t.callbacks.onNewProject||t.callbacks.onOpenProject||t.callbacks.onSaveProject||t.callbacks.onSaveProjectAs||t.callbacks.onExport,Ke=a>0;return te.createElement(te.Fragment,null,te.createElement(Ed.Root,{dir:"ltr"},te.createElement(fs,{id:"TD-MenuIcon"},te.createElement(Bd.HamburgerMenuIcon,null)),te.createElement(At,{variant:"menu",id:"TD-Menu",side:"bottom",align:"start",sideOffset:4,alignOffset:4},Ue&&te.createElement(yn,{label:`${n.formatMessage({id:"menu.file"})}...`,id:"TD-MenuItem-File"},t.callbacks.onNewProject&&te.createElement(ve,{onClick:u,kbd:"#N",id:"TD-MenuItem-File-New_Project"},te.createElement(st.FormattedMessage,{id:"new.project"})),t.callbacks.onOpenProject&&te.createElement(ve,{onClick:p,kbd:"#O",id:"TD-MenuItem-File-Open"},te.createElement(st.FormattedMessage,{id:"open"}),"..."),t.callbacks.onSaveProject&&te.createElement(ve,{onClick:m,kbd:"#S",id:"TD-MenuItem-File-Save"},te.createElement(st.FormattedMessage,{id:"save"})),t.callbacks.onSaveProjectAs&&te.createElement(ve,{onClick:g,kbd:"#\u21E7S",id:"TD-MenuItem-File-Save_As"},te.createElement(st.FormattedMessage,{id:"save.as"}),"..."),te.createElement(yn,{label:`${n.formatMessage({id:"export.as"})}...`,size:"small",id:"TD-MenuItem-Export"},te.createElement(ve,{onClick:K,id:"TD-MenuItem-Export-SVG"},"SVG"),te.createElement(ve,{onClick:b,id:"TD-MenuItem-Export-PNG"},"PNG"),te.createElement(ve,{onClick:y,id:"TD-MenuItem-Export-JPG"},"JPG"),te.createElement(ve,{onClick:R,id:"TD-MenuItem-Export-WEBP"},"WEBP"),te.createElement(ve,{onClick:v,id:"TD-MenuItem-Export-JSON"},"JSON")),!d&&te.createElement(te.Fragment,null,te.createElement(Ee,null),te.createElement(ve,{onClick:Pe,kbd:"#U",id:"TD-MenuItem-File-Upload_Media"},te.createElement(st.FormattedMessage,{id:"upload.media"})))),te.createElement(yn,{label:`${n.formatMessage({id:"menu.edit"})}...`,id:"TD-MenuItem-Edit"},te.createElement(ve,{onSelect:Oe,onClick:t.undo,disabled:e,kbd:"#Z",id:"TD-MenuItem-Edit-Undo"},te.createElement(st.FormattedMessage,{id:"undo"})),te.createElement(ve,{onSelect:Oe,onClick:t.redo,disabled:e,kbd:"#\u21E7Z",id:"TD-MenuItem-Edit-Redo"},te.createElement(st.FormattedMessage,{id:"redo"})),te.createElement(Ee,null),te.createElement(ve,{onSelect:Oe,disabled:!Ke||e,onClick:I,kbd:"#X",id:"TD-MenuItem-Edit-Cut"},te.createElement(st.FormattedMessage,{id:"cut"})),te.createElement(ve,{onSelect:Oe,disabled:!Ke,onClick:J,kbd:"#C",id:"TD-MenuItem-Edit-Copy"},te.createElement(st.FormattedMessage,{id:"copy"})),te.createElement(ve,{onSelect:Oe,onClick:ce,kbd:"#V",id:"TD-MenuItem-Edit-Paste"},te.createElement(st.FormattedMessage,{id:"paste"})),te.createElement(Ee,null),te.createElement(yn,{label:`${n.formatMessage({id:"copy.as"})}...`,size:"small",id:"TD-MenuItem-Copy-As"},te.createElement(ve,{onClick:T,id:"TD-MenuItem-Copy-as-SVG"},"SVG"),te.createElement(ve,{onClick:w,id:"TD-MenuItem-Copy-As-PNG"},"PNG"),te.createElement(ve,{onClick:L,id:"TD-MenuItem-Copy_as_JSON"},"JSON")),te.createElement(Ee,null),te.createElement(ve,{onSelect:Oe,onClick:de,kbd:"#A",id:"TD-MenuItem-Select_All"},te.createElement(st.FormattedMessage,{id:"select.all"})),te.createElement(ve,{onSelect:Oe,disabled:!Ke,onClick:He,id:"TD-MenuItem-Select_None"},te.createElement(st.FormattedMessage,{id:"select.none"})),te.createElement(Ee,null),te.createElement(ve,{onSelect:f,disabled:!Ke,kbd:"\u232B",id:"TD-MenuItem-Delete"},te.createElement(st.FormattedMessage,{id:"delete"}))),te.createElement(yn,{label:n.formatMessage({id:"menu.view"}),id:"TD-MenuItem-Edit"},te.createElement(ve,{onSelect:Oe,onClick:t.zoomIn,kbd:"#+",id:"TD-MenuItem-View-ZoomIn"},te.createElement(st.FormattedMessage,{id:"zoom.in"})),te.createElement(ve,{onSelect:Oe,onClick:t.zoomOut,kbd:"#-",id:"TD-MenuItem-View-ZoomOut"},te.createElement(st.FormattedMessage,{id:"zoom.out"})),te.createElement(ve,{onSelect:Oe,onClick:Me,kbd:"\u21E7+0",id:"TD-MenuItem-View-ZoomTo100"},te.createElement(st.FormattedMessage,{id:"zoom.to"})," 100%"),te.createElement(ve,{onSelect:Oe,onClick:t.zoomToFit,kbd:"\u21E7+1",id:"TD-MenuItem-View-ZoomToFit"},te.createElement(st.FormattedMessage,{id:"zoom.to.fit"})),te.createElement(ve,{onSelect:Oe,onClick:t.zoomToSelection,kbd:"\u21E7+2",id:"TD-MenuItem-View-ZoomToSelection"},te.createElement(st.FormattedMessage,{id:"zoom.to.selection"}))),te.createElement(Ee,null),te.createElement(Md,null))),te.createElement(Kl,{isOpen:o,onClose:()=>s(!1)}))});var Oc=V(require("@radix-ui/react-dropdown-menu")),er=require("@radix-ui/react-icons"),Us=require("@tldraw/core"),Le=V(require("react")),Mr=require("react-intl");var Oi=V(require("react"));function Ld(){return Oi.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"},Oi.createElement("path",{d:"M1.36482 4.71089C1.36482 3.21371 2.57853 2 4.07572 2C5.5729 2 6.78661 3.21371 6.78661 4.71089C6.78661 5.76842 6.18106 6.68452 5.29779 7.13136C5.80465 7.24611 6.26407 7.44186 6.66028 7.73182C7.18674 8.11711 7.57215 8.64722 7.81073 9.30983C7.81452 9.30606 7.81832 9.3023 7.82212 9.29855C8.30448 8.82317 8.91325 8.52463 9.60905 8.37275C8.68812 7.922 8.05394 6.97569 8.05394 5.88126C8.05394 4.35017 9.29513 3.10898 10.8262 3.10898C12.3573 3.10898 13.5985 4.35017 13.5985 5.88126C13.5985 6.97561 12.9644 7.92186 12.0436 8.37265C12.7396 8.52449 13.3486 8.82306 13.831 9.29854C14.5795 10.0361 14.9481 11.1249 14.9481 12.5176C14.9481 12.7799 14.7354 12.9926 14.473 12.9926C14.2107 12.9926 13.9981 12.7799 13.9981 12.5175C13.9981 11.2848 13.6738 10.4774 13.1642 9.97518C12.6532 9.4716 11.8802 9.20024 10.8266 9.20024C9.77294 9.20024 8.99993 9.4716 8.48896 9.97518C7.97939 10.4774 7.65513 11.2848 7.65513 12.5176C7.65513 12.7799 7.44247 12.9926 7.18013 12.9926C6.9178 12.9926 6.70513 12.7799 6.70513 12.5176C6.70513 11.6734 6.84053 10.941 7.11384 10.3307C7.0922 10.2895 7.0763 10.2444 7.06737 10.1962C6.91739 9.38749 6.57392 8.84586 6.09923 8.49845C5.61626 8.14499 4.94481 7.95427 4.07574 7.95427C3.05232 7.95427 2.30368 8.21784 1.80952 8.70485C1.31675 9.19047 1.00176 9.97257 1.00176 11.1702C1.00176 11.4326 0.789093 11.6452 0.526758 11.6452C0.264423 11.6452 0.0517578 11.4326 0.0517578 11.1702C0.0517578 9.81263 0.411052 8.74925 1.14268 8.02821C1.60624 7.57137 2.18892 7.28191 2.85378 7.13142C1.97043 6.68461 1.36482 5.76848 1.36482 4.71089ZM4.07572 2.95C3.1032 2.95 2.31482 3.73838 2.31482 4.71089C2.31482 5.68341 3.1032 6.47178 4.07572 6.47178C5.04823 6.47178 5.83661 5.68341 5.83661 4.71089C5.83661 3.73838 5.04823 2.95 4.07572 2.95ZM10.8262 4.05898C9.8198 4.05898 9.00394 4.87484 9.00394 5.88126C9.00394 6.88768 9.8198 7.70355 10.8262 7.70355C11.8326 7.70355 12.6485 6.88768 12.6485 5.88126C12.6485 4.87484 11.8326 4.05898 10.8262 4.05898Z"}))}var zt=require("@tldraw/core"),lo=require("@tldraw/intersect"),Se=require("@tldraw/vec");var Yt="-0.03em";var No=[.5,.5],Afe=Math.PI*2,ys=".tldr",bo={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>r*(2-r),easeInOutQuad:r=>r<.5?2*r*r:-1+(4-2*r)*r,easeInCubic:r=>r*r*r,easeOutCubic:r=>--r*r*r+1,easeInOutCubic:r=>r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1,easeInQuart:r=>r*r*r*r,easeOutQuart:r=>1- --r*r*r*r,easeInOutQuart:r=>r<.5?8*r*r*r*r:1-8*--r*r*r*r,easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>1+--r*r*r*r*r,easeInOutQuint:r=>r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r,easeInSine:r=>1-Math.cos(r*Math.PI/2),easeOutSine:r=>Math.sin(r*Math.PI/2),easeInOutSine:r=>-(Math.cos(Math.PI*r)-1)/2,easeInExpo:r=>r<=0?0:Math.pow(2,10*r-10),easeOutExpo:r=>r>=1?1:1-Math.pow(2,-10*r),easeInOutExpo:r=>r<=0?0:r>=1?1:r<.5?Math.pow(2,20*r-10)/2:(2-Math.pow(2,-20*r+10))/2};var Fi=["#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467","#FF802B"],_le=typeof Window=="undefined"?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Hd=typeof Window=="undefined"?!1:/linux/i.test(navigator.userAgent),ws=[".png",".svg",".jpg",".jpeg",".gif"],xs=_le?[]:[".mp4",".webm"];function xt(r){if(r===null)return r;if(r instanceof Date)return new Date(r.getTime());if(typeof r=="object")if(typeof r[Symbol.iterator]=="function"){let e=[];if(r.length>0)for(let t of r)e.push(xt(t));return e}else{let e=Object.keys(r),t={};if(e.length>0)for(let n of e)t[n]=xt(r[n]);return t}return r}var Ht=require("@tldraw/core"),Xo=require("@tldraw/intersect"),fe=require("@tldraw/vec"),qe=V(require("react"));var Xt=require("@tldraw/core"),Yo=require("@tldraw/intersect"),kn=require("@tldraw/vec"),_d=V(require("react"));var ji=require("@tldraw/core");function Zt(r,e){let t=ji.Utils.getFromCache(e,r,()=>{let[n,o]=r.size;return{minX:0,maxX:n,minY:0,maxY:o,width:n,height:o}});return ji.Utils.translateBounds(t,r.point)}var Yle={["start"]:"left",["middle"]:"center",["end"]:"right",["justify"]:"justify"};function zd(r="start"){return Yle[r]}var Jn;function Zle(){var e;(e=document.getElementById("__textLabelMeasure"))==null||e.remove();let r=document.createElement("pre");return r.id="__textLabelMeasure",Object.assign(r.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:Yt,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none","-webkit-user-select":"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),r.tabIndex=-1,document.body.appendChild(r),r}typeof window!="undefined"&&(Jn=Zle());var Vi="",Od="",Gi=[0,0];function Fd(){Vi=""}function Qn(r,e){if(!r)return[16,32];if(!Jn)return[10,10];if(Jn.parent||document.body.appendChild(Jn),r===Vi&&e===Od)return Gi;Vi=r,Od=e,Jn.textContent=r,Jn.style.font=e;let t=Jn.offsetWidth||1,n=Jn.offsetHeight||1;return Gi=[t,n],Gi}var Xle=new RegExp(`${[32,160,4961,65792,65793,4153,4241].map(r=>String.fromCodePoint(r)).join("|")}`);function eo(r,e,t,n,o,s=!1){let a="normal",i=Yt,c=qle({text:r,wrap:s,width:o,fontSize:e,fontWeight:a,fontFamily:t,fontStyle:"normal",textAlign:"left",letterSpacing:Yt,lineHeight:1}),u=document.createElementNS("http://www.w3.org/2000/svg","text");u.setAttribute("font-size",e+"px"),u.setAttribute("font-family",t),u.setAttribute("font-weight",a),u.setAttribute("line-height",1*e+"px"),u.setAttribute("letter-spacing",i),u.setAttribute("text-align",n!=null?n:"left"),u.setAttribute("dominant-baseline","mathematical"),u.setAttribute("alignment-baseline","mathematical");let p=c.map((m,h)=>{let g=document.createElementNS("http://www.w3.org/2000/svg","tspan");return g.textContent=m+`
`,g.setAttribute("y",1*e*(h+.5)+"px"),u.appendChild(g),g});switch(n){case"middle":{u.setAttribute("text-align","center"),u.setAttribute("text-anchor","middle"),p.forEach(m=>m.setAttribute("x",o/2+""));break}case"end":{u.setAttribute("text-align","right"),u.setAttribute("text-anchor","end"),p.forEach(m=>m.setAttribute("x",-4+o+""));break}default:u.setAttribute("text-align","left"),u.setAttribute("text-anchor","start"),p.forEach(m=>m.setAttribute("x",4+""))}return u}function qle(r){let e=document.createElement("div");e.style.setProperty("position","absolute"),e.style.setProperty("top","-9999px"),e.style.setProperty("left","-9999px"),e.style.setProperty("width",r.width+"px"),e.style.setProperty("height","min-content"),e.style.setProperty("font-size",r.fontSize+"px"),e.style.setProperty("font-family",r.fontFamily),e.style.setProperty("font-weight",r.fontWeight),e.style.setProperty("line-height",r.lineHeight*r.fontSize+"px"),e.style.setProperty("letter-spacing",r.letterSpacing),e.style.setProperty("text-align",r.textAlign),document.body.appendChild(e);let t=r.text.split(Xle).flatMap(a=>a.replace(`
`,` 
`)).join(" ").split(" ");e.innerText=t[0];let n=e.offsetHeight,o=[t[0]],s=[o];for(let a=1;a<t.length;a++){let d=t[a];e.innerText+=" "+d;let i=e.offsetHeight;i>n&&(n=i,o=[],s.push(o)),o.push(d)}return e.remove(),s.map(a=>a.join(" "))}var xr=V(require("react"));function jd({id:r,bounds:e,labelSize:t,offset:n,scale:o=1}){return xr.createElement("defs",null,xr.createElement("mask",{id:r+"_clip"},xr.createElement("rect",{x:-100,y:-100,width:e.width+200,height:e.height+200,fill:"white"}),xr.createElement("rect",{x:e.width/2-t[0]/2*o+((n==null?void 0:n[0])||0),y:e.height/2-t[1]/2*o+((n==null?void 0:n[1])||0),width:t[0]*o,height:t[1]*o,rx:4*o,ry:4*o,fill:"black",opacity:Math.max(o,.8)})))}var Vd=require("@tldraw/intersect"),Wt=V(require("@tldraw/vec")),ks=Math.PI*2,Nt=class{static inwardEdgeNormal(e){let t=Wt.default.sub(e[1],e[0]),n=Wt.default.len2(t);return[-t[0]/n,t[1]/n]}static outwardEdgeNormal(e){return Wt.default.neg(Nt.inwardEdgeNormal(e))}static isReflexVertex(e,t){let n=e.length,o=e[(t+n-1)%n],s=e[t],a=e[(t+1)%n];return Nt.leftSide(o,a,s)<0}static getEdges(e){return e.map((t,n)=>[t,e[(n+1)%e.length]])}static edgesIntersection([e,t],[n,o]){let s=(o[1]-n[1])*(t[0]-e[0])-(o[0]-n[0])*(t[1]-e[1]);if(s==0)return null;let a=((o[0]-n[0])*(e[1]-n[1])-(o[1]-n[1])*(e[0]-n[0]))/s,d=((t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]))/s;return a<0||d<0||a>1||d>1?null:[e[0]+a*(t[0]-e[0]),e[1]+a*(t[1]-e[1])]}static appendArc(e,t,n,o,s,a=!1){let d=[...e],i=Math.atan2(o[1]-t[1],o[0]-t[0]),c=Math.atan2(s[1]-t[1],s[0]-t[0]);i<0&&(i+=ks),c<0&&(c+=ks);let u=5,p=i>c?i-c:i+ks-c,m=(a?-p:ks-p)/u;d.push(o);for(let h=1;h<u;++h){let g=i+m*h;d.push([t[0]+Math.cos(g)*n,t[1]+Math.sin(g)*n])}return d.push(s),d}static createOffsetEdge(e,t){return e.map(n=>Wt.default.add(n,t))}static getOffsetPolygon(e,t=0){let n=Nt.getEdges(e),o=n.map(a=>Nt.createOffsetEdge(a,Wt.default.mul(Nt.outwardEdgeNormal(a),t))),s=[];for(let a=0;a<o.length;a++){let d=o[a],i=o[(a+o.length-1)%o.length],c=Nt.edgesIntersection(i,d);c?s.push(c):Nt.appendArc(s,n[a][0],t,i[1],d[0],!1)}return s}static createPaddingPolygon(e,t=0){let n=e.map(s=>Nt.createOffsetEdge(s,Nt.inwardEdgeNormal(s))),o=[];for(let s=0;s<n.length;s++){let a=n[s],d=n[(s+n.length-1)%n.length],i=Nt.edgesIntersection(d,a);i?o.push(i):Nt.appendArc(o,e[s][0],t,d[1],a[0],!0)}return o}},Gd=Nt;l(Gd,"leftSide",Wt.default.isLeft);function $d(r,e){if(r.length<3)throw Error("Polygon must have at least 3 points");let t=r.length;return r.map((n,o)=>[n,r[(o+1)%t]]).map(([n,o])=>{let s=Wt.default.mul(Wt.default.per(Wt.default.uni(Wt.default.sub(o,n))),e);return[Wt.default.add(n,s),Wt.default.add(o,s)]}).map((n,o,s)=>{let a=(0,Vd.intersectLineLine)(n,s[(o+1)%s.length]);if(a===void 0)throw Error("Expected an intersection");return a})}var To=require("@tldraw/core");var Nd="#fafafa",$i="#343d45",Wo={["white"]:"#f0f1f3",["lightGray"]:"#c6cbd1",["gray"]:"#788492",["black"]:"#1d1d1d",["green"]:"#36b24d",["cyan"]:"#0e98ad",["blue"]:"#1c7ed6",["indigo"]:"#4263eb",["violet"]:"#7746f1",["red"]:"#ff2133",["orange"]:"#ff9433",["yellow"]:"#ffc936"},Jle={light:x(S({},Object.fromEntries(Object.entries(Wo).map(([r,e])=>[r,To.Utils.lerpColor(e,Nd,.45)]))),{["white"]:"#ffffff",["black"]:"#3d3d3d"}),dark:x(S({},Object.fromEntries(Object.entries(Wo).map(([r,e])=>[r,To.Utils.lerpColor(To.Utils.lerpColor(e,"#999999",.3),$i,.4)]))),{["white"]:"#1d1d1d",["black"]:"#bbbbbb"})},Uo={light:x(S({},Wo),{["white"]:"#1d1d1d"}),dark:x(S({},Object.fromEntries(Object.entries(Wo).map(([r,e])=>[r,To.Utils.lerpColor(e,$i,.1)]))),{["white"]:"#cecece",["black"]:"#cecece"})},vs={light:x(S({},Object.fromEntries(Object.entries(Wo).map(([r,e])=>[r,To.Utils.lerpColor(e,Nd,.82)]))),{["white"]:"#fefefe"}),dark:x(S({},Object.fromEntries(Object.entries(Wo).map(([r,e])=>[r,To.Utils.lerpColor(e,$i,.82)]))),{["white"]:"rgb(30,33,37)",["black"]:"#1e1e1f"})},Qle={["small"]:2,["medium"]:3.5,["large"]:5},ede={["small"]:28,["medium"]:48,["large"]:96,auto:"auto"},tde={["script"]:'"Caveat Brush"',["sans"]:'"Source Sans Pro"',["serif"]:'"Crimson Pro"',["mono"]:'"Source Code Pro"'},nde={["script"]:1,["sans"]:1,["serif"]:1,["mono"]:1},ode={["small"]:24,["medium"]:36,["large"]:48,auto:"auto"};function rde(r){return Qle[r]}function yo(r,e="script"){return ede[r]*nde[e]}function xn(r="script"){return tde[r]}function Ni(r){return ode[r]}function Mt(r){let e=yo(r.size,r.font),t=xn(r.font),{scale:n=1}=r;return`${e*n}px/1 ${t}`}function Wd(r){let e=Ni(r.size),t=xn(r.font),{scale:n=1}=r;return`${e*n}px/1 ${t}`}function Wi(r,e=!1){let{color:t}=r,n=e?"dark":"light",o=t==="white"||t==="black"?"yellow":t;return{fill:Jle[n][o],stroke:Uo[n][o],color:e?"#1d1d1d":"#0d0d0d"}}function Te(r,e){let{color:t,size:n,isFilled:o}=r,s=rde(n),a=e?"dark":"light";return{stroke:Uo[a][t],fill:o?vs[a][t]:"none",strokeWidth:s}}var gt={color:"black",size:"small",isFilled:!1,dash:"draw",scale:1},Ko=x(S({},gt),{font:"script",textAlign:"middle"});var Ud="  ",ct=class{static insertTextFirefox(e,t){e.setRangeText(t,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:t,inputType:"insertText",isComposing:!1}))}static insert(e,t){let n=e.ownerDocument,o=n.activeElement;o!==e&&e.focus(),n.execCommand("insertText",!1,t)||ct.insertTextFirefox(e,t),o===n.body?e.blur():o instanceof HTMLElement&&o!==e&&o.focus()}static set(e,t){e.select(),ct.insert(e,t)}static getSelection(e){let{selectionStart:t,selectionEnd:n}=e;return e.value.slice(t||void 0,n||void 0)}static wrapSelection(e,t,n){let{selectionStart:o,selectionEnd:s}=e,a=ct.getSelection(e);ct.insert(e,t+a+(n!=null?n:t)),e.selectionStart=(o||0)+t.length,e.selectionEnd=(s||0)+t.length}static replace(e,t,n){let o=0;e.value.replace(t,(...s)=>{let a=o+s[s.length-2],d=s[0].length;e.selectionStart=a,e.selectionEnd=a+d;let i=typeof n=="string"?n:n(...s);return ct.insert(e,i),e.selectionStart=a,o+=i.length-d,i})}static findLineEnd(e,t){let n=e.lastIndexOf(`
`,t-1)+1;return e.charAt(n)!=="	"?t:n+1}static indent(e){var d;let{selectionStart:t,selectionEnd:n,value:o}=e,s=o.slice(t,n),a=(d=/\n/g.exec(s))==null?void 0:d.length;if(a&&a>0){let i=o.lastIndexOf(`
`,t-1)+1,c=e.value.slice(i,n-1),u=c.replace(/^|\n/g,`$&${Ud}`),p=u.length-c.length;e.setSelectionRange(i,n-1),ct.insert(e,u),e.setSelectionRange(t+1,n+p)}else ct.insert(e,Ud)}static unindent(e){let{selectionStart:t,selectionEnd:n,value:o}=e,s=o.lastIndexOf(`
`,t-1)+1,a=ct.findLineEnd(o,n),d=e.value.slice(s,a),i=d.replace(/(^|\n)(\t| {1,2})/g,"$1"),c=d.length-i.length;e.setSelectionRange(s,a),ct.insert(e,i);let u=/\t| {1,2}/.exec(o.slice(s,t)),p=u?u[0].length:0,m=t-p;e.setSelectionRange(t-p,Math.max(m,n-c))}};var it=V(require("react"));var to=it.memo(function({font:e,text:t,color:n,offsetX:o=0,offsetY:s=0,scale:a=1,isEditing:d=!1,onBlur:i,onChange:c}){let u=it.useRef(null),p=it.useRef(!1),m=it.useCallback(y=>{c(k.normalizeText(y.currentTarget.value))},[c]),h=it.useCallback(y=>{if(y.key==="Escape"){y.preventDefault(),y.stopPropagation(),i==null||i();return}if(y.key==="Tab"&&t.length===0){y.preventDefault();return}if(!(y.key==="Meta"||y.metaKey))y.stopPropagation();else if(y.key==="z"&&y.metaKey){y.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),y.stopPropagation(),y.preventDefault();return}(y.metaKey||y.ctrlKey)&&y.key==="="&&y.preventDefault(),y.key==="Tab"&&(y.preventDefault(),y.shiftKey?ct.unindent(y.currentTarget):ct.indent(y.currentTarget),c==null||c(k.normalizeText(y.currentTarget.value)))},[c]),g=it.useCallback(y=>{y.currentTarget.setSelectionRange(0,0),i==null||i()},[i]),f=it.useCallback(y=>{!d||!p.current||document.activeElement===y.currentTarget&&y.currentTarget.select()},[d]),T=it.useCallback(y=>{d&&y.stopPropagation()},[d]),w=it.useRef(d);it.useEffect(()=>{d?(w.current=!0,requestAnimationFrame(()=>{p.current=!0;let y=u.current;y&&(y.focus(),y.select())})):w.current&&(i==null||i(),w.current=!1)},[d,i]);let b=it.useRef(null);return it.useLayoutEffect(()=>{let y=b.current;if(!y)return;let R=Qn(t,e);y.style.transform=`scale(${a}, ${a}) translate(${o}px, ${s}px)`,y.style.width=R[0]+1+"px",y.style.height=R[1]+1+"px"},[t,e,s,o,a]),it.createElement(sde,null,it.createElement(ide,{ref:b,hasText:!!t,isEditing:d,style:{font:e,color:n}},d?it.createElement(ade,{ref:u,style:{font:e,color:n},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:t,color:n,onFocus:f,onChange:m,onKeyDown:h,onBlur:g,onPointerDown:T,onContextMenu:wt,onCopy:wt,onPaste:wt,onCut:wt}):t,"\u200B"))}),sde=H("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",userSelect:"none",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}}}}),Kd={whiteSpace:"pre-wrap",overflowWrap:"break-word",letterSpacing:Yt},ide=H("div",S({position:"absolute",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,outline:0,fontWeight:"500",textAlign:"center",backfaceVisibility:"hidden",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",variants:{hasText:{false:{pointerEvents:"none"},true:{pointerEvents:"all"}},isEditing:{false:{userSelect:"none"},true:{background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}}},Kd)),ade=H("textarea",x(S({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text",fontSmooth:"always",WebkitFontSmoothing:"subpixel-antialiased",MozOsxFontSmoothing:"auto"},Kd),{"&:focus":{outline:"none",border:"none"}}));var _o=V(require("@tldraw/vec"));function no(r,e,{initialShape:t,transformOrigin:n,scaleX:o,scaleY:s}){if(r.rotation||t.isAspectRatioLocked){let a=_o.default.toFixed(_o.default.mul(t.size,Math.min(Math.abs(o),Math.abs(s)))),d=_o.default.toFixed([e.minX+(e.width-r.size[0])*(o<0?1-n[0]:n[0]),e.minY+(e.height-r.size[1])*(s<0?1-n[1]:n[1])]),i=o<0&&s>=0||s<0&&o>=0?t.rotation?-t.rotation:0:t.rotation;return{size:a,point:d,rotation:i}}else return{point:_o.default.toFixed([e.minX,e.minY]),size:_o.default.toFixed([e.width,e.height])}}var Ui=V(require("@tldraw/vec"));function oo(r,e){return{size:Ui.default.toFixed([e.width,e.height]),point:Ui.default.toFixed([e.minX,e.minY])}}var xe=class extends Xt.TLShapeUtil{constructor(){super(...arguments);l(this,"canBind",!1);l(this,"canEdit",!1);l(this,"canClone",!1);l(this,"isAspectRatioLocked",!1);l(this,"hideResizeHandles",!1);l(this,"bindingDistance",16);l(this,"hitTestPoint",(e,t)=>Xt.Utils.pointInBounds(t,this.getRotatedBounds(e)));l(this,"hitTestLineSegment",(e,t,n)=>{let o=Xt.Utils.getBoundsFromPoints([t,n]),s=this.getBounds(e);return Xt.Utils.boundsContain(s,o)||e.rotation?(0,Yo.intersectLineSegmentPolyline)(t,n,Xt.Utils.getRotatedCorners(this.getBounds(e))).didIntersect:(0,Yo.intersectLineSegmentBounds)(t,n,this.getBounds(e)).length>0});l(this,"create",e=>(this.refMap.set(e.id,_d.createRef()),this.getShape(e)));l(this,"getCenter",e=>Xt.Utils.getBoundsCenter(this.getBounds(e)));l(this,"getExpandedBounds",e=>Xt.Utils.expandBounds(this.getBounds(e),this.bindingDistance));l(this,"getBindingPoint",(e,t,n,o,s,a)=>{let d=this.getBounds(e),i=this.getExpandedBounds(e);if(!Xt.Utils.pointInBounds(n,i))return;let c=(0,Yo.intersectRayBounds)(o,s,i).filter(T=>T.didIntersect).map(T=>T.points[0]);if(!c.length)return;let u=this.getCenter(e),p=c.sort((T,w)=>kn.Vec.dist(w,o)-kn.Vec.dist(T,o))[0],m=kn.Vec.med(n,p),h,g;a?(h=kn.Vec.dist(n,u)<16/2?u:n,g=0):(kn.Vec.distanceToLineSegment(n,m,u)<16/2?h=u:h=m,Xt.Utils.pointInBounds(n,d)?g=this.bindingDistance:g=Math.max(this.bindingDistance,Xt.Utils.getBoundsSides(d).map(T=>kn.Vec.distanceToLineSegment(T[1][0],T[1][1],n)).sort((T,w)=>T-w)[0]));let f=kn.Vec.divV(kn.Vec.sub(h,[i.minX,i.minY]),[i.width,i.height]);return{point:kn.Vec.clampV(f,0,1),distance:g}});l(this,"mutate",(e,t)=>t);l(this,"transform",(e,t,n)=>x(S({},e),{point:[t.minX,t.minY]}));l(this,"transformSingle",(e,t,n)=>this.transform(e,t,n));l(this,"updateChildren");l(this,"onChildrenChange");l(this,"onHandleChange");l(this,"onRightPointHandle");l(this,"onDoubleClickHandle");l(this,"onDoubleClickBoundsHandle");l(this,"onSessionComplete");l(this,"getSvgElement",(e,t)=>{var s,a,d,i,c;let n=(s=document.getElementById(e.id+"_svg"))==null?void 0:s.cloneNode(!0);if(!n)return;if((i=(d=(a=e.label)==null?void 0:a.trim())==null?void 0:d.length)!=null?i:0>0){let u=e,p=document.createElementNS("http://www.w3.org/2000/svg","g"),m=Mt(e.style),h=Qn(e.label,m),g=yo(e.style.size,e.style.font)*((c=e.style.scale)!=null?c:1),f=xn(e.style.font).slice(1,-1),T=eo(u.label,g,f,"middle",h[0],!1),w=this.getBounds(e);return T.setAttribute("transform",`translate(${w.width/2-h[0]/2}, ${w.height/2-h[1]/2})`),T.setAttribute("fill",Te(e.style,t).stroke),T.setAttribute("transform-origin","center center"),p.setAttribute("text-align","center"),p.setAttribute("text-anchor","middle"),p.appendChild(n),p.appendChild(T),p}return n})}};var Fn=require("@tldraw/core"),Is=require("@tldraw/intersect"),Re=V(require("@tldraw/vec")),Ki=V(require("perfect-freehand"));function Xd(r,e,t,n){return["M",r[0],r[1],"A",t[2],t[2],0,0,n<0?0:1,e[0],e[1]].join(" ")}function kr(r,e){let{start:t,end:n}=r,o=Re.default.dist(t.point,n.point),s=Re.default.med(t.point,n.point),a=o/2*e,d=Re.default.uni(Re.default.vec(t.point,n.point));return Re.default.toFixed(Math.abs(a)<10?s:Re.default.add(s,Re.default.mul(Re.default.per(d),a)))}function qd(r,e,t,n,o,s){let a=Fn.Utils.rng(r),d=Te(e).strokeWidth,i=o?Re.default.nudge(t,n,d):t,c=s?Re.default.nudge(n,t,d):n,u=(0,Ki.default)([i,c],{size:d,thinning:.618+a()*.2,easing:bo.easeOutQuad,simulatePressure:!0,streamline:0,last:!0});return Fn.Utils.getSvgPathFromStroke(u)}function Jd(r,e,t,n,o,s,a,d,i,c){let u=Fn.Utils.rng(r),p=Te(e).strokeWidth,m=o?Re.default.rotWith(t,a,p/i):t,h=s?Re.default.rotWith(n,a,-(p/i)):n,g=Re.default.angle(a,m),f=Re.default.angle(a,h),T=[],w=8+Math.floor(Math.abs(i)/20*1+u()/2);for(let y=0;y<w;y++){let R=c(y/w),K=Fn.Utils.lerpAngles(g,f,R);T.push(Re.default.toFixed(Re.default.nudgeAtAngle(a,K,d)))}let b=(0,Ki.default)([m,...T,h],{size:1+p,thinning:.618+u()*.2,easing:bo.easeOutQuad,simulatePressure:!1,streamline:0,last:!0});return Fn.Utils.getSvgPathFromStroke(b)}function jn(r,e,t){return Fn.Utils.circleFromThreePoints(r,t,e)}function Cs(r,e,t,n,o){let s=(0,Is.intersectCircleCircle)(r,e*.618,t,n).points;if(!s)return k.warn("Could not find an intersection for the arrow head."),{left:r,right:r};let a=o?s[0]:s[1],d=a?Re.default.nudge(Re.default.rotWith(a,r,Math.PI/6),r,e*-.382):r,i=a?Re.default.nudge(Re.default.rotWith(a,r,-Math.PI/6),r,e*-.382):r;return{left:d,right:i}}function Ds(r,e,t){let n=(0,Is.intersectCircleLineSegment)(r,t,r,e).points;if(!n)return k.warn("Could not find an intersection for the arrow head."),{left:r,right:r};let o=n[0],s=o?Re.default.rotWith(o,r,Math.PI/6):r,a=o?Re.default.rotWith(o,r,-Math.PI/6):r;return{left:s,right:a}}function Yd(r,e,t,n,o){let{left:s,right:a}=Cs(r,e,t,n,o);return`M ${s} L ${r} ${a}`}function Zd(r,e,t){let{left:n,right:o}=Ds(r,e,t);return`M ${n} L ${r} ${o}`}function Qd(r,e,t,n,o,s){let{strokeWidth:a}=Te(r,!1),d=Re.default.dist(e,n),i=Math.min(d/3,a*8),c=[];if(Re.default.dist(t,Re.default.toFixed(Re.default.med(e,n)))<1)c.push(`M ${e} L ${n}`),o&&c.push(Zd(e,n,i)),s&&c.push(Zd(n,e,i));else{let p=jn(e,t,n),m=[p[0],p[1]],h=p[2],g=wo(m,h,e,n);c.push(`M ${e} A ${h} ${h} 0 0 ${g>0?"1":"0"} ${n}`),o&&c.push(Yd(e,i,m,h,g<0)),s&&c.push(Yd(n,i,m,h,g>=0))}return c.join(" ")}function vr(r,e,t){if(Re.default.dist2(e,Re.default.med(r,t))<=4)return[r,t];let n=[],o=jn(r,e,t),s=[o[0],o[1]],a=o[2],d=Re.default.angle(s,r),i=Re.default.angle(s,t);for(let c=0;c<20;c++){let u=c/19,p=Fn.Utils.lerpAngles(d,i,u);n.push(Re.default.nudgeAtAngle(s,p,a))}return n}function ec(r,e,t){if(t===r||t===e)return!0;let n=Math.PI*2,o=(e-r+n)%n,s=(t-r+n)%n;return o<=Math.PI!=s>o}function wo(r,e,t,n){let o=Fn.Utils.getSweep(r,t,n);return e*(2*Math.PI)*(o/(2*Math.PI))}var _i=require("@tldraw/core"),tc=V(require("@tldraw/vec")),vn=V(require("react"));var Ps=V(require("react"));function Zo({left:r,middle:e,right:t,stroke:n,strokeWidth:o}){return Ps.createElement("g",null,Ps.createElement("path",{className:"tl-stroke-hitarea",d:`M ${r} L ${e} ${t}`}),Ps.createElement("path",{d:`M ${r} L ${e} ${t}`,fill:"none",stroke:n,strokeWidth:o,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}))}var nc=vn.memo(function({id:e,style:t,start:n,bend:o,end:s,arrowBend:a,decorationStart:d,decorationEnd:i,isDraw:c,isDarkMode:u}){let p=tc.default.dist(n,s);if(p<2)return null;let m=Te(t,u),{strokeWidth:h}=m,g=1+h*1.618,f=jn(n,o,s),T=[f[0],f[1]],w=f[2],b=wo(T,w,n,s),y=_i.Utils.rng(e),R=bo[y()>0?"easeInOutSine":"easeInOutCubic"],K=c?Jd(e,t,n,s,d,i,T,w,b,R):Xd(n,s,f,a),{strokeDasharray:L,strokeDashoffset:v}=_i.Utils.getPerfectDashProps(Math.abs(b),g,t.dash,2,!1),I=Math.min(p/3,h*8),J=d?Cs(n,I,T,w,b<0):null,ce=i?Cs(s,I,T,w,b>=0):null;return vn.createElement(vn.Fragment,null,vn.createElement("path",{className:"tl-stroke-hitarea",d:K}),vn.createElement("path",{d:K,fill:c?m.stroke:"none",stroke:m.stroke,strokeWidth:c?0:g,strokeDasharray:L,strokeDashoffset:v,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}),J&&vn.createElement(Zo,{left:J.left,middle:n,right:J.right,stroke:m.stroke,strokeWidth:g}),ce&&vn.createElement(Zo,{left:ce.left,middle:s,right:ce.right,stroke:m.stroke,strokeWidth:g}))});var oc=require("@tldraw/core"),Ms=V(require("@tldraw/vec")),In=V(require("react"));var rc=In.memo(function({id:e,style:t,start:n,end:o,decorationStart:s,decorationEnd:a,isDraw:d,isDarkMode:i}){let c=Ms.default.dist(n,o);if(c<2)return null;let u=Te(t,i),{strokeWidth:p}=u,m=1+p*1.618,h=d?qd(e,t,n,o,s,a):"M"+Ms.default.toFixed(n)+"L"+Ms.default.toFixed(o),{strokeDasharray:g,strokeDashoffset:f}=oc.Utils.getPerfectDashProps(c,p*1.618,t.dash,2,!1),T=Math.min(c/3,p*8),w=s?Ds(n,o,T):null,b=a?Ds(o,n,T):null;return In.createElement(In.Fragment,null,In.createElement("path",{className:"tl-stroke-hitarea",d:h}),In.createElement("path",{d:h,fill:u.stroke,stroke:u.stroke,strokeWidth:d?m/2:m,strokeDasharray:g,strokeDashoffset:f,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"}),w&&In.createElement(Zo,{left:w.left,middle:n,right:w.right,stroke:u.stroke,strokeWidth:m}),b&&In.createElement(Zo,{left:b.left,middle:o,right:b.right,stroke:u.stroke,strokeWidth:m}))});var Yi=class extends xe{constructor(){super(...arguments);l(this,"type","arrow");l(this,"hideBounds",!0);l(this,"canEdit",!0);l(this,"pathCache",new WeakMap);l(this,"getShape",e=>{var t,n,o,s;return S({id:"id",type:"arrow",name:"Arrow",parentId:"page",childIndex:1,point:[0,0],rotation:0,bend:0,handles:{start:S({id:"start",index:0,point:[0,0],canBind:!0},(t=e.handles)==null?void 0:t.start),end:S({id:"end",index:1,point:[1,1],canBind:!0},(n=e.handles)==null?void 0:n.end),bend:S({id:"bend",index:2,point:[.5,.5]},(o=e.handles)==null?void 0:o.bend)},decorations:(s=e.decorations)!=null?s:{end:"arrow"},style:S(x(S({},gt),{isFilled:!1}),e.style),label:"",labelPoint:[.5,.5]},e)});l(this,"Component",xe.Component(({shape:e,isEditing:t,isGhost:n,meta:o,events:s,onShapeChange:a,onShapeBlur:d},i)=>{var de,He;let{id:c,label:u="",handles:{start:p,bend:m,end:h},decorations:g={},style:f}=e,T=(He=(de=u==null?void 0:u.trim())==null?void 0:de.length)!=null?He:0>0,w=fe.Vec.dist(m.point,fe.Vec.toFixed(fe.Vec.med(p.point,h.point)))<1,b=Mt(f),y=Te(f,o.isDarkMode),R=T||t?Qn(u,b):[0,0],K=this.getBounds(e),L=qe.useMemo(()=>{let{start:Pe,bend:Me,end:Ue}=e.handles;if(w)return fe.Vec.dist(Pe.point,Ue.point);let Ke=jn(Pe.point,Me.point,Ue.point),Kt=Ke.slice(0,2),gn=Ke[2],dr=wo(Kt,gn,Pe.point,Ue.point);return Math.abs(dr)},[e.handles]),v=Math.max(.5,Math.min(1,Math.max(L/(R[1]+128),L/(R[0]+128)))),I=qe.useMemo(()=>{let Pe=this.getBounds(e);return fe.Vec.sub(e.handles.bend.point,fe.Vec.toFixed([Pe.width/2,Pe.height/2]))},[e,v]),J=qe.useCallback(Pe=>{a==null||a({id:c,label:Pe})},[a]),ce=w?rc:nc;return qe.createElement(lde,S({ref:i},s),qe.createElement(to,{font:b,text:u,color:y.stroke,offsetX:I[0],offsetY:I[1],scale:v,isEditing:t,onChange:J,onBlur:d}),qe.createElement(Ht.SVGContainer,{id:e.id+"_svg"},qe.createElement("defs",null,qe.createElement("mask",{id:e.id+"_clip"},qe.createElement("rect",{x:-100,y:-100,width:K.width+200,height:K.height+200,fill:"white"}),qe.createElement("rect",{x:K.width/2-R[0]/2*v+I[0],y:K.height/2-R[1]/2*v+I[1],width:R[0]*v,height:R[1]*v,rx:4*v,ry:4*v,fill:"black",opacity:1}))),qe.createElement("g",{pointerEvents:"none",opacity:n?.3:1,mask:T||t?`url(#${e.id}_clip)`:""},qe.createElement(ce,{id:c,style:f,start:p.point,end:h.point,bend:m.point,arrowBend:e.bend,decorationStart:g==null?void 0:g.start,decorationEnd:g==null?void 0:g.end,isDraw:f.dash==="draw",isDarkMode:o.isDarkMode}))))}));l(this,"Indicator",xe.Indicator(({shape:e,bounds:t})=>{var T,w;let{style:n,decorations:o,label:s,handles:{start:a,bend:d,end:i}}=e,c=(w=(T=s==null?void 0:s.trim())==null?void 0:T.length)!=null?w:0>0,u=Mt(n),p=c?Qn(s,u):[0,0],m=fe.Vec.dist(d.point,fe.Vec.toFixed(fe.Vec.med(a.point,i.point)))<1,h=qe.useMemo(()=>{let{start:b,bend:y,end:R}=e.handles;if(m)return fe.Vec.dist(b.point,R.point);let K=jn(b.point,y.point,R.point),L=K.slice(0,2),v=K[2],I=wo(L,v,b.point,R.point);return Math.abs(I)},[e.handles]),g=Math.max(.5,Math.min(1,Math.max(h/(p[1]+128),h/(p[0]+128)))),f=qe.useMemo(()=>{let b=this.getBounds(e);return fe.Vec.sub(e.handles.bend.point,[b.width/2,b.height/2])},[e,g]);return qe.createElement(qe.Fragment,null,c&&qe.createElement(jd,{id:e.id,scale:g,offset:f,bounds:t,labelSize:p}),qe.createElement("path",{d:Qd(n,a.point,d.point,i.point,o==null?void 0:o.start,o==null?void 0:o.end),mask:c?`url(#${e.id}_clip)`:""}),c&&qe.createElement("rect",{x:t.width/2-p[0]/2*g+f[0],y:t.height/2-p[1]/2*g+f[1],width:p[0]*g,height:p[1]*g,rx:4*g,ry:4*g,fill:"transparent"}))}));l(this,"getBounds",e=>{let t=Ht.Utils.getFromCache(this.boundsCache,e,()=>{let{handles:{start:n,bend:o,end:s}}=e;return Ht.Utils.getBoundsFromPoints(vr(n.point,o.point,s.point))});return Ht.Utils.translateBounds(t,e.point)});l(this,"getRotatedBounds",e=>{let{handles:{start:t,bend:n,end:o}}=e,s=vr(t.point,n.point,o.point),{minX:a,minY:d,maxX:i,maxY:c}=Ht.Utils.getBoundsFromPoints(s);return e.rotation!==0&&(s=s.map(u=>fe.Vec.rotWith(u,[(a+i)/2,(d+c)/2],e.rotation||0))),Ht.Utils.translateBounds(Ht.Utils.getBoundsFromPoints(s),e.point)});l(this,"getCenter",e=>{let{start:t,end:n}=e.handles;return fe.Vec.add(e.point,fe.Vec.med(t.point,n.point))});l(this,"shouldRender",(e,t)=>t.decorations!==e.decorations||t.handles!==e.handles||t.style!==e.style||t.label!==e.label);l(this,"hitTestPoint",(e,t)=>{let{handles:{start:n,bend:o,end:s}}=e,a=fe.Vec.sub(t,e.point),d=vr(n.point,o.point,s.point);for(let i=1;i<d.length;i++)if(fe.Vec.distanceToLineSegment(d[i-1],d[i],a)<1)return!0;return!1});l(this,"hitTestLineSegment",(e,t,n)=>{let{handles:{start:o,bend:s,end:a}}=e,d=fe.Vec.sub(t,e.point),i=fe.Vec.sub(n,e.point),c=vr(o.point,s.point,a.point);for(let u=1;u<c.length;u++)if((0,Xo.intersectLineSegmentLineSegment)(c[u-1],c[u],d,i).didIntersect)return!0;return!1});l(this,"hitTestBounds",(e,t)=>{let{start:n,end:o,bend:s}=e.handles,a=fe.Vec.add(e.point,n.point),d=fe.Vec.add(e.point,o.point);if(Ht.Utils.pointInBounds(a,t)||Ht.Utils.pointInBounds(d,t))return!0;if(fe.Vec.isEqual(fe.Vec.med(n.point,o.point),s.point))return(0,Xo.intersectLineSegmentBounds)(a,d,t).length>0;{let[i,c,u]=jn(n.point,s.point,o.point),p=fe.Vec.add(e.point,[i,c]);return(0,Xo.intersectArcBounds)(p,u,a,d,t).length>0}});l(this,"transform",(e,t,{initialShape:n,scaleX:o,scaleY:s})=>{let a=this.getBounds(n),d=["start","end"],i=S({},n.handles);d.forEach(p=>{if(p==="bend")return;let[m,h]=i[p].point,g=m/a.width,f=h/a.height;i[p]=x(S({},i[p]),{point:[t.width*(o<0?1-g:g),t.height*(s<0?1-f:f)]})});let c=o>0&&s<0||o<0&&s>0?-n.bend:n.bend,u=kr(i,c);return i.bend.point=u,{point:fe.Vec.toFixed([t.minX,t.minY]),handles:i,bend:c}});l(this,"onDoubleClickHandle",(e,t)=>{var n,o;switch(t){case"bend":return{bend:0,handles:x(S({},e.handles),{bend:x(S({},e.handles.bend),{point:kr(e.handles,e.bend)})})};case"start":return{decorations:x(S({},e.decorations),{start:((n=e.decorations)==null?void 0:n.start)?void 0:"arrow"})};case"end":return{decorations:x(S({},e.decorations),{end:((o=e.decorations)==null?void 0:o.end)?void 0:"arrow"})}}return this});l(this,"onHandleChange",(e,t)=>{let n=Ht.Utils.deepMerge(e.handles,t),o=e.bend;if(n=Ht.Utils.deepMerge(n,{start:{point:fe.Vec.toFixed(n.start.point)},end:{point:fe.Vec.toFixed(n.end.point)}}),fe.Vec.isEqual(n.start.point,n.end.point))return;if("bend"in t){let{start:c,end:u,bend:p}=n,m=fe.Vec.dist(c.point,u.point),h=fe.Vec.med(c.point,u.point),g=fe.Vec.angle(c.point,u.point),f=fe.Vec.uni(fe.Vec.vec(c.point,u.point)),T=fe.Vec.add(h,fe.Vec.mul(fe.Vec.per(f),m)),w=fe.Vec.sub(h,fe.Vec.mul(fe.Vec.per(f),m)),b=fe.Vec.nearestPointOnLineSegment(T,w,p.point,!0),R=fe.Vec.dist(h,b)/(m/2);o=Ht.Utils.clamp(R,-.99,.99);let K=fe.Vec.angle(c.point,b);fe.Vec.isEqual(h,kr(n,o))?o=0:ec(g,g+Math.PI,K)&&(o*=-1)}let s={point:e.point,bend:o,handles:x(S({},n),{bend:x(S({},n.bend),{point:kr(n,o)})})},a=e.point,d=this.getBounds(S({},s)),i=fe.Vec.sub([d.minX,d.minY],a);return fe.Vec.isEqual(i,[0,0])||(Object.values(s.handles).forEach(c=>{c.point=fe.Vec.toFixed(fe.Vec.sub(c.point,i))}),s.point=fe.Vec.toFixed(fe.Vec.add(s.point,i))),s});l(this,"getSvgElement",(e,t)=>{var s,a,d,i,c;let n=(s=document.getElementById(e.id+"_svg"))==null?void 0:s.cloneNode(!0);if(!n)return;if((i=(d=(a=e.label)==null?void 0:a.trim())==null?void 0:d.length)!=null?i:0>0){let u=e,p=document.createElementNS("http://www.w3.org/2000/svg","g"),m=Mt(e.style),h=Qn(e.label,m),g=yo(e.style.size,e.style.font)*((c=e.style.scale)!=null?c:1),f=xn(e.style.font).slice(1,-1),T=eo(u.label,g,f,"start",h[0],!1),w,{start:b,bend:y,end:R}=e.handles;if(fe.Vec.dist(y.point,fe.Vec.toFixed(fe.Vec.med(b.point,R.point)))<1)w=fe.Vec.dist(b.point,R.point);else{let de=jn(b.point,y.point,R.point),He=de.slice(0,2),Pe=de[2],Me=wo(He,Pe,b.point,R.point);w=Math.abs(Me)}let L=Math.max(.5,Math.min(1,Math.max(w/(h[1]+128),w/(h[0]+128)))),v=this.getBounds(e),I=fe.Vec.sub(e.handles.bend.point,[v.width/2,v.height/2]),J=v.width/2-h[0]/2*L+I[0],ce=v.height/2-h[1]/2*L+I[1];return T.setAttribute("transform",`translate(${J}, ${ce})`),T.setAttribute("fill",Te(e.style,t).stroke),T.setAttribute("transform-origin","center center"),p.setAttribute("text-align","center"),p.setAttribute("text-anchor","middle"),p.appendChild(n),p.appendChild(T),p}return n})}},lde=H("div",{width:"100%",height:"100%"});var Qe=require("@tldraw/core"),Gn=require("@tldraw/intersect"),Cn=require("@tldraw/vec"),ft=V(require("react"));var Es=require("@tldraw/core"),sc=V(require("@tldraw/vec")),Ir=require("perfect-freehand");var dde={easing:r=>Math.sin(r*Math.PI/2),simulatePressure:!0},cde={easing:r=>r*r,simulatePressure:!1};function Zi(r){let e=Te(r.style);return x(S({size:1+e.strokeWidth*1.5,thinning:.65,streamline:.65,smoothing:.65},r.points[1][2]===.5?dde:cde),{last:r.isComplete})}function ic(r){return r.points.length<2?"":Es.Utils.getSvgPathFromStroke((0,Ir.getStrokePoints)(r.points,Zi(r)).map(e=>e.point))}function ac(r,e){return(0,Ir.getStrokePoints)(r.points,e)}function lc(r){if(r.points.length<2)return"";let e=Zi(r),t=ac(r,e);return Es.Utils.getSvgPathFromStroke((0,Ir.getStrokeOutlinePoints)(t,e))}function Xi(r){let{points:e}=r;if(e.length<2)return"M 0 0 L 0 0";let t=Zi(r),n=ac(r,t),o=e[e.length-1];return sc.default.isEqual(n[0].point,o)||n.push({point:o}),Es.Utils.getSvgPathFromStrokePoints(n)}var qi=class extends xe{constructor(){super(...arguments);l(this,"type","draw");l(this,"pointsBoundsCache",new WeakMap([]));l(this,"shapeBoundsCache",new Map);l(this,"rotatedCache",new WeakMap([]));l(this,"pointCache",{});l(this,"canClone",!0);l(this,"getShape",e=>Qe.Utils.deepMerge({id:"id",type:"draw",name:"Draw",parentId:"page",childIndex:1,point:[0,0],rotation:0,style:gt,points:[],isComplete:!1},e));l(this,"Component",xe.Component(({shape:e,meta:t,isSelected:n,isGhost:o,events:s},a)=>{let{points:d,style:i,isComplete:c}=e,u=ft.useMemo(()=>ic(e),[d,i.size]),p=ft.useMemo(()=>i.dash==="draw"?lc(e):Xi(e),[d,i.size,i.dash,c]),m=Te(i,t.isDarkMode),{stroke:h,fill:g,strokeWidth:f}=m,T=this.getBounds(e);if(T.width<=f/2&&T.height<=f/2){let L=1+f;return ft.createElement(Qe.SVGContainer,S({ref:a,id:e.id+"_svg"},s),ft.createElement("circle",{r:L,fill:h,stroke:h,pointerEvents:"all",opacity:o?.3:1}))}let b=i.isFilled&&d.length>3&&Cn.Vec.dist(d[0],d[d.length-1])<f*2;if(e.style.dash==="draw")return ft.createElement(Qe.SVGContainer,S({ref:a,id:e.id+"_svg"},s),ft.createElement("g",{opacity:o?.3:1},ft.createElement("path",{className:b||n?"tl-fill-hitarea":"tl-stroke-hitarea",d:p}),b&&ft.createElement("path",{d:u,stroke:"none",fill:g,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),ft.createElement("path",{d:p,fill:h,stroke:h,strokeWidth:f/2,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})));let y={["draw"]:"none",["solid"]:"none",["dotted"]:`0.1 ${f*4}`,["dashed"]:`${f*4} ${f*4}`}[i.dash],R={["draw"]:"none",["solid"]:"none",["dotted"]:"0",["dashed"]:"0"}[i.dash],K=1+f*1.5;return ft.createElement(Qe.SVGContainer,S({ref:a,id:e.id+"_svg"},s),ft.createElement("g",{opacity:o?.3:1},ft.createElement("path",{className:b&&n?"tl-fill-hitarea":"tl-stroke-hitarea",d:p}),ft.createElement("path",{d:p,fill:b?g:"none",stroke:"none",strokeWidth:Math.min(4,f*2),strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),ft.createElement("path",{d:p,fill:"none",stroke:h,strokeWidth:K,strokeDasharray:y,strokeDashoffset:R,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})))}));l(this,"Indicator",xe.Indicator(({shape:e})=>{let{points:t}=e,n=ft.useMemo(()=>Xi(e),[t]),o=this.getBounds(e);return o.width<4&&o.height<4?ft.createElement("circle",{x:o.width/2,y:o.height/2,r:1}):ft.createElement("path",{d:n})}));l(this,"transform",(e,t,{initialShape:n,scaleX:o,scaleY:s})=>{let a=Qe.Utils.getFromCache(this.boundsCache,n,()=>Qe.Utils.getBoundsFromPoints(n.points)),d=n.points.map(([u,p,m])=>[t.width*(o<0?1-u/a.width:u/a.width),t.height*(s<0?1-p/a.height:p/a.height),m]),i=Qe.Utils.getBoundsFromPoints(e.points),c=Cn.Vec.sub([t.minX,t.minY],[i.minX,i.minY]);return{points:d,point:c}});l(this,"getBounds",e=>{let t=!this.pointsBoundsCache.has(e.points),n=this.pointCache[e.id]!==e.point;if(t){let o=Qe.Utils.getBoundsFromPoints(e.points);this.pointsBoundsCache.set(e.points,o),this.shapeBoundsCache.set(e.id,Qe.Utils.translateBounds(o,e.point)),this.pointCache[e.id]=e.point}else n&&!t&&(this.pointCache[e.id]=e.point,this.shapeBoundsCache.set(e.id,Qe.Utils.translateBounds(this.pointsBoundsCache.get(e.points),e.point)));return this.shapeBoundsCache.get(e.id)});l(this,"shouldRender",(e,t)=>t.points!==e.points||t.style!==e.style||t.isComplete!==e.isComplete);l(this,"hitTestPoint",(e,t)=>{let n=Cn.Vec.sub(t,e.point);return Qe.Utils.pointInPolyline(n,e.points)});l(this,"hitTestLineSegment",(e,t,n)=>{let{points:o,point:s}=e,a=Cn.Vec.sub(t,s),d=Cn.Vec.sub(n,s),i=this.getBounds(e);if(i.width<8&&i.height<8)return Cn.Vec.distanceToLineSegment(t,n,Qe.Utils.getBoundsCenter(i))<5;if((0,Gn.intersectLineSegmentBounds)(a,d,i)){for(let c=1;c<o.length;c++)if((0,Gn.intersectLineSegmentLineSegment)(o[c-1],o[c],a,d).didIntersect)return!0}return!1});l(this,"hitTestBounds",(e,t)=>{if(!e.rotation){let s=this.getBounds(e);return Qe.Utils.boundsContain(t,s)||(Qe.Utils.boundsContain(s,t)||(0,Gn.intersectBoundsBounds)(s,t).length>0)&&(0,Gn.intersectBoundsPolyline)(Qe.Utils.translateBounds(t,Cn.Vec.neg(e.point)),e.points).length>0}let n=this.getRotatedBounds(e),o=Qe.Utils.getFromCache(this.rotatedCache,e,()=>{let s=Qe.Utils.getBoundsCenter(Qe.Utils.getBoundsFromPoints(e.points));return e.points.map(a=>Cn.Vec.rotWith(a,s,e.rotation||0))});return Qe.Utils.boundsContain(t,n)||(0,Gn.intersectBoundsPolyline)(Qe.Utils.translateBounds(t,Cn.Vec.neg(e.point)),o).length>0})}};var qt=require("@tldraw/core"),so=require("@tldraw/intersect"),It=require("@tldraw/vec"),Dn=V(require("react"));var Ji=require("@tldraw/core"),ro=V(require("react"));var dc=ro.memo(function({radius:e,style:t,isSelected:n,isDarkMode:o}){let{stroke:s,strokeWidth:a,fill:d}=Te(t,o),i=1+a*1.618,c=Math.max(0,e[0]-i/2),u=Math.max(0,e[1]-i/2),p=Ji.Utils.perimeterOfEllipse(c,u),{strokeDasharray:m,strokeDashoffset:h}=Ji.Utils.getPerfectDashProps(p<64?p*2:p,a*1.618,t.dash,4);return ro.createElement(ro.Fragment,null,ro.createElement("ellipse",{className:t.isFilled||n?"tl-fill-hitarea":"tl-stroke-hitarea",cx:e[0],cy:e[1],rx:e[0],ry:e[1]}),ro.createElement("ellipse",{cx:e[0],cy:e[1],rx:c,ry:u,fill:d,stroke:s,strokeWidth:i,strokeDasharray:m,strokeDashoffset:h,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))});var Vn=V(require("react"));var xo=require("@tldraw/core"),Bs=require("perfect-freehand");function cc(r,e,t){let{strokeWidth:n}=Te(t),o=xo.Utils.rng(r),s=e[0]+o()*n*2,a=e[1]+o()*n*2,d=xo.Utils.perimeterOfEllipse(s,a),i=[],c=Math.PI+Math.PI*o(),u=Math.abs(o()),p=Math.max(16,d/10);for(let m=0;m<p;m++){let h=bo.easeInOutSine(m/(p+1)),g=c*2+Math.PI*(2+u)*h,f=Math.cos(g),T=Math.sin(g);i.push([s*f+e[0],a*T+e[1],h+.5+o()/2])}return(0,Bs.getStrokePoints)(i,{size:1+n*2,thinning:.618,end:{taper:d/8},start:{taper:d/12},streamline:0,simulatePressure:!0})}function pc(r,e,t){let{strokeWidth:n}=Te(t),o=xo.Utils.rng(r),s=e[0]+o()*n*2,a=e[1]+o()*n*2,d=xo.Utils.perimeterOfEllipse(s,a);return xo.Utils.getSvgPathFromStroke((0,Bs.getStrokeOutlinePoints)(cc(r,e,t),{size:2+n*2,thinning:.618,end:{taper:d/8},start:{taper:d/12},streamline:0,simulatePressure:!0}))}function Rs(r,e,t){return xo.Utils.getSvgPathFromStrokePoints(cc(r,e,t))}var uc=Vn.memo(function({id:e,radius:t,style:n,isSelected:o,isDarkMode:s}){let{stroke:a,strokeWidth:d,fill:i}=Te(n,s),c=pc(e,t,n);return Vn.createElement(Vn.Fragment,null,Vn.createElement("ellipse",{className:n.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",cx:t[0],cy:t[1],rx:t[0],ry:t[1]}),n.isFilled&&Vn.createElement("path",{d:Rs(e,t,n),stroke:"none",fill:i,pointerEvents:"none"}),Vn.createElement("path",{d:c,fill:a,stroke:a,strokeWidth:d,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))});var Qi=class extends xe{constructor(){super(...arguments);l(this,"type","ellipse");l(this,"canBind",!0);l(this,"canClone",!0);l(this,"canEdit",!0);l(this,"getShape",e=>qt.Utils.deepMerge({id:"id",type:"ellipse",name:"Ellipse",parentId:"page",childIndex:1,point:[0,0],radius:[1,1],rotation:0,style:gt,label:"",labelPoint:[.5,.5]},e));l(this,"Component",xe.Component(({shape:e,isGhost:t,isSelected:n,isBinding:o,isEditing:s,meta:a,bounds:d,events:i,onShapeChange:c,onShapeBlur:u},p)=>{let{id:m,radius:h,style:g,label:f="",labelPoint:T=No}=e,w=Mt(e.style),b=Te(g,a.isDarkMode),y=b.strokeWidth,R=1+y*1.618,K=Math.max(0,h[0]-R/2),L=Math.max(0,h[1]-R/2),v=g.dash==="draw"?uc:dc,I=Dn.useCallback(J=>c==null?void 0:c({id:m,label:J}),[c]);return Dn.createElement(pde,S({ref:p},i),Dn.createElement(to,{isEditing:s,onChange:I,onBlur:u,font:w,text:f,color:b.stroke,offsetX:(T[0]-.5)*d.width,offsetY:(T[1]-.5)*d.height}),Dn.createElement(qt.SVGContainer,{id:e.id+"_svg",opacity:t?.3:1},o&&Dn.createElement("ellipse",{className:"tl-binding-indicator",cx:h[0],cy:h[1],rx:K,ry:L,strokeWidth:this.bindingDistance}),Dn.createElement(v,{id:m,radius:h,style:g,isSelected:n,isDarkMode:a.isDarkMode})))}));l(this,"Indicator",xe.Indicator(({shape:e})=>{let{id:t,radius:n,style:o}=e,a=Te(o).strokeWidth,d=1+a*1.618,i=Math.max(0,n[0]-d/2),c=Math.max(0,n[1]-d/2);return o.dash==="draw"?Dn.createElement("path",{d:Rs(t,n,o)}):Dn.createElement("ellipse",{cx:n[0],cy:n[1],rx:i,ry:c})}));l(this,"hitTestPoint",(e,t)=>qt.Utils.pointInBounds(t,this.getRotatedBounds(e))&&qt.Utils.pointInEllipse(t,this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0));l(this,"hitTestLineSegment",(e,t,n)=>(0,so.intersectLineSegmentEllipse)(t,n,this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0).didIntersect);l(this,"getBounds",e=>qt.Utils.getFromCache(this.boundsCache,e,()=>qt.Utils.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],0)));l(this,"getRotatedBounds",e=>qt.Utils.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],e.rotation));l(this,"hitTestBounds",(e,t)=>{let n=this.getBounds(e);return qt.Utils.boundsContained(n,t)||(0,so.intersectEllipseBounds)(this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0,t).length>0});l(this,"shouldRender",(e,t)=>t.radius!==e.radius||t.style!==e.style||t.label!==e.label);l(this,"getCenter",e=>It.Vec.add(e.point,e.radius));l(this,"getBindingPoint",(e,t,n,o,s,a)=>{{let d=this.getExpandedBounds(e),i=this.getCenter(e),c,u;if(!qt.Utils.pointInEllipse(n,i,e.radius[0]+this.bindingDistance,e.radius[1]+this.bindingDistance))return;if(a)It.Vec.dist(n,this.getCenter(e))<12?c=[.5,.5]:c=It.Vec.divV(It.Vec.sub(n,[d.minX,d.minY]),[d.width,d.height]),u=0;else{let p=(0,so.intersectRayEllipse)(o,s,i,e.radius[0],e.radius[1],e.rotation||0).points.sort((h,g)=>It.Vec.dist(h,o)-It.Vec.dist(g,o))[0];if(p||(p=(0,so.intersectLineSegmentEllipse)(n,i,i,e.radius[0],e.radius[1],e.rotation||0).points.sort((h,g)=>It.Vec.dist(h,n)-It.Vec.dist(g,n))[0]),!p)return;let m=It.Vec.med(n,p);if(It.Vec.distanceToLineSegment(n,m,this.getCenter(e))<12?c=[.5,.5]:c=It.Vec.divV(It.Vec.sub(m,[d.minX,d.minY]),[d.width,d.height]),qt.Utils.pointInEllipse(n,i,e.radius[0],e.radius[1],e.rotation||0))u=this.bindingDistance/2;else{let h=(0,so.intersectLineSegmentEllipse)(n,i,i,e.radius[0],e.radius[1],e.rotation||0).points[0];if(!h)return;u=Math.max(this.bindingDistance/2,It.Vec.dist(n,h))}}return{point:c,distance:u}}});l(this,"transform",(e,t,{scaleX:n,scaleY:o,initialShape:s})=>{let{rotation:a=0}=s;return{point:[t.minX,t.minY],radius:[t.width/2,t.height/2],rotation:n<0&&o>=0||o<0&&n>=0?-(a||0):a||0}});l(this,"transformSingle",(e,t)=>({point:It.Vec.toFixed([t.minX,t.minY]),radius:It.Vec.div([t.width,t.height],2)}))}},pde=H("div",{width:"100%",height:"100%"});var As=require("@tldraw/core"),$n=V(require("react"));var ea=class extends xe{constructor(){super(...arguments);l(this,"type","group");l(this,"canBind",!0);l(this,"getShape",e=>As.Utils.deepMerge({id:"id",type:"group",name:"Group",parentId:"page",childIndex:1,point:[0,0],size:[100,100],rotation:0,children:[],style:gt},e));l(this,"Component",xe.Component(({shape:e,isBinding:t,isGhost:n,isHovered:o,isSelected:s,events:a},d)=>{let{id:i,size:c}=e,u=2,p=Math.max(0,c[0]-u/2),m=Math.max(0,c[1]-u/2),g=[[[u/2,u/2],[p,u/2],p-u/2],[[p,u/2],[p,m],m-u/2],[[p,m],[u/2,m],p-u/2],[[u/2,m],[u/2,u/2],m-u/2]].map(([f,T],w)=>$n.createElement("line",{key:i+"_"+w,x1:f[0],y1:f[1],x2:T[0],y2:T[1]}));return $n.createElement(As.SVGContainer,S({ref:d},a),t&&$n.createElement("rect",{className:"tl-binding-indicator",strokeWidth:this.bindingDistance}),$n.createElement("g",{opacity:n?.3:1},$n.createElement("rect",{x:0,y:0,width:c[0],height:c[1],fill:"transparent",pointerEvents:"all"}),$n.createElement(hc,{stroke:"black",opacity:o||s?1:0,strokeLinecap:"round",pointerEvents:"stroke"},g)))}));l(this,"Indicator",xe.Indicator(({shape:e})=>{let{id:t,size:n}=e,o=2,s=Math.max(0,n[0]-o/2),a=Math.max(0,n[1]-o/2),i=[[[o/2,o/2],[s,o/2],s-o/2],[[s,o/2],[s,a],a-o/2],[[s,a],[o/2,a],s-o/2],[[o/2,a],[o/2,o/2],a-o/2]].map(([c,u],p)=>$n.createElement("line",{key:t+"_"+p,x1:c[0],y1:c[1],x2:u[0],y2:u[1]}));return $n.createElement(hc,{strokeLinecap:"round",pointerEvents:"stroke"},i)}));l(this,"getBounds",e=>Zt(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style)}},hc=H("g",{strokeWidth:"calc(1.5px * var(--tl-scale))",strokeDasharray:"calc(1px * var(--tl-scale)), calc(3px * var(--tl-scale))"});var ta=require("@stitches/react"),Ls=require("@tldraw/core"),ln=V(require("react"));var na=class extends xe{constructor(){super(...arguments);l(this,"type","image");l(this,"canBind",!0);l(this,"canClone",!0);l(this,"isAspectRatioLocked",!0);l(this,"showCloneHandles",!1);l(this,"getShape",e=>Ls.Utils.deepMerge({id:"image",type:"image",name:"Image",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:x(S({},gt),{isFilled:!0}),assetId:"assetId"},e));l(this,"Component",xe.Component(({shape:e,asset:t={src:""},isBinding:n,isGhost:o,meta:s,events:a,onShapeChange:d},i)=>{let{size:c,style:u}=e,{bindingDistance:p}=this,m=ln.useRef(null),h=ln.useRef(null);return ln.useLayoutEffect(()=>{let g=h.current;if(!g)return;let[f,T]=c;g.style.width=`${f}px`,g.style.height=`${T}px`},[c]),ln.createElement(Ls.HTMLContainer,S({ref:i},a),n&&ln.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:`calc(${-p}px * var(--tl-zoom))`,left:`calc(${-p}px * var(--tl-zoom))`,width:`calc(100% + ${p*2}px * var(--tl-zoom))`,height:`calc(100% + ${p*2}px * var(--tl-zoom))`,backgroundColor:"var(--tl-selectFill)"}}),ln.createElement(ude,{ref:h,isDarkMode:s.isDarkMode,isFilled:u.isFilled,isGhost:o},ln.createElement(hde,{id:e.id+"_image",ref:m,src:t.src,alt:"tl_image_asset",draggable:!1})))}));l(this,"Indicator",xe.Indicator(({shape:e})=>{let{size:[t,n]}=e;return ln.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,t),height:Math.max(1,n)})}));l(this,"getBounds",e=>Zt(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style);l(this,"transform",no);l(this,"transformSingle",oo);l(this,"getSvgElement",e=>{let t=this.getBounds(e),n=document.createElementNS("http://www.w3.org/2000/svg","image");return n.setAttribute("width",`${t.width}`),n.setAttribute("height",`${t.height}`),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n})}},ude=(0,ta.styled)("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),hde=(0,ta.styled)("img",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2});var Os=require("@tldraw/core"),Mn=V(require("react"));var mc=V(require("react"));function gc({strokeWidth:r,size:e}){return mc.createElement("rect",{className:"tl-binding-indicator",x:r,y:r,width:Math.max(0,e[0]-r/2),height:Math.max(0,e[1]-r/2),strokeWidth:16*2})}var fc=require("@tldraw/core"),Pn=V(require("react"));var Sc=Pn.memo(function({id:e,style:t,size:n,isSelected:o,isDarkMode:s}){let{stroke:a,strokeWidth:d,fill:i}=Te(t,s),c=1+d*1.618,u=Math.max(0,n[0]-c/2),p=Math.max(0,n[1]-c/2),h=[[[c/2,c/2],[u,c/2],u-c/2],[[u,c/2],[u,p],p-c/2],[[u,p],[c/2,p],u-c/2],[[c/2,p],[c/2,c/2],p-c/2]].map(([g,f,T],w)=>{let{strokeDasharray:b,strokeDashoffset:y}=fc.Utils.getPerfectDashProps(T,d*1.618,t.dash);return Pn.createElement("line",{key:e+"_"+w,x1:g[0],y1:g[1],x2:f[0],y2:f[1],strokeDasharray:b,strokeDashoffset:y})});return Pn.createElement(Pn.Fragment,null,Pn.createElement("rect",{className:o||t.isFilled?"tl-fill-hitarea":"tl-stroke-hitarea",x:c/2,y:c/2,width:u,height:p,strokeWidth:16}),t.isFilled&&Pn.createElement("rect",{x:c/2,y:c/2,width:u,height:p,fill:i,pointerEvents:"none"}),Pn.createElement("g",{pointerEvents:"none",stroke:a,strokeWidth:c,strokeLinecap:"round"},h))});var Nn=V(require("react"));var Cr=require("@tldraw/core"),kt=V(require("@tldraw/vec")),Hs=V(require("perfect-freehand"));function mde(r,e,t){let n=Te(e),o=Cr.Utils.rng(r),s=n.strokeWidth,a=Math.max(0,t[0]),d=Math.max(0,t[1]),i=Array.from(Array(4)).map(()=>[o()*s*.75,o()*s*.75]),c=kt.default.add([s/2,s/2],i[0]),u=kt.default.add([a-s/2,s/2],i[1]),p=kt.default.add([a-s/2,d-s/2],i[2]),m=kt.default.add([s/2,d-s/2],i[3]),h=Math.round(Math.abs(o()*2*4)),g=Math.min(a/4,s*2),f=Math.min(d/4,s*2),T=Math.max(8,Math.floor(a/16)),w=Math.max(8,Math.floor(d/16)),b=Cr.Utils.rotateArray([kt.default.pointsBetween(kt.default.add(c,[g,0]),kt.default.sub(u,[g,0]),T),kt.default.pointsBetween(kt.default.add(u,[0,f]),kt.default.sub(p,[0,f]),w),kt.default.pointsBetween(kt.default.sub(p,[g,0]),kt.default.add(m,[g,0]),T),kt.default.pointsBetween(kt.default.sub(m,[0,f]),kt.default.add(c,[0,f]),w)],h);return{points:[...b.flat(),...b[0]].slice(5,Math.floor((h%2===0?T:w)/-2)+3)}}function bc(r,e,t){let{points:n}=mde(r,e,t),{strokeWidth:o}=Te(e);return{points:n,options:{size:o,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function Tc(r,e,t){let{points:n,options:o}=bc(r,e,t),s=(0,Hs.default)(n,o);return Cr.Utils.getSvgPathFromStroke(s)}function zs(r,e,t){let{points:n,options:o}=bc(r,e,t);return Cr.Utils.getSvgPathFromStrokePoints((0,Hs.getStrokePoints)(n,o))}var yc=Nn.memo(function({id:e,style:t,size:n,isSelected:o,isDarkMode:s}){let{isFilled:a}=t,{stroke:d,strokeWidth:i,fill:c}=Te(t,s),u=Tc(e,t,n),p=zs(e,t,n);return Nn.createElement(Nn.Fragment,null,Nn.createElement("path",{className:t.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",d:p}),a&&Nn.createElement("path",{d:p,fill:c,pointerEvents:"none"}),Nn.createElement("path",{d:u,fill:d,stroke:d,strokeWidth:i,pointerEvents:"none"}))});var oa=class extends xe{constructor(){super(...arguments);l(this,"type","rectangle");l(this,"canBind",!0);l(this,"canClone",!0);l(this,"canEdit",!0);l(this,"getShape",e=>Os.Utils.deepMerge({id:"id",type:"rectangle",name:"Rectangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:gt,label:"",labelPoint:[.5,.5]},e));l(this,"Component",xe.Component(({shape:e,isEditing:t,isBinding:n,isSelected:o,isGhost:s,meta:a,bounds:d,events:i,onShapeBlur:c,onShapeChange:u},p)=>{let{id:m,size:h,style:g,label:f="",labelPoint:T=No}=e,w=Mt(g),b=Te(g,a.isDarkMode),y=g.dash==="draw"?yc:Sc,R=Mn.useCallback(K=>u==null?void 0:u({id:m,label:K}),[u]);return Mn.createElement(gde,S({ref:p},i),Mn.createElement(to,{isEditing:t,onChange:R,onBlur:c,font:w,text:f,color:b.stroke,offsetX:(T[0]-.5)*d.width,offsetY:(T[1]-.5)*d.height}),Mn.createElement(Os.SVGContainer,{id:e.id+"_svg",opacity:s?.3:1},n&&Mn.createElement(gc,{strokeWidth:b.strokeWidth,size:h}),Mn.createElement(y,{id:m,style:g,size:h,isSelected:o,isDarkMode:a.isDarkMode})))}));l(this,"Indicator",xe.Indicator(({shape:e})=>{let{id:t,style:n,size:o}=e,a=Te(n,!1).strokeWidth;return n.dash==="draw"?Mn.createElement("path",{d:zs(t,n,o)}):Mn.createElement("rect",{x:a,y:a,rx:1,ry:1,width:Math.max(1,o[0]-a*2),height:Math.max(1,o[1]-a*2)})}));l(this,"getBounds",e=>Zt(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.label!==e.label);l(this,"transform",no);l(this,"transformSingle",oo)}},gde=H("div",{width:"100%",height:"100%"});var Fs=require("@tldraw/core"),wc=require("@tldraw/vec"),et=V(require("react"));var sa=class extends xe{constructor(){super(...arguments);l(this,"type","sticky");l(this,"canBind",!0);l(this,"canEdit",!0);l(this,"canClone",!0);l(this,"hideResizeHandles",!0);l(this,"showCloneHandles",!0);l(this,"getShape",e=>Fs.Utils.deepMerge({id:"id",type:"sticky",name:"Sticky",parentId:"page",childIndex:1,point:[0,0],size:[200,200],text:"",rotation:0,style:Ko},e));l(this,"Component",xe.Component(({shape:e,meta:t,events:n,isGhost:o,isBinding:s,isEditing:a,onShapeBlur:d,onShapeChange:i},c)=>{let u=Wd(e.style),{color:p,fill:m}=Wi(e.style,t.isDarkMode),h=et.useRef(null),g=et.useRef(null),f=et.useRef(null),T=et.useRef(!1),w=et.useCallback(I=>{I.stopPropagation()},[]),b=et.useCallback(I=>{i==null||i({id:e.id,type:e.type,text:k.normalizeText(I)})},[e.id]),y=et.useCallback(I=>{b(I.currentTarget.value)},[i,b]),R=et.useCallback(I=>{if(I.key==="Escape"){I.preventDefault(),I.stopPropagation(),d==null||d();return}if(I.key==="Tab"&&e.text.length===0){I.preventDefault();return}if(!(I.key==="Meta"||I.metaKey))I.stopPropagation();else if(I.key==="z"&&I.metaKey){I.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),I.stopPropagation(),I.preventDefault();return}(I.metaKey||I.ctrlKey)&&I.key==="="&&I.preventDefault(),I.key==="Tab"&&(I.preventDefault(),I.shiftKey?ct.unindent(I.currentTarget):ct.indent(I.currentTarget),i==null||i(x(S({},e),{text:k.normalizeText(I.currentTarget.value)})))},[e,i]),K=et.useCallback(I=>{I.currentTarget.setSelectionRange(0,0),d==null||d()},[]),L=et.useCallback(I=>{!a||!T.current||I.currentTarget.select()},[a]);et.useEffect(()=>{if(a){T.current=!0;let I=g.current;I.focus(),I.select()}},[a]),et.useEffect(()=>{let I=f.current,{size:J}=e,{offsetHeight:ce}=I,de=ra-En*2,He=J[1]-En*2;if(ce===He)return;if(ce>de){i==null||i({id:e.id,size:[J[0],ce+En*2]});return}if(ce<de&&J[1]>ra){i==null||i({id:e.id,size:[J[0],ra]});return}let Pe=g.current;Pe==null||Pe.focus()},[e.text,e.size[1],e.style]);let v={font:u,color:p,textShadow:t.isDarkMode?"0.5px 0.5px 2px rgba(255, 255, 255,.25)":"0.5px 0.5px 2px rgba(255, 255, 255,.5)"};return et.createElement(Fs.HTMLContainer,S({ref:c},n),et.createElement(fde,{ref:h,isDarkMode:t.isDarkMode,isGhost:o,style:S({backgroundColor:m},v)},s&&et.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),et.createElement(Sde,{ref:f,isEditing:a,alignment:e.style.textAlign},e.text,"\u200B"),a&&et.createElement(bde,{ref:g,onPointerDown:w,value:e.text,onChange:y,onKeyDown:R,onFocus:L,onBlur:K,tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,spellCheck:!0,alignment:e.style.textAlign,onContextMenu:wt,onCopy:wt,onPaste:wt,onCut:wt})))}));l(this,"Indicator",xe.Indicator(({shape:e})=>{let{size:[t,n]}=e;return et.createElement("rect",{x:0,y:0,rx:3,ry:3,width:Math.max(1,t),height:Math.max(1,n)})}));l(this,"getBounds",e=>Zt(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.text!==e.text);l(this,"transform",(e,t,{scaleX:n,scaleY:o,transformOrigin:s})=>({point:wc.Vec.toFixed([t.minX+(t.width-e.size[0])*(n<0?1-s[0]:s[0]),t.minY+(t.height-e.size[1])*(o<0?1-s[1]:s[1])])}));l(this,"transformSingle",e=>e);l(this,"getSvgElement",(e,t)=>{var p,m;let n=this.getBounds(e),o=Wi(e.style,t),s=Ni(e.style.size)*((p=e.style.scale)!=null?p:1),a=xn(e.style.font).slice(1,-1),d=(m=e.style.textAlign)!=null?m:"start",i=eo(e.text,s,a,d,n.width-En*2,!0);i.setAttribute("fill",o.color),i.setAttribute("transform",`translate(${En}, ${En})`);let c=document.createElementNS("http://www.w3.org/2000/svg","g"),u=document.createElementNS("http://www.w3.org/2000/svg","rect");return u.setAttribute("width",n.width+""),u.setAttribute("height",n.height+""),u.setAttribute("fill",o.fill),u.setAttribute("rx","3"),u.setAttribute("ry","3"),c.appendChild(u),c.appendChild(i),c})}},En=16,ra=200,fde=H("div",{pointerEvents:"all",position:"relative",backgroundColor:"rgba(255, 220, 100)",fontFamily:"sans-serif",height:"100%",width:"100%",padding:En+"px",borderRadius:"3px",perspective:"800px",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isDarkMode:{true:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"},false:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}}}),xc={whiteSpace:"pre-wrap",overflowWrap:"break-word",letterSpacing:Yt},Sde=H("div",S({position:"absolute",top:En,left:En,width:`calc(100% - ${En*2}px)`,height:"fit-content",font:"inherit",pointerEvents:"none",userSelect:"none",variants:{isEditing:{true:{opacity:1},false:{opacity:1}},alignment:{["start"]:{textAlign:"left"},["middle"]:{textAlign:"center"},["end"]:{textAlign:"right"},["justify"]:{textAlign:"justify"}}}},xc)),bde=H("textarea",x(S({width:"100%",height:"100%",border:"none",overflow:"hidden",background:"none",outline:"none",textAlign:"left",font:"inherit",padding:0,color:"transparent",verticalAlign:"top",resize:"none",caretColor:"black"},xc),{variants:{alignment:{["start"]:{textAlign:"left"},["middle"]:{textAlign:"center"},["end"]:{textAlign:"right"},["justify"]:{textAlign:"justify"}}},"&:focus":{outline:"none",border:"none"}}));var qo=require("@tldraw/core"),Wn=require("@tldraw/vec"),tt=V(require("react"));var ia=class extends xe{constructor(){super(...arguments);l(this,"type","text");l(this,"isAspectRatioLocked",!0);l(this,"canEdit",!0);l(this,"canBind",!0);l(this,"canClone",!0);l(this,"bindingDistance",16/2);l(this,"getShape",e=>qo.Utils.deepMerge({id:"id",type:"text",name:"Text",parentId:"page",childIndex:1,point:[0,0],rotation:0,text:" ",style:Ko},e));l(this,"texts",new Map);l(this,"Component",xe.Component(({shape:e,isBinding:t,isGhost:n,isEditing:o,onShapeBlur:s,onShapeChange:a,meta:d,events:i},c)=>{let{text:u,style:p}=e,m=Te(p,d.isDarkMode),h=Mt(e.style),g=tt.useRef(null),f=tt.useRef(!1),T=tt.useRef(u);tt.useLayoutEffect(()=>{if(u!==T.current){let v=[0,0];this.texts.set(e.id,u);let I=this.getBounds(e),J=this.getBounds(e);switch(e.style.textAlign){case"start":break;case"middle":{v=Wn.Vec.div([J.width-I.width,0],2);break}case"end":{v=[J.width-I.width,0];break}}T.current=u,a==null||a(x(S({},e),{id:e.id,point:Wn.Vec.sub(e.point,v),text:u}))}},[u]);let w=tt.useCallback(v=>{let I=[0,0],J=k.normalizeText(v.currentTarget.value),ce=this.getBounds(e);this.texts.set(e.id,J);let de=this.getBounds(x(S({},e),{text:J}));switch(e.style.textAlign){case"start":break;case"middle":{I=Wn.Vec.div([de.width-ce.width,0],2);break}case"end":{I=[de.width-ce.width,0];break}}T.current=J,a==null||a(x(S({},e),{id:e.id,point:Wn.Vec.sub(e.point,I),text:J}))},[e.id,e.point]),b=tt.useCallback(v=>{if(v.key==="Escape"){v.preventDefault(),v.stopPropagation(),s==null||s();return}if(v.key==="Tab"&&e.text.length===0){v.preventDefault();return}if(v.key==="Enter"&&(v.metaKey||v.ctrlKey)){v.preventDefault(),v.stopPropagation(),g.current.blur();return}if(!(v.key==="Meta"||v.metaKey))v.stopPropagation();else if(v.key==="z"&&v.metaKey){v.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),v.stopPropagation(),v.preventDefault();return}(v.metaKey||v.ctrlKey)&&v.key==="="&&v.preventDefault(),v.key==="Tab"&&(v.preventDefault(),v.shiftKey?ct.unindent(v.currentTarget):ct.indent(v.currentTarget),a==null||a(x(S({},e),{text:k.normalizeText(v.currentTarget.value)})))},[e,a]),y=tt.useCallback(v=>{v.currentTarget.setSelectionRange(0,0),s==null||s()},[]),R=tt.useCallback(v=>{!o||!f.current||document.activeElement===v.currentTarget&&v.currentTarget.select()},[o]),K=tt.useCallback(v=>{o&&v.stopPropagation()},[o]),L=tt.useRef(o);return tt.useEffect(()=>{o?(L.current=!0,this.texts.set(e.id,u),requestAnimationFrame(()=>{f.current=!0;let v=g.current;v&&(v.focus(),v.select())})):L.current&&(L.current=!1,s==null||s())},[o]),tt.createElement(qo.HTMLContainer,S({ref:c},i),tt.createElement(yde,{isGhost:n,isEditing:o,onPointerDown:K},tt.createElement(wde,{style:{font:h,color:m.stroke,textAlign:zd(p.textAlign)}},t&&tt.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),o?tt.createElement(xde,{ref:g,style:{font:h,color:m.stroke},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:u,color:m.stroke,onFocus:R,onChange:w,onKeyDown:b,onBlur:y,onPointerDown:K,onContextMenu:wt,onCopy:wt,onPaste:wt,onCut:wt}):u,"\u200B")))}));l(this,"Indicator",xe.Indicator(({shape:e})=>{let{width:t,height:n}=this.getBounds(e);return tt.createElement("rect",{x:0,y:0,width:t,height:n})}));l(this,"getBounds",e=>{let t=qo.Utils.getFromCache(this.boundsCache,e,()=>{var s;if(!io)return{minX:0,minY:0,maxX:10,maxY:10,width:10,height:10};io.parentNode||document.body.appendChild(io),io.style.font=Mt(e.style),io.textContent=(s=this.texts.get(e.id))!=null?s:e.text;let n=io.offsetWidth||1,o=io.offsetHeight||1;return{minX:0,maxX:n,minY:0,maxY:o,width:n,height:o}});return qo.Utils.translateBounds(t,e.point)});l(this,"shouldRender",(e,t)=>t.text!==e.text||t.style.scale!==e.style.scale||t.style!==e.style);l(this,"transform",(e,t,{initialShape:n,scaleX:o,scaleY:s})=>{let{rotation:a=0,style:{scale:d=1}}=n,i=d*Math.abs(Math.min(o,s));return{point:[t.minX,t.minY],rotation:o<0&&s>=0||s<0&&o>=0?-(a||0):a,style:x(S({},n.style),{scale:i})}});l(this,"transformSingle",(e,t,{initialShape:n,scaleX:o,scaleY:s})=>{let{style:{scale:a=1}}=n;return{point:Wn.Vec.toFixed([t.minX,t.minY]),style:x(S({},n.style),{scale:a*Math.max(Math.abs(s),Math.abs(o))})}});l(this,"onDoubleClickBoundsHandle",e=>{let t=this.getCenter(e),n=this.getCenter(x(S({},e),{style:x(S({},e.style),{scale:1})}));return{style:x(S({},e.style),{scale:1}),point:Wn.Vec.toFixed(Wn.Vec.add(e.point,Wn.Vec.sub(t,n)))}});l(this,"getSvgElement",(e,t)=>{var c,u;let n=this.getBounds(e),o=Te(e.style,t),s=yo(e.style.size,e.style.font)*((c=e.style.scale)!=null?c:1),a=xn(e.style.font).slice(1,-1),d=(u=e.style.textAlign)!=null?u:"middle",i=eo(e.text,s,a,d,n.width,!1);return i.setAttribute("fill",o.stroke),i})}},io;function Tde(){var e;(e=document.getElementById("__textMeasure"))==null||e.remove();let r=document.createElement("pre");return r.id="__textMeasure",Object.assign(r.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:Yt,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),r.tabIndex=-1,document.body.appendChild(r),r}typeof window!="undefined"&&(io=Tde());var yde=H("div",{width:"100%",height:"100%",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isEditing:{false:{pointerEvents:"all",userSelect:"all"},true:{pointerEvents:"none",userSelect:"none"}}}}),kc={whiteSpace:"pre-wrap",overflowWrap:"break-word"},wde=H("div",S({position:"absolute",width:"100%",height:"100%",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,letterSpacing:Yt,outline:0,fontWeight:"500",backfaceVisibility:"hidden",userSelect:"none",pointerEvents:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",isEditing:{false:{},true:{pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}},kc)),xde=H("textarea",x(S({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",letterSpacing:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"},kc),{"&:focus":{outline:"none",border:"none"}}));var cn=require("@tldraw/core"),Jo=require("@tldraw/intersect"),Ct=V(require("@tldraw/vec")),pn=V(require("react"));var la=require("@tldraw/core"),Dc=V(require("@tldraw/vec")),Bn=V(require("react"));var Dr=require("@tldraw/core"),ao=V(require("@tldraw/vec")),js=V(require("perfect-freehand"));function dn(r,e=0,t=0){let[n,o]=r,s=[[n/2,0],[n,o],[0,o]];return e&&(s=$d(s,e)),t&&(s=s.map(a=>ao.default.rotWith(a,[n/2,o/2],t))),s}function aa(r){let[e,t]=r,n=[[e/2,0],[e,t],[0,t]];return[(n[0][0]+n[1][0]+n[2][0])/3,(n[0][1]+n[1][1]+n[2][1])/3]}function kde(r,e,t){let[n,o]=e,s=Dr.Utils.rng(r),a=Array.from(Array(3)).map(()=>[s()*t*.75,s()*t*.75]),d=[ao.default.add([n/2,0],a[0]),ao.default.add([n,o],a[1]),ao.default.add([0,o],a[2])],i=Math.round(Math.abs(s()*2*3)),c=Dr.Utils.rotateArray([ao.default.pointsBetween(d[0],d[1],32),ao.default.pointsBetween(d[1],d[2],32),ao.default.pointsBetween(d[2],d[0],32)],i);return{points:[...c.flat(),...c[0]]}}function vc(r,e,t){let{strokeWidth:n}=Te(t),{points:o}=kde(r,e,n);return{points:o,options:{size:n,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function Ic(r,e,t){let{points:n,options:o}=vc(r,e,t),s=(0,js.default)(n,o);return Dr.Utils.getSvgPathFromStroke(s)}function Cc(r,e,t){let{points:n,options:o}=vc(r,e,t);return Dr.Utils.getSvgPathFromStrokePoints((0,js.getStrokePoints)(n,o))}var Pc=Bn.memo(function({id:e,size:t,style:n,isSelected:o,isDarkMode:s}){let{stroke:a,strokeWidth:d,fill:i}=Te(n,s),c=1+d*1.618,u=dn(t),m=la.Utils.pointsToLineSegments(u,!0).map(([g,f],T)=>{let{strokeDasharray:w,strokeDashoffset:b}=la.Utils.getPerfectDashProps(Dc.default.dist(g,f),d*1.618,n.dash);return Bn.createElement("line",{key:e+"_"+T,x1:g[0],y1:g[1],x2:f[0],y2:f[1],stroke:a,strokeWidth:c,strokeLinecap:"round",strokeDasharray:w,strokeDashoffset:b})}),h=u.join();return Bn.createElement(Bn.Fragment,null,Bn.createElement("polygon",{className:n.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",points:h}),n.isFilled&&Bn.createElement("polygon",{fill:i,points:h,pointerEvents:"none"}),Bn.createElement("g",{pointerEvents:"stroke"},m))});var Un=V(require("react"));var Mc=Un.memo(function({id:e,size:t,style:n,isSelected:o,isDarkMode:s}){let{stroke:a,strokeWidth:d,fill:i}=Te(n,s),c=Ic(e,t,n),u=Cc(e,t,n);return Un.createElement(Un.Fragment,null,Un.createElement("path",{className:n.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",d:u}),n.isFilled&&Un.createElement("path",{d:u,fill:i,pointerEvents:"none"}),Un.createElement("path",{d:c,fill:a,stroke:a,strokeWidth:d,pointerEvents:"none"}))});var Ec=V(require("react"));function Bc({size:r}){let e=dn(r).join();return Ec.createElement("polygon",{className:"tl-binding-indicator",points:e,strokeWidth:16*2})}var da=class extends xe{constructor(){super(...arguments);l(this,"type","triangle");l(this,"canBind",!0);l(this,"canClone",!0);l(this,"canEdit",!0);l(this,"getShape",e=>cn.Utils.deepMerge({id:"id",type:"triangle",name:"Triangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:gt,label:"",labelPoint:[.5,.5]},e));l(this,"Component",xe.Component(({shape:e,bounds:t,isBinding:n,isEditing:o,isSelected:s,isGhost:a,meta:d,events:i,onShapeChange:c,onShapeBlur:u},p)=>{let{id:m,label:h="",size:g,style:f,labelPoint:T=No}=e,w=Mt(f),b=Te(f,d.isDarkMode),y=f.dash==="draw"?Mc:Pc,R=pn.useCallback(L=>c==null?void 0:c({id:m,label:L}),[c]),K=pn.useMemo(()=>{let L=Ct.default.div(g,2);return(aa(g)[1]-L[1])*.72},[g]);return pn.createElement(vde,S({ref:p},i),pn.createElement(to,{font:w,text:h,color:b.stroke,offsetX:(T[0]-.5)*t.width,offsetY:K+(T[1]-.5)*t.height,isEditing:o,onChange:R,onBlur:u}),pn.createElement(cn.SVGContainer,{id:e.id+"_svg",opacity:a?.3:1},n&&pn.createElement(Bc,{size:g}),pn.createElement(y,{id:m,style:f,size:g,isSelected:s,isDarkMode:d.isDarkMode})))}));l(this,"Indicator",xe.Indicator(({shape:e})=>{let{size:t}=e;return pn.createElement("polygon",{points:dn(t).join()})}));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.label!==e.label);l(this,"getBounds",e=>Zt(e,this.boundsCache));l(this,"getExpandedBounds",e=>cn.Utils.getBoundsFromPoints(dn(e.size,this.bindingDistance).map(t=>Ct.default.add(t,e.point))));l(this,"hitTestLineSegment",(e,t,n)=>(0,Jo.intersectLineSegmentPolyline)(t,n,this.getPoints(e)).didIntersect);l(this,"hitTestBounds",(e,t)=>cn.Utils.boundsContained(this.getBounds(e),t)||(0,Jo.intersectBoundsPolygon)(t,this.getPoints(e)).length>0);l(this,"getBindingPoint",(e,t,n,o,s,a)=>{let d=this.getExpandedBounds(e);if(!cn.Utils.pointInBounds(n,d))return;let i=dn(e.size).map(b=>Ct.default.add(b,e.point)),c=dn(e.size,this.bindingDistance).map(b=>Ct.default.add(b,e.point)),u=cn.Utils.pointsToLineSegments(i,!0).map(([b,y])=>Ct.default.distanceToLineSegment(b,y,n)).sort((b,y)=>b-y)[0];if(!(cn.Utils.pointInPolygon(n,c)||u<this.bindingDistance))return;let p=cn.Utils.pointsToLineSegments(c.concat([c[0]])).map(b=>(0,Jo.intersectRayLineSegment)(o,s,b[0],b[1])).filter(b=>b.didIntersect).flatMap(b=>b.points);if(!p.length)return;let m=Ct.default.add(aa(e.size),e.point),h=p.sort((b,y)=>Ct.default.dist(y,o)-Ct.default.dist(b,o))[0],g=Ct.default.med(n,h),f,T;a?(f=Ct.default.dist(n,m)<16/2?m:n,T=0):(Ct.default.distanceToLineSegment(n,g,m)<16/2?f=m:f=g,cn.Utils.pointInPolygon(n,i)?T=this.bindingDistance:T=Math.max(this.bindingDistance,u));let w=Ct.default.divV(Ct.default.sub(f,[d.minX,d.minY]),[d.width,d.height]);return{point:Ct.default.clampV(w,0,1),distance:T}});l(this,"transform",no);l(this,"transformSingle",oo)}getPoints(e){let{rotation:t=0,point:[n,o],size:[s,a]}=e;return[[n+s/2,o],[n,o+a],[n+s,o+a]].map(d=>Ct.default.rotWith(d,this.getCenter(e),t))}},vde=H("div",{width:"100%",height:"100%"});var ca=require("@stitches/react"),Gs=require("@tldraw/core"),yt=V(require("react"));var pa=class extends xe{constructor(){super(...arguments);l(this,"type","video");l(this,"canBind",!0);l(this,"canEdit",!0);l(this,"canClone",!0);l(this,"isAspectRatioLocked",!0);l(this,"showCloneHandles",!1);l(this,"isStateful",!0);l(this,"getShape",e=>Gs.Utils.deepMerge({id:"video",type:"video",name:"Video",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:gt,assetId:"assetId",isPlaying:!0,currentTime:0},e));l(this,"Component",xe.Component(({shape:e,asset:t={src:""},isBinding:n,isEditing:o,isGhost:s,meta:a,events:d,onShapeChange:i},c)=>{let u=yt.useRef(null),p=yt.useRef(null),{currentTime:m=0,size:h,isPlaying:g,style:f}=e;yt.useLayoutEffect(()=>{let y=p.current;if(!y)return;let[R,K]=h;y.style.width=`${R}px`,y.style.height=`${K}px`},[h]),yt.useLayoutEffect(()=>{let y=u.current;!y||(g?y.play():y.pause())},[g]),yt.useLayoutEffect(()=>{let y=u.current;!y||m!==y.currentTime&&(y.currentTime=m)},[m]);let T=yt.useCallback(()=>{i==null||i({id:e.id,isPlaying:!0})},[]),w=yt.useCallback(()=>{i==null||i({id:e.id,isPlaying:!1})},[]),b=yt.useCallback(()=>{let y=u.current;!y||!o||i==null||i({id:e.id,currentTime:y.currentTime})},[o]);return yt.createElement(Gs.HTMLContainer,S({ref:c},d),n&&yt.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),yt.createElement(Ide,{ref:p,isDarkMode:a.isDarkMode,isGhost:s,isFilled:f.isFilled},yt.createElement(Cde,{ref:u,id:e.id+"_video",muted:!0,loop:!0,playsInline:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:o,autoPlay:g,onPlay:T,onPause:w,onTimeUpdate:b},yt.createElement("source",{src:t.src}))))}));l(this,"Indicator",xe.Indicator(({shape:e})=>{let{size:[t,n]}=e;return yt.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,t),height:Math.max(1,n)})}));l(this,"getBounds",e=>Zt(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.isPlaying!==e.isPlaying);l(this,"getSvgElement",e=>{let t=this.getBounds(e),n=document.createElementNS("http://www.w3.org/2000/svg","image");return n.setAttribute("width",`${t.width}`),n.setAttribute("height",`${t.height}`),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n});l(this,"transform",no);l(this,"transformSingle",oo)}},Ide=(0,ca.styled)("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),Cde=(0,ca.styled)("video",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2});var Vs=new oa,$s=new da,Ns=new Qi,Ws=new qi,Qo=new Yi,Rc=new ia,Ac=new ea,Pr=new sa,Lc=new na,Hc=new pa,Rn={["rectangle"]:Vs,["triangle"]:$s,["ellipse"]:Ns,["draw"]:Ws,["arrow"]:Qo,["text"]:Rc,["group"]:Ac,["sticky"]:Pr,["image"]:Lc,["video"]:Hc},ua=r=>typeof r=="string"?Rn[r]:Rn[r.type];var zc=!1,me=class{static getShapeUtil(e){return ua(e)}static getSelectedShapes(e,t){let n=me.getPage(e,t);return me.getSelectedIds(e,t).map(s=>n.shapes[s])}static screenToWorld(e,t){let n=me.getPageState(e,e.appState.currentPageId).camera;return Se.Vec.sub(Se.Vec.div(t,n.zoom),n.point)}static getCameraZoom(e){return zt.Utils.clamp(e,.1,5)}static getPage(e,t){return e.document.pages[t]}static getPageState(e,t){return e.document.pageStates[t]}static getSelectedIds(e,t){return me.getPageState(e,t).selectedIds}static getShapes(e,t){return Object.values(me.getPage(e,t).shapes)}static getCamera(e,t){return me.getPageState(e,t).camera}static getShape(e,t,n){return me.getPage(e,n).shapes[t]}static getCenter(e){return me.getShapeUtil(e).getCenter(e)}static getBounds(e){return me.getShapeUtil(e).getBounds(e)}static getRotatedBounds(e){return me.getShapeUtil(e).getRotatedBounds(e)}static getSelectedBounds(e){return zt.Utils.getCommonBounds(me.getSelectedShapes(e,e.appState.currentPageId).map(t=>me.getShapeUtil(t).getBounds(t)))}static getParentId(e,t,n){return me.getShape(e,t,n).parentId}static getDocumentBranch(e,t,n){let o=me.getShape(e,t,n);return o.children===void 0?[t]:[t,...o.children.flatMap(s=>me.getDocumentBranch(e,s,n))]}static getSelectedBranchSnapshot(e,t,n){let o=me.getPage(e,t),s=me.getSelectedIds(e,t).flatMap(a=>me.getDocumentBranch(e,a,t).map(d=>o.shapes[d])).filter(a=>!a.isLocked).map(zt.Utils.deepClone);return n!==void 0?s.map(a=>S({id:a.id},n(a))):s}static getSelectedShapeSnapshot(e,t,n){let o=me.getSelectedShapes(e,t).filter(s=>!s.isLocked).map(zt.Utils.deepClone);return n!==void 0?o.map(s=>S({id:s.id},n(s))):o}static getAllEffectedShapeIds(e,t,n){let o=me.getPage(e,n),s=new Set(t);return t.forEach(a=>{let d=o.shapes[a];function i(u){u.children!==void 0&&u.children.filter(p=>!s.has(p)).forEach(p=>{s.add(p),i(o.shapes[p])})}i(d);function c(u){let p=u.parentId;p!==o.id&&(s.has(p)||(s.add(p),c(o.shapes[p])))}c(d),s.forEach(u=>{Object.values(o.bindings).filter(p=>p.fromId===u||p.toId===u).forEach(p=>s.add(p.fromId===u?p.toId:p.fromId))})}),Array.from(s.values())}static getLinkedShapeIds(e,t,n,o=!0){let s=me.getSelectedIds(e,t),a=me.getPage(e,t),d=new Set(s),i=new Set,c=[...s],u=new Set(Object.values(a.shapes).filter(p=>{var m;return p.type==="arrow"&&(p.handles.start.bindingId||((m=p.handles)==null?void 0:m.end.bindingId))}));for(;c.length;){let p=c.pop();if(!(p&&u.size))break;i.has(p)||(i.add(p),u.forEach(m=>{var b,y;let{handles:{start:{bindingId:h},end:{bindingId:g}}}=m,f=h?a.bindings[h]:null,T=g?a.bindings[g]:null,w=!1;f&&f.toId===p?(n==="center"?w=!0:((b=m.decorations)==null?void 0:b.start)&&T?w=n==="left":w=n==="right",w&&(o&&d.add(m.id),d.add(p),T&&(d.add(T.toId),c.push(T.toId)))):T&&T.toId===p&&(n==="center"?w=!0:((y=m.decorations)==null?void 0:y.end)&&f?w=n==="left":w=n==="right",w&&(o&&d.add(m.id),d.add(p),f&&(d.add(f.toId),c.push(f.toId)))),(!f||d.has(f.toId))&&(!T||d.has(T.toId))&&u.delete(m)}))}return Array.from(d.values())}static getChildIndexAbove(e,t,n){let o=e.document.pages[n],s=o.shapes[t],a;if(s.parentId===o.id)a=Object.values(o.shapes).filter(c=>c.parentId===o.id).sort((c,u)=>c.childIndex-u.childIndex);else{let c=o.shapes[s.parentId];if(!c.children)throw Error("No children in parent!");a=c.children.map(u=>o.shapes[u]).sort((u,p)=>u.childIndex-p.childIndex)}let d=a.indexOf(s),i=a[d+1];return i?i.childIndex:s.childIndex+1}static getBeforeShape(e,t){return Object.fromEntries(Object.keys(t).map(n=>[n,e[n]]))}static mutateShapes(e,t,n,o,s=!1){let a={},d={};t.forEach((c,u)=>{let p=me.getShape(e,c,o);if(p.isLocked)return;(p==null?void 0:p.type)==="group"&&(t.length===1||s)&&p.children.forEach((h,g)=>{let f=me.getShape(e,h,o);if(f.isLocked)return;let T=n(f,g);T&&(a[h]=me.getBeforeShape(f,T),d[h]=T)});let m=n(p,u);m&&(a[c]=me.getBeforeShape(p,m),d[c]=m)});let i=zt.Utils.deepMerge(e,{document:{pages:{[e.appState.currentPageId]:{shapes:d}}}});return{before:a,after:d,data:i}}static createShapes(e,t,n){let o={document:{pages:{[n]:{shapes:S({},Object.fromEntries(t.flatMap(a=>{let d=[[a.id,void 0]];if(a.parentId!==n){let i=me.getShape(e,a.parentId,n);if(!i.children)throw Error("No children in parent!");d.push([i.id,{children:i.children}])}return d})))}}}},s={document:{pages:{[n]:{shapes:{shapes:S({},Object.fromEntries(t.flatMap(a=>{let d=[[a.id,a]];if(a.parentId!==n){let i=me.getShape(e,a.parentId,n);if(!i.children)throw Error("No children in parent!");d.push([i.id,{children:[...i.children,a.id]}])}return d})))}}}}};return{before:o,after:s}}static deleteShapes(e,t,n){n=n||e.appState.currentPageId;let o=me.getPage(e,n),s=typeof t[0]=="string"?t:t.map(i=>i.id),a={document:{pages:{[n]:{shapes:S({},Object.fromEntries(s.flatMap(i=>{let c=o.shapes[i],u=[[c.id,c]];if(c.parentId!==n){let p=o.shapes[c.parentId];if(!p.children)throw Error("No children in parent!");u.push([p.id,{children:p.children}])}return u}))),bindings:S({},Object.fromEntries(Object.values(o.bindings).filter(i=>s.includes(i.fromId)||s.includes(i.toId)).map(i=>[i.id,i])))}}}},d={document:{pages:{[n]:{shapes:S({},Object.fromEntries(s.flatMap(i=>{let c=o.shapes[i],u=[[c.id,void 0]];if(c.parentId!==o.id){let p=o.shapes[c.parentId];if(!p.children)throw Error("No children in parent!");u.push([p.id,{children:p.children.filter(m=>m!==c.id)}])}return u})))}}}};return{before:a,after:d}}static onSessionComplete(e){var n,o;let t=(o=(n=me.getShapeUtil(e)).onSessionComplete)==null?void 0:o.call(n,e);return t?S(S({},e),t):e}static onChildrenChange(e,t,n){var s,a;if(!t.children)return;let o=(a=(s=me.getShapeUtil(t)).onChildrenChange)==null?void 0:a.call(s,t,t.children.map(d=>me.getShape(e,d,n)));return o?S(S({},t),o):t}static updateArrowBindings(e,t){var a,d,i,c,u,p;let n={start:xt(t.handles.start),end:xt(t.handles.end)},o={isBound:!1,handle:t.handles.start,point:Se.Vec.add(t.handles.start.point,t.point)},s={isBound:!1,handle:t.handles.end,point:Se.Vec.add(t.handles.end.point,t.point)};if(t.handles.start.bindingId){let m=((a=t.decorations)==null?void 0:a.start)!==void 0,h=t.handles.start,g=e.bindings[t.handles.start.bindingId];if(!g)throw Error("Could not find a binding to match the start handle's bindingId: "+t.handles.start.bindingId);let f=e.shapes[g.toId],T=me.getShapeUtil(f),w=T.getBounds(f),b=T.getExpandedBounds(f),y=m?zt.Utils.expandBounds(w,g.distance):w,{minX:R,minY:K,width:L,height:v}=b,I=Se.Vec.add([R,K],Se.Vec.mulV([L,v],Se.Vec.rotWith(g.point,[.5,.5],f.rotation||0)));o={isBound:!0,hasDecoration:m,binding:g,handle:h,point:I,util:T,target:f,bounds:w,expandedBounds:b,intersectBounds:y,center:T.getCenter(f)}}if(t.handles.end.bindingId){let m=((d=t.decorations)==null?void 0:d.end)!==void 0,h=t.handles.end,g=e.bindings[t.handles.end.bindingId];if(!g)throw Error("Could not find a binding to match the end handle's bindingId");let f=e.shapes[g.toId],T=me.getShapeUtil(f),w=T.getBounds(f),b=T.getExpandedBounds(f),y=m?zt.Utils.expandBounds(w,g.distance):w,{minX:R,minY:K,width:L,height:v}=b,I=Se.Vec.add([R,K],Se.Vec.mulV([L,v],Se.Vec.rotWith(g.point,[.5,.5],f.rotation||0)));s={isBound:!0,hasDecoration:m,binding:g,handle:h,point:I,util:T,target:f,bounds:w,expandedBounds:b,intersectBounds:y,center:T.getCenter(f)}}for(let m of["end","start"]){let h=m==="start"?o:s,g=m==="start"?s:o;if(h.isBound)if(!h.binding.distance)n[m].point=Se.Vec.sub(h.point,t.point);else{let f=Se.Vec.uni(Se.Vec.sub(h.point,g.point));switch(h.target.type){case"ellipse":{let T=(0,lo.intersectRayEllipse)(g.point,f,h.center,h.target.radius[0]+(h.hasDecoration?h.binding.distance:0),h.target.radius[1]+(h.hasDecoration?h.binding.distance:0),h.target.rotation||0).points.sort((w,b)=>Se.Vec.dist(w,g.point)-Se.Vec.dist(b,g.point));T[0]!==void 0&&(n[m].point=Se.Vec.toFixed(Se.Vec.sub(T[0],t.point)));break}case"triangle":{let T=h.target.point,w=dn(h.target.size,h.hasDecoration?16:0,h.target.rotation).map(y=>Se.Vec.add(y,T)),b=zt.Utils.pointsToLineSegments(w,!0).map(([y,R])=>(0,lo.intersectRayLineSegment)(g.point,f,y,R)).filter(y=>y.didIntersect).flatMap(y=>y.points).sort((y,R)=>Se.Vec.dist(y,g.point)-Se.Vec.dist(R,g.point));b[0]!==void 0&&(n[m].point=Se.Vec.toFixed(Se.Vec.sub(b[0],t.point)));break}default:{let T=(0,lo.intersectRayBounds)(g.point,f,h.intersectBounds,h.target.rotation).filter(b=>b.didIntersect).map(b=>b.points[0]).sort((b,y)=>Se.Vec.dist(b,g.point)-Se.Vec.dist(y,g.point));if(!T[0])continue;let w;if(g.isBound&&(w=(0,lo.intersectRayBounds)(g.point,f,g.intersectBounds,g.target.rotation).filter(y=>y.didIntersect).map(y=>y.points[0]).sort((y,R)=>Se.Vec.dist(y,g.point)-Se.Vec.dist(R,g.point))[0]),g.isBound&&(T.length<2||w&&T[0]&&Math.ceil(Se.Vec.dist(T[0],w))<16*2.5||zt.Utils.boundsContain(h.expandedBounds,g.expandedBounds)||zt.Utils.boundsCollide(h.expandedBounds,g.expandedBounds))){let b=Se.Vec.uni(Se.Vec.sub(g.point,h.point)),y=(0,lo.intersectRayBounds)(h.point,b,h.bounds,h.target.rotation).filter(R=>R.didIntersect).map(R=>R.points[0]);if(!y[0])continue;n[m].point=Se.Vec.toFixed(Se.Vec.sub(y[0],t.point)),n[m==="start"?"end":"start"].point=Se.Vec.toFixed(Se.Vec.add(Se.Vec.sub(y[0],t.point),Se.Vec.mul(b,Math.min(Se.Vec.dist(y[0],g.point),16*2.5*(zt.Utils.boundsContain(g.bounds,h.intersectBounds)?-1:1)))))}else if(!g.isBound&&(T[0]&&Se.Vec.dist(T[0],g.point)<16*2.5||zt.Utils.pointInBounds(g.point,h.intersectBounds))){let b=Se.Vec.uni(Se.Vec.sub(h.center,g.point));return(c=(i=me.getShapeUtil(t)).onHandleChange)==null?void 0:c.call(i,t,{[m]:x(S({},t.handles[m]),{point:Se.Vec.toFixed(Se.Vec.add(Se.Vec.sub(g.point,t.point),Se.Vec.mul(b,16*2.5)))})})}else T[0]&&(n[m].point=Se.Vec.toFixed(Se.Vec.sub(T[0],t.point)))}}}}return(p=(u=me.getShapeUtil(t)).onHandleChange)==null?void 0:p.call(u,t,n)}static transform(e,t,n){let o=me.getShapeUtil(e).transform(e,t,n);return o?S(S({},e),o):e}static transformSingle(e,t,n){let o=me.getShapeUtil(e).transformSingle(e,t,n);return o?S(S({},e),o):e}static getRotatedShapeMutation(e,t,n,o){var c,u;let s=Se.Vec.sub(t,e.point),a=Se.Vec.rotWith(t,n,o),d=Se.Vec.toFixed(Se.Vec.sub(a,s));if(e.handles!==void 0)return(u=(c=this.getShapeUtil(e)).onHandleChange)==null?void 0:u.call(c,x(S({},e),{point:d}),Object.fromEntries(Object.entries(e.handles).map(([m,h])=>{let g=Se.Vec.toFixed(Se.Vec.rotWith(h.point,s,o));return[m,x(S({},h),{point:g})]})));let i=zt.Utils.clampRadians((e.rotation||0)+o);return{point:d,rotation:i}}static updateParents(e,t,n){let o=me.getPage(e,t);if(n.length===0)return;let{shapes:s}=me.getPage(e,t),a=Array.from(new Set(n.map(d=>s[d].parentId).values())).filter(d=>d!==o.id);for(let d of a){let i=s[d];if(!i.children)throw Error("A shape is parented to a shape without a children array.");me.onChildrenChange(e,i,t)}me.updateParents(e,t,a)}static getBinding(e,t,n){return me.getPage(e,n).bindings[t]}static getBindings(e,t){let n=me.getPage(e,t);return Object.values(n.bindings)}static getBindableShapeIds(e){return me.getShapes(e,e.appState.currentPageId).filter(t=>me.getShapeUtil(t).canBind).sort((t,n)=>n.childIndex-t.childIndex).map(t=>t.id)}static getBindingsWithShapeIds(e,t,n){return Array.from(new Set(me.getBindings(e,n).filter(o=>t.includes(o.toId)||t.includes(o.fromId))).values())}static getRelatedBindings(e,t,n){let o=new Set(t),s=me.getPage(e,n),a=Object.values(s.bindings),d=new Set(a.filter(u=>o.has(u.toId)||o.has(u.fromId))),i=d.size,c=-1;for(;c!==0;)d.forEach(u=>{let p=u.fromId;for(let m of a)m.fromId===p&&d.add(m),m.toId===p&&d.add(m)}),c=d.size-i,i=d.size;return Array.from(d.values())}static normalizeText(e){return e.replace(me.fixNewLines,`
`).split(`
`).map(t=>t||" ").join(`
`)}static assertShapeHasProperty(e,t){if(e[t]===void 0)throw new Error}static warn(e){zc&&console.warn(e)}static error(e){zc&&console.error(e)}static getSvgString(e,t=1){let n=e.cloneNode(!0);return e.setAttribute("width",+e.getAttribute("width")*t+""),e.setAttribute("height",+e.getAttribute("height")*t+""),new XMLSerializer().serializeToString(n).replaceAll("&#10;      ","").replaceAll(/((\s|")[0-9]*\.[0-9]{2})([0-9]*)(\b|"|\))/g,"$1")}static getSvgAsDataUrl(e,t=1){let n=me.getSvgString(e,t);return`data:image/svg+xml;base64,${window.btoa(unescape(n))}`}static getImageForSvg(o){return ue(this,arguments,function*(e,t="png",n={}){let{scale:s=2,quality:a=1}=n,d=me.getSvgString(e,s);if(!d)return;let i=yield new Promise(u=>{let p=new Image;p.crossOrigin="anonymous";let h=`data:image/svg+xml;base64,${window.btoa(unescape(encodeURIComponent(d)))}`;p.onload=()=>{let g=document.createElement("canvas"),f=g.getContext("2d"),T=p.width,w=p.height;g.width=T,g.height=w,f.drawImage(p,0,0,T,w),URL.revokeObjectURL(h),u(g)},p.onerror=()=>{console.warn("Could not convert that SVG to an image.")},p.src=h});return yield new Promise(u=>i.toBlob(p=>u(p),"image/"+t,a))})}},k=me;l(k,"copyStringToClipboard",e=>{try{navigator.clipboard&&navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([e],{type:"text/plain"})})])}catch(t){let n=document.createElement("textarea");n.setAttribute("position","fixed"),n.setAttribute("top","0"),n.setAttribute("readonly","true"),n.setAttribute("contenteditable","true"),n.style.position="fixed",n.value=e,document.body.appendChild(n),n.focus(),n.select();try{let o=document.createRange();o.selectNodeContents(n);let s=window.getSelection();s&&(s.removeAllRanges(),s.addRange(o),n.setSelectionRange(0,n.value.length)),document.execCommand("copy")}catch(o){}finally{document.body.removeChild(n)}}}),l(k,"flattenShape",(e,t)=>{var n;return[t,...((n=t.children)!=null?n:[]).map(o=>me.getShape(e,o,e.appState.currentPageId)).sort((o,s)=>o.childIndex-s.childIndex).flatMap(o=>me.flattenShape(e,o))]}),l(k,"flattenPage",(e,t)=>Object.values(e.document.pages[t].shapes).sort((n,o)=>n.childIndex-o.childIndex).reduce((n,o)=>[...n,...me.flattenShape(e,o)],[])),l(k,"getTopChildIndex",(e,t)=>{let n=me.getShapes(e,t);return n.length===0?1:n.filter(o=>o.parentId===t).sort((o,s)=>s.childIndex-o.childIndex)[0].childIndex+1}),l(k,"fixNewLines",/\r?\n|\r/g);var Dde=r=>r.room,Fc=function(){let e=ge(),t=e.useStore(Dde),[n,o]=Le.useState(!1),s=Le.useRef(0),a=Le.useCallback(()=>{o(!0),k.copyStringToClipboard(window.location.href),clearTimeout(s.current),s.current=setTimeout(()=>o(!1),1200)},[]),d=Le.useCallback(()=>{o(!0);let u=window.location.href.split("/");u[u.length-2]="v",u[u.length-1]=Us.Utils.lns(u[u.length-1]),k.copyStringToClipboard(u.join("/")),clearTimeout(s.current),s.current=setTimeout(()=>o(!1),1200)},[]),i=Le.useCallback(()=>ue(this,null,function*(){e.isDirty?e.fileSystemHandle?window.confirm("Do you want to save changes to your current project?")&&(yield e.saveProject()):window.confirm("Do you want to save your current project?")&&(yield e.saveProject()):e.fileSystemHandle||window.confirm("Do you want to save your current project?")&&(yield e.saveProject())}),[]),c=Le.useCallback(()=>ue(this,null,function*(){var p;let u=Us.Utils.deepClone(e.document);e.setIsLoading(!0);try{if(e.callbacks.onAssetUpload)for(let h in u.assets){let g=u.assets[h];if(g.src.includes("base64")){let f=Pde(g.src,((p=g.fileName)!=null?p:g.type==="video")?"image.png":"image.mp4"),T=yield e.callbacks.onAssetUpload(e,f,h);T?g.src=T:g.src=""}}let m=yield fetch("/api/create",{method:"POST",mode:"no-cors",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({roomId:Us.Utils.uniqueId(),pageId:e.currentPageId,document:u})}).then(h=>h.json());(m==null?void 0:m.url)?window.location.href=m.url:k.warn(m==null?void 0:m.message)}catch(m){k.warn(m.message)}e.setIsLoading(!1)}),[]);return Le.createElement(Oc.Root,{dir:"ltr"},Le.createElement(fs,{id:"TD-MultiplayerMenuIcon",isActive:!!t},Le.createElement(Ld,null)),Le.createElement(At,{variant:"menu",id:"TD-MultiplayerMenu",side:"bottom",align:"start",sideOffset:4},Le.createElement(ve,{id:"TD-Multiplayer-CopyInviteLink",onClick:a,disabled:!t},Le.createElement(Mr.FormattedMessage,{id:"copy.invite.link"}),Le.createElement(bt,null,n?Le.createElement(er.CheckIcon,null):Le.createElement(er.ClipboardIcon,null))),Le.createElement(ve,{id:"TD-Multiplayer-CopyReadOnlyLink",onClick:d,disabled:!t},Le.createElement(Mr.FormattedMessage,{id:"copy.readonly.link"}),Le.createElement(bt,null,n?Le.createElement(er.CheckIcon,null):Le.createElement(er.ClipboardIcon,null))),Le.createElement(Ee,null),Le.createElement(ve,{id:"TD-Multiplayer-CreateMultiplayerProject",onClick:i},Le.createElement("a",{href:`${window.location.origin}/r`},Le.createElement(Mr.FormattedMessage,{id:"create.multiplayer.project"}))),Le.createElement(ve,{id:"TD-Multiplayer-CopyToMultiplayerProject",onClick:c},Le.createElement(Mr.FormattedMessage,{id:"copy.multiplayer.project"}))))};function Pde(r,e){var d,i;let t=r.split(","),n=(i=(d=t[0])==null?void 0:d.match(/:(.*?);/))==null?void 0:i[1],o=window.atob(t[1]),s=o.length,a=new Uint8Array(s);for(;s--;)a[s]=o.charCodeAt(s);return new File([a],e,{type:n})}var Jt=V(require("@radix-ui/react-dropdown-menu")),_s=require("@radix-ui/react-icons"),ke=V(require("react")),Er=require("react-intl");var Ot=V(require("@radix-ui/react-alert-dialog")),Ks=require("@radix-ui/react-icons"),Ce=V(require("react")),tr=require("react-intl");var Mde=r=>Object.keys(r.document.pages).length>1;function Gc({page:r,onOpen:e,onClose:t}){let n=ge(),o=(0,tr.useIntl)(),[s,a]=Ce.useState(!1),[d,i]=Ce.useState(r.name||"Page"),c=n.useStore(Mde),u=Ce.useRef(null),p=Ce.useCallback(()=>{a(!1)},[]),m=Ce.useCallback(()=>{n.duplicatePage(r.id)},[n]),h=Ce.useCallback(()=>{window.confirm("Are you sure you want to delete this page?")&&n.deletePage(r.id)},[n]),g=Ce.useCallback(L=>{if(a(L),L){e==null||e();return}},[n]);function f(L){L.stopPropagation()}let T=Ce.useRef(r.name||"Page"),w=Ce.useRef(T.current),b=Ce.useCallback(L=>{let v=L.target.value.trimStart();w.current=v,i(v)},[]),y=Ce.useCallback(L=>{switch(L.key){case"Enter":{w.current===T.current||(T.current=w.current,n.renamePage(r.id,w.current.trim())),a(!1);break}case"Escape":{if(w.current===T.current){a(!1);return}w.current=T.current,i(T.current),requestAnimationFrame(()=>{let v=u.current;v&&(v.focus(),v.setSelectionRange(0,v.value.length))});break}}},[]),R=Ce.useRef(!1);Ce.useEffect(()=>(s?(R.current=!0,T.current=r.name||"Page",w.current=T.current,requestAnimationFrame(()=>{let L=u.current;L&&(L.focus(),L.setSelectionRange(0,L.value.length))})):R.current&&(t==null||t()),()=>{w.current!==T.current&&(T.current=w.current,n.renamePage(r.id,w.current))}),[s]);let K=Vt();return Ce.createElement(Ot.Root,{open:s,onOpenChange:g},Ce.createElement(Ot.Trigger,{asChild:!0,"data-shy":"true"},Ce.createElement(Ho,{bp:rt},Ce.createElement(bt,null,Ce.createElement(Ks.MixerVerticalIcon,null)))),Ce.createElement(Ot.Portal,{container:K.current},Ce.createElement(Bde,{onPointerDown:p}),Ce.createElement(Ede,{dir:"ltr",onKeyDown:f,onKeyUp:f},Ce.createElement(hs,{ref:u,placeholder:o.formatMessage({id:"page.name"}),value:d,onChange:b,onKeyDown:y,icon:Ce.createElement(Ks.Pencil1Icon,null)}),Ce.createElement(Ee,null),Ce.createElement(jc,{onSelect:m},Ce.createElement(tr.FormattedMessage,{id:"duplicate"})),Ce.createElement(jc,{disabled:!c,onSelect:h},Ce.createElement(tr.FormattedMessage,{id:"delete"})),Ce.createElement(Ee,null),Ce.createElement(Ot.Cancel,{asChild:!0},Ce.createElement($e,null,Ce.createElement(tr.FormattedMessage,{id:"cancel"}))))))}var Ede=H(Ot.Content,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:240,maxWidth:"fit-content",maxHeight:"85vh",marginTop:"-5vh",pointerEvents:"all",backgroundColor:"$panel",padding:"$1",borderRadius:"$2",font:"$ui",zIndex:999999,"&:focus":{outline:"none"}}),Bde=H(Ot.Overlay,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0,zIndex:999998});function jc(t){var n=t,{onSelect:r}=n,e=ot(n,["onSelect"]);return Ce.createElement(Ot.Action,{asChild:!0,onClick:r,onSelect:r},Ce.createElement($e,S({},e)))}var Rde=r=>Object.values(r.document.pages).sort((e,t)=>(e.childIndex||0)-(t.childIndex||0)),Ade=r=>r.document.pages[r.appState.currentPageId].name,Lde=r=>r.document.pages[r.appState.currentPageId].id;function Vc(){let r=ge(),e=(0,Er.useIntl)(),t=ke.useRef(!1),[n,o]=ke.useState(!1);ke.useEffect(()=>{t.current!==n&&(t.current=n)},[n]);let s=ke.useCallback(()=>{o(!1)},[o]),a=ke.useCallback(i=>{t.current!==i&&o(i)},[o]),d=r.useStore(Ade);return ke.createElement(Jt.Root,{dir:"ltr",open:n,onOpenChange:a},ke.createElement(Jt.Trigger,{dir:"ltr",asChild:!0,id:"TD-Page"},ke.createElement(Ie,{variant:"text"},d||e.formatMessage({id:"page"}))),ke.createElement(At,{variant:"menu",align:"start",sideOffset:4},n&&ke.createElement(Hde,{onClose:s})))}function Hde({onClose:r}){let e=ge(),t=(0,Er.useIntl)(),n=e.useStore(Rde),o=e.useStore(Lde),s=t.formatMessage({id:"page"}),a=ke.useCallback(()=>{let f=s+" "+(Object.keys(e.document.pages).length+1);e.createPage(void 0,f)},[e]),d=ke.useCallback(f=>{r(),e.changePage(f)},[e]),[i,c]=ke.useState(null),[u,p]=ke.useState(null),m=ke.useCallback(f=>{c(f.currentTarget.id),p(n.findIndex(T=>T.id===f.currentTarget.id)),f.dataTransfer.effectAllowed="move"},[]),h=ke.useCallback(f=>{f.preventDefault();let T=n.findIndex(y=>y.id===f.currentTarget.id),w=f.currentTarget.getBoundingClientRect();T=(f.clientY-w.top)/w.height<.5?T:T+1,p(T)},[i,n]),g=ke.useCallback(()=>{i!==null&&u!==null&&e.movePage(i,u),c(null),p(null)},[i,u]);return ke.createElement(ke.Fragment,null,ke.createElement(Jt.RadioGroup,{dir:"ltr",value:o,onValueChange:d},n.map((f,T)=>ke.createElement(zde,{key:f.id,isDropAbove:T===u&&T===0,isDropBelow:u!==null&&T===u-1},ke.createElement(Jt.RadioItem,{title:f.name||s,value:f.id,key:f.id,id:f.id,asChild:!0,onDragOver:h,onDragStart:m,onDrop:g,draggable:!0},ke.createElement(Ode,null,ke.createElement("span",{id:f.id},f.name||s),ke.createElement(Jt.ItemIndicator,null,ke.createElement(bt,null,ke.createElement(_s.CheckIcon,null))))),ke.createElement(Gc,{page:f,onClose:r})))),ke.createElement(Ee,null),ke.createElement(Jt.Item,{onSelect:a,asChild:!0},ke.createElement($e,null,ke.createElement("span",null,ke.createElement(Er.FormattedMessage,{id:"create.page"})),ke.createElement(bt,null,ke.createElement(_s.PlusIcon,null)))))}var zde=H("div",{position:"relative",display:"grid",gridTemplateColumns:"1fr auto",gridAutoFlow:"column",margin:0,'& > *[data-shy="true"]':{opacity:0},'&:hover > *[data-shy="true"]':{opacity:1},variants:{isDropAbove:{true:{"&::after":{content:"",display:"block",position:"absolute",top:0,width:"100%",height:"1px",backgroundColor:"$selected",zIndex:999,pointerEvents:"none"}}},isDropBelow:{true:{"&::after":{content:"",display:"block",position:"absolute",width:"100%",height:"1px",top:"100%",backgroundColor:"$selected",zIndex:999,pointerEvents:"none"}}}}}),Ode=H($e,{minWidth:128});var co=V(require("@radix-ui/react-dropdown-menu")),po=require("@radix-ui/react-icons"),pe=V(require("react")),un=require("react-intl");var Fde=r=>r.appState.currentStyle,jde=r=>r.document.pageStates[r.appState.currentPageId].selectedIds,Gde=Object.keys(Ko),$c={["draw"]:pe.createElement(rd,null),["solid"]:pe.createElement(sd,null),["dashed"]:pe.createElement(nd,null),["dotted"]:pe.createElement(od,null)},Vde={["small"]:pe.createElement(ad,null),["medium"]:pe.createElement(ld,null),["large"]:pe.createElement(dd,null)},$de={["start"]:pe.createElement(po.TextAlignLeftIcon,null),["middle"]:pe.createElement(po.TextAlignCenterIcon,null),["end"]:pe.createElement(po.TextAlignRightIcon,null),["justify"]:pe.createElement(po.TextAlignJustifyIcon,null)},Nde=r=>r.settings.isDarkMode?"dark":"light",Wde=r=>r.settings.keepStyleMenuOpen,Ude=r=>{let{activeTool:e,currentPageId:t}=r.appState;switch(e){case"select":{let n=r.document.pages[t],o=!1,s=!1;for(let a of r.document.pageStates[t].selectedIds)"text"in n.shapes[a]&&(o=!0),"label"in n.shapes[a]&&(s=!0);return o?"text":s?"label":""}case"text":return"text";case"rectangle":return"label";case"ellipse":return"label";case"triangle":return"label";case"arrow":return"label";case"line":return"label"}return!1},Nc=pe.memo(function(){let e=ge(),t=(0,un.useIntl)(),n=e.useStore(Nde),o=e.useStore(Wde),s=e.useStore(Ude),a=e.useStore(Fde),d=e.useStore(jde),[i,c]=pe.useState(a),u=pe.useRef(a);pe.useEffect(()=>{let{appState:{currentStyle:b},page:y,selectedIds:R}=e,K={};if(R.length<=0)K=b;else{let L=new Set([]);e.selectedIds.map(v=>y.shapes[v]).forEach(v=>{Gde.forEach(I=>{if(!L.has(I))if(K[I]===void 0)K[I]=v.style[I];else{if(K[I]===v.style[I])return;K[I]=v.style[I],L.add(I)}})})}JSON.stringify(K)!==JSON.stringify(u.current)&&(u.current=K,c(K))},[a,d]);let p=pe.useCallback(b=>{e.setSetting("keepStyleMenuOpen",b)},[]),m=pe.useCallback(b=>{e.style({isFilled:b})},[]),h=pe.useCallback(b=>{e.style({dash:b})},[]),g=pe.useCallback(b=>{e.style({size:b})},[]),f=pe.useCallback(b=>{e.style({font:b})},[]),T=pe.useCallback(b=>{e.style({textAlign:b})},[]),w=pe.useCallback(b=>{e.setMenuOpen(b)},[e]);return pe.createElement(co.Root,{dir:"ltr",onOpenChange:w,open:o?!0:void 0,modal:!1},pe.createElement(co.Trigger,{asChild:!0,id:"TD-Styles"},pe.createElement(Ie,{"aria-label":t.formatMessage({id:"styles"}),variant:"text"},pe.createElement(un.FormattedMessage,{id:"styles"}),pe.createElement(_de,{style:{color:Uo[n][i.color]}},i.isFilled&&pe.createElement(wi,{size:16,stroke:"none",fill:vs[n][i.color]}),$c[i.dash]))),pe.createElement(At,{id:"TD-StylesMenu",side:"bottom",align:"end",sideOffset:4,alignOffset:4},pe.createElement(Br,{variant:"tall",id:"TD-Styles-Color-Container"},pe.createElement("span",null,pe.createElement(un.FormattedMessage,{id:"style.menu.color"})),pe.createElement(Kde,null,Object.keys(Uo.light).map(b=>pe.createElement(co.Item,{key:b,onSelect:Oe,asChild:!0,id:`TD-Styles-Color-Swatch-${b}`},pe.createElement(Ie,{variant:"icon",isActive:i.color===b,onClick:()=>e.style({color:b}),"aria-label":t.formatMessage({id:b})},pe.createElement(wi,{size:18,strokeWidth:2.5,fill:i.isFilled?vs[n][b]:"transparent",stroke:Uo.light[b]})))))),pe.createElement(Rt,{variant:"styleMenu",checked:!!i.isFilled,onCheckedChange:m,id:"TD-Styles-Fill"},pe.createElement(un.FormattedMessage,{id:"style.menu.fill"})),pe.createElement(Br,{id:"TD-Styles-Dash-Container"},pe.createElement(un.FormattedMessage,{id:"style.menu.dash"}),pe.createElement(Ys,{dir:"ltr",value:i.dash,onValueChange:h},Object.values(Sn).map(b=>pe.createElement(Tr,{key:b,isActive:b===i.dash,value:b,onSelect:Oe,bp:rt,id:`TD-Styles-Dash-${b}`,"aria-label":t.formatMessage({id:b})},$c[b])))),pe.createElement(Br,{id:"TD-Styles-Size-Container"},pe.createElement(un.FormattedMessage,{id:"style.menu.size"}),pe.createElement(Ys,{dir:"ltr",value:i.size,onValueChange:g},Object.values(Sr).map(b=>pe.createElement(Tr,{key:b,isActive:b===i.size,value:b,onSelect:Oe,bp:rt,id:`TD-Styles-Dash-${b}`,"aria-label":t.formatMessage({id:b})},Vde[b])))),(s==="text"||s==="label")&&pe.createElement(pe.Fragment,null,pe.createElement(Ee,null),pe.createElement(Br,{id:"TD-Styles-Font-Container"},pe.createElement(un.FormattedMessage,{id:"style.menu.font"}),pe.createElement(Ys,{dir:"ltr",value:i.font,onValueChange:f},Object.values(Ao).map(b=>pe.createElement(Tr,{key:b,isActive:b===i.font,value:b,onSelect:Oe,bp:rt,id:`TD-Styles-Font-${b}`},pe.createElement(Yde,{fontStyle:b},"Aa"))))),s==="text"&&pe.createElement(Br,{id:"TD-Styles-Align-Container"},pe.createElement(un.FormattedMessage,{id:"style.menu.align"}),pe.createElement(Ys,{dir:"ltr",value:i.textAlign,onValueChange:T},Object.values(Gt).map(b=>pe.createElement(Tr,{key:b,isActive:b===i.textAlign,value:b,onSelect:Oe,bp:rt,id:`TD-Styles-Align-${b}`},$de[b]))))),pe.createElement(Ee,null),pe.createElement(Rt,{variant:"styleMenu",checked:o,onCheckedChange:p,id:"TD-Styles-Keep-Open"},pe.createElement(un.FormattedMessage,{id:"style.menu.keep.open"}))))}),Kde=H("div",{display:"grid",gridTemplateColumns:"repeat(4, auto)",gap:0}),Br=H("div",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",minHeight:"32px",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",padding:"$2 0 $2 $3",borderRadius:4,userSelect:"none",WebkitUserSelect:"none",margin:0,display:"flex",gap:"$3",flexDirection:"row",alignItems:"center",justifyContent:"space-between",variants:{variant:{tall:{alignItems:"flex-start",padding:"0 0 0 $3","& > span":{paddingTop:"$4"}}}}}),Ys=H(co.DropdownMenuRadioGroup,{display:"flex",flexDirection:"row",gap:"$1"}),_de=H("div",{display:"grid","& > *":{gridColumn:1,gridRow:1}}),Yde=H("div",{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"$3",variants:{fontStyle:{["script"]:{fontFamily:"Caveat Brush"},["sans"]:{fontFamily:"Recursive"},["serif"]:{fontFamily:"Georgia"},["mono"]:{fontFamily:"Recursive Mono"}}}});var Zs=V(require("@radix-ui/react-dropdown-menu")),Et=V(require("react")),nr=require("react-intl");var Zde=r=>r.document.pageStates[r.appState.currentPageId].camera.zoom,Wc=function(){let e=ge(),t=e.useStore(Zde);return Et.createElement(Zs.Root,{dir:"ltr"},Et.createElement(Zs.Trigger,{dir:"ltr",asChild:!0,id:"TD-Zoom"},Et.createElement(Xde,{onDoubleClick:e.resetZoom,variant:"text"},Math.round(t*100),"%")),Et.createElement(At,{align:"end"},Et.createElement(ve,{onSelect:Oe,onClick:e.zoomIn,kbd:"#+",id:"TD-Zoom-Zoom_In"},Et.createElement(nr.FormattedMessage,{id:"zoom.in"})),Et.createElement(ve,{onSelect:Oe,onClick:e.zoomOut,kbd:"#\u2212",id:"TD-Zoom-Zoom_Out"},Et.createElement(nr.FormattedMessage,{id:"zoom.out"})),Et.createElement(ve,{onSelect:Oe,onClick:e.resetZoom,kbd:"\u21E70",id:"TD-Zoom-Zoom_To_100%"},Et.createElement(nr.FormattedMessage,{id:"zoom.to"})," 100%"),Et.createElement(ve,{onSelect:Oe,onClick:e.zoomToFit,kbd:"\u21E71",id:"TD-Zoom-To_Fit"},Et.createElement(nr.FormattedMessage,{id:"zoom.to.fit"})),Et.createElement(ve,{onSelect:Oe,onClick:e.zoomToSelection,kbd:"\u21E72",id:"TD-Zoom-To_Selection"},Et.createElement(nr.FormattedMessage,{id:"zoom.to.selection"}))))},Xde=H(Ie,{minWidth:56});function qde({readOnly:r,showPages:e,showMenu:t,showStyles:n,showZoom:o,showMultiplayerMenu:s}){let a=ge(),d=(0,Uc.useIntl)();return ut.createElement(Jde,null,(t||e)&&ut.createElement(So,{side:"left",id:"TD-MenuPanel"},t&&ut.createElement(Ad,{readOnly:r}),s&&ut.createElement(Fc,null),e&&ut.createElement(Vc,null)),ut.createElement(Qde,null),(n||o)&&ut.createElement(So,{side:"right"},a.readOnly?ut.createElement(ece,null,"Read Only"):ut.createElement(ut.Fragment,null,ut.createElement(on,{kbd:"#Z",label:d.formatMessage({id:"undo"}),onClick:a.undo,id:"TD-TopPanel-Undo","aria-label":d.formatMessage({id:"undo"})},ut.createElement(Di,null)),ut.createElement(on,{kbd:"#\u21E7Z",label:d.formatMessage({id:"redo"}),onClick:a.redo,id:"TD-TopPanel-Redo","aria-label":d.formatMessage({id:"redo"})},ut.createElement(Di,{flipHorizontal:!0}))),o&&ut.createElement(Wc,null),n&&!r&&ut.createElement(Nc,null)))}var Jde=H("div",{width:"100%",position:"absolute",top:0,left:0,right:0,display:"flex",flexDirection:"row",pointerEvents:"none","& > *":{pointerEvents:"all"}}),Qde=H("div",{flexGrow:2,pointerEvents:"none"}),ece=H("div",{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"$ui",fontSize:"$1",paddingLeft:"$4",paddingRight:"$1",userSelect:"none",WebkitUserSelect:"none"}),Kc=ut.memo(qde);var _c=V(require("react"));function Yc(r){_c.default.useEffect(()=>{let e=!1,t=!1,n=r.current;if(!n)return;let o=i=>{i.key===" "&&!t&&(t=!0,e?n.setAttribute("style","cursor: grabbing !important"):n.setAttribute("style","cursor: grab !important"))},s=i=>{i.key===" "&&(t=!1,n.setAttribute("style","cursor: initial"))},a=i=>{e=!0,i.button===1&&n.setAttribute("style","cursor: grabbing !important"),i.button===0&&t&&n.setAttribute("style","cursor: grabbing !important")},d=()=>{e=!1,t?n.setAttribute("style","cursor: grab !important"):n.setAttribute("style","cursor: initial")};return n.addEventListener("keydown",o),n.addEventListener("keyup",s),n.addEventListener("pointerdown",a),n.addEventListener("pointerup",d),()=>{n.removeEventListener("keydown",o),n.removeEventListener("keyup",s),n.removeEventListener("pointerdown",a),n.removeEventListener("pointerup",d)}},[r.current])}var Dt=require("@tldraw/core"),we=require("@tldraw/vec");var Rr=require("idb-keyval"),Zc="tldraw_clipboard";function Xc(){return ue(this,null,function*(){return(0,Rr.get)(Zc)})}function qc(r){return ue(this,null,function*(){return(0,Rr.set)(Zc,r)})}var Jc=require("@tldraw/core"),ko=V(require("idb-keyval")),Qc=V(require("zustand")),ep=V(require("zustand/vanilla"));var ha=class{constructor(e,t,n,o){l(this,"_idbId");l(this,"initialState");l(this,"store");l(this,"pointer",-1);l(this,"_state");l(this,"_status","loading");l(this,"stack",[]);l(this,"_snapshot");l(this,"useStore");l(this,"ready");l(this,"isPaused",!1);l(this,"persist",(e,t)=>{if(this._status==="ready"&&(this.onPersist&&this.onPersist(this._state,e,t),this._idbId))return ko.set(this._idbId,this._state).catch(n=>console.error(n))});l(this,"applyPatch",(e,t)=>{let n=this._state,o=Jc.Utils.deepMerge(this._state,e),s=this.cleanup(o,n,e,t);return this.onStateWillChange&&this.onStateWillChange(s,t),this._state=s,this.store.setState(this._state,!0),this.onStateDidChange&&this.onStateDidChange(this._state,t),this});l(this,"migrate",e=>e);l(this,"cleanup",(e,t,n,o)=>e);l(this,"onStateWillChange");l(this,"onStateDidChange");l(this,"patchState",(e,t)=>(this.applyPatch(e,t),this.onPatch&&this.onPatch(this._state,e,t),this));l(this,"replaceState",(e,t)=>{let n=this.cleanup(e,this._state,e,t);return this.onStateWillChange&&this.onStateWillChange(n,"replace"),this._state=n,this.store.setState(this._state,!0),this.onStateDidChange&&this.onStateDidChange(this._state,"replace"),this});l(this,"setState",(e,t=e.id)=>(this.pointer<this.stack.length-1&&(this.stack=this.stack.slice(0,this.pointer+1)),this.stack.push(x(S({},e),{id:t})),this.pointer=this.stack.length-1,this.applyPatch(e.after,t),this.onCommand&&this.onCommand(this._state,e,t),this.persist(e.after,t),this));l(this,"onReady");l(this,"onPatch");l(this,"onCommand");l(this,"onPersist");l(this,"onReplace");l(this,"onReset");l(this,"onResetHistory");l(this,"onUndo");l(this,"onRedo");l(this,"reset",()=>(this.onStateWillChange&&this.onStateWillChange(this.initialState,"reset"),this._state=this.initialState,this.store.setState(this._state,!0),this.resetHistory(),this.persist({},"reset"),this.onStateDidChange&&this.onStateDidChange(this._state,"reset"),this.onReset&&this.onReset(this._state),this));l(this,"replaceHistory",(e,t=e.length-1)=>(this.stack=e,this.pointer=t,this.onReplace&&this.onReplace(this._state),this));l(this,"resetHistory",()=>(this.stack=[],this.pointer=-1,this.onResetHistory&&this.onResetHistory(this._state),this));l(this,"undo",()=>{if(!this.isPaused){if(!this.canUndo)return this;let e=this.stack[this.pointer];this.pointer--,this.applyPatch(e.before,"undo"),this.persist(e.before,"undo")}return this.onUndo&&this.onUndo(this._state),this});l(this,"redo",()=>{if(!this.isPaused){if(!this.canRedo)return this;this.pointer++;let e=this.stack[this.pointer];this.applyPatch(e.after,"redo"),this.persist(e.after,"undo")}return this.onRedo&&this.onRedo(this._state),this});l(this,"setSnapshot",()=>(this._snapshot=S({},this._state),this));l(this,"forceUpdate",()=>{this.store.setState(this._state,!0)});this._idbId=t,this._state=xt(e),this._snapshot=xt(e),this.initialState=xt(e),this.store=(0,ep.default)(()=>this._state),this.useStore=(0,Qc.default)(this.store),this.ready=new Promise(s=>{let a="none";this._idbId?(a="restored",ko.get(this._idbId).then(d=>ue(this,null,function*(){if(d){let i=d;if(n){let u=yield ko.get(t+"_version");u&&u<n&&(i=o?o(d,e,u):e,a="migrated")}yield ko.set(t+"_version",n||-1);let c=this._state.appState.isEmptyCanvas;i=this.migrate(i),this._state=xt(i),this._snapshot=xt(i),this._state.appState.isEmptyCanvas=c,this.store.setState(this._state,!0)}else yield ko.set(t+"_version",n||-1);this._status="ready",s(a)})).catch(d=>console.error(d))):(this._status="ready",s(a))}).then(s=>(this.onReady&&this.onReady(s),s))}pause(){this.isPaused=!0}resume(){this.isPaused=!1}get canUndo(){return this.pointer>-1}get canRedo(){return this.pointer<this.stack.length-1}get state(){return this._state}get status(){return this._status}get snapshot(){return this._snapshot}};var tp=require("@tldraw/core"),ma=require("@tldraw/vec");function np(r,e,t){let{currentPageId:n}=r,o=e.map(m=>r.getShape(m)),s=o.map(m=>({id:m.id,point:[...m.point],bounds:k.getBounds(m)})),a=tp.Utils.getCommonBounds(s.map(({bounds:m})=>m)),d=a.minX+a.width/2,i=a.minY+a.height/2,c=Object.fromEntries(s.map(({id:m,point:h,bounds:g})=>[m,{prev:h,next:{["top"]:[h[0],a.minY],["centerVertical"]:[h[0],i-g.height/2],["bottom"]:[h[0],a.maxY-g.height],["left"]:[a.minX,h[1]],["centerHorizontal"]:[d-g.width/2,h[1]],["right"]:[a.maxX-g.width,h[1]]}[t]}])),{before:u,after:p}=k.mutateShapes(r.state,e,m=>c[m.id]?{point:c[m.id].next}:m,n,!1);return o.forEach(m=>{if(m.type==="group"){let h=ma.Vec.sub(p[m.id].point,u[m.id].point);m.children.forEach(g=>{let f=r.getShape(g);u[f.id]={point:f.point},p[f.id]={point:ma.Vec.add(f.point,h)}}),delete u[m.id],delete p[m.id]}}),{id:"align",before:{document:{pages:{[n]:{shapes:u}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:p}},pageStates:{[n]:{selectedIds:e}}}}}}function op(r,e){return{id:"change_page",before:{appState:{currentPageId:r.currentPageId}},after:{appState:{currentPageId:e}}}}var ip=require("@tldraw/core");function rp(r,e){var o;let t=r,n=new Set(e);for(;n.has(t);)t=((o=/^.*(\d+)$/.exec(t))==null?void 0:o[1])?t.replace(/(\d+)(?=\D?)$/,s=>(+s+1).toString()):`${t} 1`;return t}function sp(r,e,t){let n={shapes:{},bindings:{}},o={shapes:{},bindings:{}},s=[],a=new Set,d=new Set;e.filter(c=>!k.getShape(r,c,t).isLocked).forEach(c=>{a.add(c);let u=k.getShape(r,c,t);n.shapes[c]=u,o.shapes[c]=void 0,u.children!==void 0&&u.children.forEach(p=>{a.add(p);let m=k.getShape(r,p,t);n.shapes[p]=m,o.shapes[p]=void 0}),u.parentId!==t&&s.push(k.getShape(r,u.parentId,t)),u.assetId&&d.add(u.assetId)}),s.forEach(c=>{var u;e.includes(c.id)||(a.add(c.id),n.shapes[c.id]={children:c.children},o.shapes[c.id]={children:c.children.filter(p=>!e.includes(p))},((u=o.shapes[c.id])==null?void 0:u.children.length)===0&&(o.shapes[c.id]=void 0,n.shapes[c.id]=k.getShape(r,c.id,t)))});let i=k.getPage(r,t);return Object.values(i.bindings).filter(c=>a.has(c.fromId)||a.has(c.toId)).forEach(c=>{for(let u of[c.toId,c.fromId])if(o.shapes[u]===void 0){n.bindings[c.id]=c,o.bindings[c.id]=void 0;let p=i.shapes[u];p&&p.handles&&Object.values(p.handles).filter(m=>m.bindingId===c.id).forEach(m=>{var h,g,f,T,w,b;n.shapes[u]=x(S({},n.shapes[u]),{handles:x(S({},(h=n.shapes[u])==null?void 0:h.handles),{[m.id]:x(S({},(f=(g=n.shapes[u])==null?void 0:g.handles)==null?void 0:f[m.id]),{bindingId:c.id})})}),a.has(u)||(o.shapes[u]=x(S({},o.shapes[u]),{handles:x(S({},(T=o.shapes[u])==null?void 0:T.handles),{[m.id]:x(S({},(b=(w=o.shapes[u])==null?void 0:w.handles)==null?void 0:b[m.id]),{bindingId:void 0})})}))})}}),Object.values(r.document.pages).flatMap(c=>Object.values(c.shapes)).forEach(c=>{"assetId"in c&&c.assetId&&!a.has(c.id)&&d.delete(c.assetId)}),{before:n,after:o,assetsToRemove:Array.from(d)}}function ap(r,e,t=ip.Utils.uniqueId(),n="Page"){let{currentPageId:o}=r,s=Object.values(r.state.document.pages).sort((u,p)=>{var m,h;return((m=u.childIndex)!=null?m:0)-((h=p.childIndex)!=null?h:0)}),a=s[s.length-1],d=(a==null?void 0:a.childIndex)?(a==null?void 0:a.childIndex)+1:1,i={id:t,name:rp(n,s.map(u=>{var p;return(p=u.name)!=null?p:""})),childIndex:d,shapes:{},bindings:{}},c={id:t,selectedIds:[],camera:{point:e,zoom:1},editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0};return{id:"create_page",before:{appState:{currentPageId:o},document:{pages:{[t]:void 0},pageStates:{[t]:void 0}}},after:{appState:{currentPageId:i.id},document:{pages:{[t]:i},pageStates:{[t]:c}}}}}function ga(r,e,t=[]){let{currentPageId:n}=r,o={},s={};e.forEach(i=>{o[i.id]=void 0,s[i.id]=i});let a={},d={};return t.forEach(i=>{a[i.id]=void 0,d[i.id]=i}),{id:"create",before:{document:{pages:{[n]:{shapes:o,bindings:a}},pageStates:{[n]:{selectedIds:[...r.selectedIds]}}}},after:{document:{pages:{[n]:{shapes:s,bindings:d}},pageStates:{[n]:{selectedIds:e.map(i=>i.id)}}}}}}function lp(r,e){let{currentPageId:t,document:{pages:n,pageStates:o}}=r,s=Object.values(n).sort((i,c)=>(i.childIndex||0)-(c.childIndex||0)),a=s.findIndex(i=>i.id===e),d;return e===t?a===s.length-1?d=s[s.length-2].id:d=s[a+1].id:d=t,{id:"delete_page",before:{appState:{currentPageId:e},document:{pages:{[e]:S({},n[e])},pageStates:{[e]:S({},o[e])}}},after:{appState:{currentPageId:d},document:{pages:{[e]:void 0},pageStates:{[e]:void 0}}}}}var tce=(r,e)=>{let t=S({},r);return e.forEach(n=>t[n]=void 0),t};function fa(r,e,t=r.currentPageId){let{pageState:n,selectedIds:o,document:{assets:s}}=r,{before:a,after:d,assetsToRemove:i}=sp(r.state,e,t),c=tce(s,i);return{id:"delete",before:{document:{assets:s,pages:{[t]:a},pageStates:{[t]:{selectedIds:[...r.selectedIds]}}}},after:{document:{assets:c,pages:{[t]:d},pageStates:{[t]:{selectedIds:o.filter(u=>!e.includes(u)),hoveredId:n.hoveredId&&e.includes(n.hoveredId)?void 0:n.hoveredId}}}}}}var dp=require("@tldraw/core"),Sa=V(require("@tldraw/vec"));function cp(r,e,t){let{currentPageId:n}=r,o=e.map(i=>r.getShape(i)),s=Object.fromEntries(nce(o,t).map(i=>[i.id,i])),{before:a,after:d}=k.mutateShapes(r.state,e.filter(i=>s[i]!==void 0),i=>{var c;return{point:(c=s[i.id])==null?void 0:c.next}},n);return o.forEach(i=>{if(i.type==="group"){let c=Sa.default.sub(d[i.id].point,a[i.id].point);i.children.forEach(u=>{let p=r.getShape(u);a[p.id]={point:p.point},d[p.id]={point:Sa.default.add(p.point,c)}}),delete a[i.id],delete d[i.id]}}),{id:"distribute",before:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:d}},pageStates:{[n]:{selectedIds:e}}}}}}function nce(r,e){let t=r.map(a=>{let d=k.getShapeUtil(a);return{id:a.id,point:[...a.point],bounds:d.getBounds(a),center:d.getCenter(a)}}),n=t.length,o=dp.Utils.getCommonBounds(t.map(({bounds:a})=>a)),s=[];switch(e){case"horizontal":{let a=t.reduce((d,i)=>d+i.bounds.width,0);if(a>o.width){let d=t.sort((m,h)=>m.bounds.minX-h.bounds.minX)[0],i=t.sort((m,h)=>h.bounds.maxX-m.bounds.maxX)[0],c=t.filter(m=>m!==d&&m!==i).sort((m,h)=>m.center[0]-h.center[0]),u=(i.center[0]-d.center[0])/(n-1),p=d.center[0]+u;c.forEach(({id:m,point:h,bounds:g},f)=>{s.push({id:m,prev:h,next:[p+u*f-g.width/2,g.minY]})})}else{let d=t.sort((u,p)=>u.center[0]-p.center[0]),i=o.minX,c=(o.width-a)/(n-1);d.forEach(({id:u,point:p,bounds:m})=>{s.push({id:u,prev:p,next:[i,m.minY]}),i+=m.width+c})}break}case"vertical":{let a=t.reduce((d,i)=>d+i.bounds.height,0);if(a>o.height){let d=t.sort((m,h)=>m.bounds.minY-h.bounds.minY)[0],i=t.sort((m,h)=>h.bounds.maxY-m.bounds.maxY)[0],c=t.filter(m=>m!==d&&m!==i).sort((m,h)=>m.center[1]-h.center[1]),u=(i.center[1]-d.center[1])/(n-1),p=d.center[1]+u;c.forEach(({id:m,point:h,bounds:g},f)=>{s.push({id:m,prev:h,next:[g.minX,p+u*f-g.height/2]})})}else{let d=t.sort((u,p)=>u.center[1]-p.center[1]),i=o.minY,c=(o.height-a)/(n-1);d.forEach(({id:u,point:p,bounds:m})=>{s.push({id:u,prev:p,next:[m.minX,i]}),i+=m.height+c})}break}}return s}var or=require("@tldraw/core");function pp(r,e){let{currentPageId:t,pageState:{camera:n}}=r,o=r.document.pages[e],s=or.Utils.uniqueId(),a=Object.fromEntries([[o.id,s],...Object.keys(o.shapes).map(u=>[u,or.Utils.uniqueId()]),...Object.keys(o.bindings).map(u=>[u,or.Utils.uniqueId()])]),d=Object.fromEntries(Object.entries(o.shapes).map(([u,p])=>[a[u],x(S({},or.Utils.deepClone(p)),{id:a[u],parentId:a[p.parentId]})])),i=Object.fromEntries(Object.entries(o.bindings).map(([u,p])=>[a[u],x(S({},or.Utils.deepClone(p)),{id:a[p.id],fromId:a[p.fromId],toId:a[p.toId]})]));Object.values(o.bindings).forEach(u=>{let p=a[u.fromId],m=d[p].handles;m&&Object.values(m).forEach(f=>{f.bindingId===u.id&&(f.bindingId=a[u.id])});let h=a[u.toId],g=d[h].handles;g&&Object.values(g).forEach(f=>{f.bindingId===u.id&&(f.bindingId=a[u.id])})});let c=x(S({},o),{id:a[o.id],name:o.name+" Copy",shapes:d,bindings:i});return{id:"duplicate_page",before:{appState:{currentPageId:t},document:{pages:{[s]:void 0},pageStates:{[s]:void 0}}},after:{appState:{currentPageId:s},document:{pages:{[s]:c},pageStates:{[s]:x(S({},o),{id:s,selectedIds:[],camera:S({},n),editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0})}}}}}var Kn=require("@tldraw/core"),Xs=require("@tldraw/vec");function up(r,e,t){let{selectedIds:n,currentPageId:o,page:s,shapes:a}=r,d={shapes:{},bindings:{}},i={shapes:{},bindings:{}},c={},u=e.map(h=>r.getShape(h)).filter(h=>!e.includes(h.parentId));u.forEach(h=>{let g=Kn.Utils.uniqueId();if(d.shapes[g]=void 0,i.shapes[g]=x(S({},Kn.Utils.deepClone(h)),{id:g,childIndex:k.getChildIndexAbove(r.state,h.id,o)}),h.children&&(i.shapes[g].children=[]),h.parentId!==o){let f=r.getShape(h.parentId);d.shapes[f.id]=x(S({},d.shapes[f.id]),{children:f.children}),i.shapes[f.id]=x(S({},i.shapes[f.id]),{children:[...(i.shapes[f.id]||f).children,g]})}c[h.id]=g}),u.forEach(h=>{h.children&&h.children.forEach(g=>{var b,y;let f=r.getShape(g),T=Kn.Utils.uniqueId(),w=c[h.id];d.shapes[T]=void 0,i.shapes[T]=x(S({},Kn.Utils.deepClone(f)),{id:T,parentId:w,childIndex:k.getChildIndexAbove(r.state,f.id,o)}),c[g]=T,(y=(b=i.shapes[c[h.id]])==null?void 0:b.children)==null||y.push(T)})});let p=new Set(Object.keys(c));Object.values(s.bindings).filter(h=>p.has(h.fromId)||p.has(h.toId)).forEach(h=>{if(p.has(h.fromId))if(p.has(h.toId)){let g=Kn.Utils.uniqueId(),f=x(S({},Kn.Utils.deepClone(h)),{id:g,fromId:c[h.fromId],toId:c[h.toId]});d.bindings[g]=void 0,i.bindings[g]=f;let T=i.shapes[f.fromId];Object.values(T.handles).forEach(w=>{w.bindingId===h.id&&(w.bindingId=g)})}else{let g=i.shapes[c[h.fromId]];Object.values(g.handles).forEach(f=>{f.bindingId===h.id&&(f.bindingId=void 0)})}});let m=Object.values(i.shapes);if(t){let h=Kn.Utils.getCommonBounds(m.map(f=>k.getBounds(f))),g=Kn.Utils.getBoundsCenter(h);m.forEach(f=>{!f.point||(f.point=Xs.Vec.sub(t,Xs.Vec.sub(g,f.point)))})}else{let h=[16,16];m.forEach(g=>{!g.point||(g.point=Xs.Vec.add(g.point,h))})}return m.forEach(h=>{h.isLocked&&(h.isLocked=!1)}),{id:"duplicate",before:{document:{pages:{[o]:d},pageStates:{[o]:{selectedIds:n}}}},after:{document:{pages:{[o]:i},pageStates:{[o]:{selectedIds:Array.from(p.values()).map(h=>c[h])}}}}}}var hn=require("@tldraw/core");function ba(r,e,t){let{selectedIds:n,currentPageId:o,page:{shapes:s}}=r,a=e.map(p=>k.getBounds(s[p])),d=e.length===1&&s[e[0]].type==="group",i=hn.Utils.getCommonBounds(a),{before:c,after:u}=k.mutateShapes(r.state,e,p=>{let m=k.getBounds(p),h=p.parentId!==o;switch(t){case"horizontal":{if(h&&!d){let f=k.getBounds(s[p.parentId]),w=hn.Utils.getRelativeTransformedBoundingBox(i,i,f,!0,!1).minX-f.minX;return k.getShapeUtil(p).transform(p,x(S({},m),{minX:m.minX+w,maxX:m.maxX+w}),{type:hn.TLBoundsCorner.TopLeft,scaleX:1,scaleY:1,initialShape:p,transformOrigin:[.5,.5]})}let g=hn.Utils.getRelativeTransformedBoundingBox(i,i,m,!0,!1);return k.getShapeUtil(p).transform(p,g,{type:hn.TLBoundsCorner.TopLeft,scaleX:-1,scaleY:1,initialShape:p,transformOrigin:[.5,.5]})}case"vertical":{if(h&&!d){let f=k.getBounds(s[p.parentId]),w=hn.Utils.getRelativeTransformedBoundingBox(i,i,f,!1,!0).minY-f.minY;return k.getShapeUtil(p).transform(p,x(S({},m),{minY:m.minY+w,maxY:m.maxY+w}),{type:hn.TLBoundsCorner.TopLeft,scaleX:1,scaleY:1,initialShape:p,transformOrigin:[.5,.5]})}let g=hn.Utils.getRelativeTransformedBoundingBox(i,i,m,!1,!0);return k.getShapeUtil(p).transform(p,g,{type:hn.TLBoundsCorner.TopLeft,scaleX:1,scaleY:-1,initialShape:p,transformOrigin:[.5,.5]})}}},o,!0);return{id:"flip",before:{document:{pages:{[o]:{shapes:c}},pageStates:{[o]:{selectedIds:n}}}},after:{document:{pages:{[o]:{shapes:u}},pageStates:{[o]:{selectedIds:e}}}}}}var hp=require("@tldraw/core");function mp(r,e,t,n){var R,K;if(e.length<2)return;let o={},s={},a={},d={},i=[...e],c=[],u=[],p=[];for(let L of e){let v=r.getShape(L);if(!v.isLocked)if(v.children===void 0)c.push(v);else{let I=v.children.filter(J=>!r.getShape(J).isLocked);p.push(v),i.push(...I),c.push(...I.map(J=>r.getShape(J)).filter(Boolean))}}if(c.every(L=>L.parentId===c[0].parentId)&&c[0].parentId!==n&&((R=r.getShape(c[0].parentId).children)==null?void 0:R.length)===i.length)return;let m=k.flattenPage(r.state,n),h=Object.fromEntries(c.map(L=>[L.id,m.indexOf(L)])),g=c.sort((L,v)=>h[L.id]-h[v.id]),f=n,T=(g.filter(L=>L.parentId===n)[0]||g[0]).childIndex,w=hp.Utils.getCommonBounds(c.map(L=>k.getBounds(L)));for(o[t]=void 0,s[t]=k.getShapeUtil("group").create({id:t,childIndex:T,parentId:f,point:[w.minX,w.minY],size:[w.width,w.height],children:g.map(L=>L.id)}),g.forEach((L,v)=>{if(L.parentId!==n){let I=r.getShape(L.parentId);p.push(I)}o[L.id]=x(S({},o[L.id]),{parentId:L.parentId,childIndex:L.childIndex}),s[L.id]=x(S({},s[L.id]),{parentId:t,childIndex:v+1})});p.length>0;){let L=p.pop();if(!L)break;let v=(((K=o[L.id])==null?void 0:K.children)||L.children).filter(I=>I&&!(i.includes(I)||u.includes(I)));v.length===0?(o[L.id]=L,s[L.id]=void 0,L.parentId!==n&&(u.push(L.id),p.push(r.getShape(L.parentId)))):(o[L.id]=x(S({},o[L.id]),{children:L.children}),s[L.id]=x(S({},s[L.id]),{children:v}))}let{bindings:b}=r,y=new Set(u);return b.forEach(L=>{for(let v of[L.toId,L.fromId])if(y.has(v)){a[L.id]=L,d[L.id]=void 0;let I=r.getShape(v);I.handles&&Object.values(I.handles).filter(J=>J.bindingId===L.id).forEach(J=>{var ce,de;o[v]=x(S({},o[v]),{handles:x(S({},(ce=o[v])==null?void 0:ce.handles),{[J.id]:{bindingId:L.id}})}),u.includes(v)||(s[v]=x(S({},s[v]),{handles:x(S({},(de=s[v])==null?void 0:de.handles),{[J.id]:{bindingId:void 0}})}))})}}),{id:"group",before:{document:{pages:{[n]:{shapes:o,bindings:a}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:s,bindings:a}},pageStates:{[n]:{selectedIds:[t]}}}}}}var gp=require("@tldraw/core"),Ta=require("@tldraw/vec");function fp(r,e,t,n,o){let{page:s}=r,a={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},d={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},i=new Set,c=new Set;e.map(b=>r.getShape(b,n)).filter(b=>!b.isLocked).forEach(b=>{i.add(b.id),c.add(b),b.children!==void 0&&b.children.forEach(y=>{i.add(y),c.add(r.getShape(y,n))})});let u=k.getTopChildIndex(r.state,o),p=Array.from(c.values());p.forEach((b,y)=>{if(a.before.shapes[b.id]=b,a.after.shapes[b.id]=void 0,d.before.shapes[b.id]=void 0,d.after.shapes[b.id]=b,!i.has(b.parentId)&&(d.after.shapes[b.id]=x(S({},b),{parentId:o,childIndex:u+y}),b.parentId!==n)){let R=r.getShape(b.parentId,n);a.before.shapes[R.id]={children:R.children},a.after.shapes[R.id]={children:R.children.filter(K=>K!==b.id)}}}),Object.values(s.bindings).filter(b=>i.has(b.fromId)||i.has(b.toId)).forEach(b=>{a.before.bindings[b.id]=b,a.after.bindings[b.id]=void 0;let y=r.getShape(b.fromId,n);if(i.has(b.fromId)&&i.has(b.toId))d.before.bindings[b.id]=void 0,d.after.bindings[b.id]=b;else if(i.has(b.fromId)){let K=r.getShape(b.fromId,n),v=Object.values(y.handles).find(J=>J.bindingId===b.id).id,I=d.after.shapes[K.id];I.handles=x(S({},I.handles),{[v]:x(S({},I.handles[v]),{bindingId:void 0})})}else{let K=r.getShape(b.fromId,n),L=Object.values(y.handles).find(v=>v.bindingId===b.id);a.before.shapes[K.id]={handles:{[L.id]:{bindingId:b.id}}},a.after.shapes[K.id]={handles:{[L.id]:{bindingId:void 0}}}}});let m=r.state.document.pageStates[o],h=gp.Utils.getCommonBounds(p.map(b=>k.getBounds(b))),g=k.getCameraZoom(t.width<t.height?(t.width-128)/h.width:(t.height-128)/h.height),f=(t.width-h.width*g)/2/g,T=(t.height-h.height*g)/2/g,w=Ta.Vec.toFixed(Ta.Vec.add([-h.minX,-h.minY],[f,T]));return{id:"move_to_page",before:{appState:{currentPageId:n},document:{pages:{[n]:a.before,[o]:d.before},pageStates:{[n]:{selectedIds:e},[o]:{selectedIds:m.selectedIds,camera:m.camera}}}},after:{appState:{currentPageId:o},document:{pages:{[n]:a.after,[o]:d.after},pageStates:{[n]:{selectedIds:[]},[o]:{selectedIds:e,camera:{zoom:g,point:w}}}}}}}function Sp(r,e,t){let{pages:n}=r.document,o=n[e],s=Object.values(n).sort((i,c)=>{var u,p;return((u=i.childIndex)!=null?u:0)-((p=c.childIndex)!=null?p:0)}),a=s.indexOf(o),d=[...s];return d.splice(a,1),d.splice(t>a?t-1:t,0,o),{id:"move_page",before:{document:{pages:Object.fromEntries(s.map(i=>[i.id,{childIndex:i.childIndex}]))}},after:{document:{pages:Object.fromEntries(d.map((i,c)=>[i.id,{childIndex:c}]))}}}}function Ar(r,e,t){let{currentPageId:n,page:o}=r,s=new Set(e.map(u=>r.getShape(u).parentId)),a={before:{},after:{}},d,i,c;return Array.from(s.values()).forEach(u=>{let p=[];if(u===o.id)p=Object.values(o.shapes).sort((g,f)=>g.childIndex-f.childIndex);else{let g=r.getShape(u);if(!g.children)throw Error("No children in parent!");p=g.children.map(f=>r.getShape(f)).sort((f,T)=>f.childIndex-T.childIndex)}let m=p.map(g=>g.id),h=e.filter(g=>m.includes(g)).map(g=>m.indexOf(g)).sort((g,f)=>g-f);if(h.length!==m.length)switch(t){case"toBack":{for(let g=0;g<m.length;g++)if(!h.includes(g)){d=g;break}i=p[d].childIndex,c=i/(h.length+1),a=k.mutateShapes(r.state,h.map(g=>p[g].id).reverse(),(g,f)=>({childIndex:i-(f+1)*c}),n);break}case"toFront":{for(let g=m.length-1;g>=0;g--)if(!h.includes(g)){d=g;break}i=p[d].childIndex,c=1,a=k.mutateShapes(r.state,h.map(g=>p[g].id),(g,f)=>({childIndex:i+(f+1)}),n);break}case"backward":{let g={};for(let f=m.length-1;f>=0;f--)if(h.includes(f)){for(let T=f;T>=0;T--)if(!h.includes(T)){let w=p[T].childIndex,b,y;T===0?(b=w/2,y=w/2/(f-T+1)):(b=p[T-1].childIndex,y=(w-b)/(f-T+1),b+=y);for(let R=0;R<f-T;R++)g[p[T+R+1].id]=b+y*R;break}}Object.values(g).length>0&&(a=k.mutateShapes(r.state,h.map(f=>p[f].id),f=>({childIndex:g[f.id]}),n));break}case"forward":{let g={};for(let f=0;f<m.length;f++)if(h.includes(f)){for(let T=f;T<m.length;T++)if(!h.includes(T)){i=p[T].childIndex;let w=T===m.length-1?1:(p[T+1].childIndex-i)/(T-f+1);for(let b=0;b<T-f;b++)g[p[f+b].id]=i+w*(b+1);break}}Object.values(g).length>0&&(a=k.mutateShapes(r.state,h.map(f=>p[f].id),f=>({childIndex:g[f.id]}),n));break}}}),{id:"move",before:{document:{pages:{[n]:{shapes:a.before}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:a.after}},pageStates:{[n]:{selectedIds:e}}}}}}function bp(r,e,t){let{page:n}=r;return{id:"rename_page",before:{document:{pages:{[e]:{name:n.name}}}},after:{document:{pages:{[e]:{name:t}}}}}}function ya(r,e,t){let{currentPageId:n}=r,{before:o,after:s}=k.mutateShapes(r.state,e,a=>{var d,i;return(i=(d=r.getShapeUtil(a)).onDoubleClickBoundsHandle)==null?void 0:i.call(d,a)},t);return{id:"reset_bounds",before:{document:{pages:{[n]:{shapes:o}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:s}},pageStates:{[n]:{selectedIds:e}}}}}}var wa=require("@tldraw/core");var oce=Math.PI*2;function Tp(r,e,t=-oce/4){let{currentPageId:n}=r,o={},s={},a=e.flatMap(i=>{let c=r.getShape(i);return c.children?c.children.map(u=>r.getShape(u)):c}).filter(i=>!i.isLocked),d=wa.Utils.getBoundsCenter(wa.Utils.getCommonBounds(a.map(i=>k.getBounds(i))));return a.forEach(i=>{let c=k.getRotatedShapeMutation(i,k.getCenter(i),d,t);!c||(o[i.id]=k.getBeforeShape(i,c),s[i.id]=c)}),{id:"rotate",before:{document:{pages:{[n]:{shapes:o}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:s}},pageStates:{[n]:{selectedIds:e}}}}}}var Lr=require("@tldraw/core");function yp(r,e,t){let{currentPageId:n,selectedIds:o}=r,s=e.map(p=>r.getShape(p)),a=s.map(p=>k.getBounds(p)),d=Lr.Utils.getCommonBounds(a),i=e.flatMap(p=>{let m=r.getShape(p);return m.children?m.children:m.id}).filter(p=>!r.getShape(p).isLocked),{before:c,after:u}=k.mutateShapes(r.state,i,p=>{let m=k.getBounds(p);switch(t){case"horizontal":{let h=x(S({},m),{minX:d.minX,maxX:d.maxX,width:d.width});return k.getShapeUtil(p).transformSingle(p,h,{type:Lr.TLBoundsCorner.TopLeft,scaleX:h.width/m.width,scaleY:1,initialShape:p,transformOrigin:[.5,.5]})}case"vertical":{let h=x(S({},m),{minY:d.minY,maxY:d.maxY,height:d.height});return k.getShapeUtil(p).transformSingle(p,h,{type:Lr.TLBoundsCorner.TopLeft,scaleX:1,scaleY:h.height/m.height,initialShape:p,transformOrigin:[.5,.5]})}}},n);return s.forEach(p=>{p.type==="group"&&(delete c[p.id],delete u[p.id])}),{id:"stretch",before:{document:{pages:{[n]:{shapes:c}},pageStates:{[n]:{selectedIds:o}}}},after:{document:{pages:{[n]:{shapes:u}},pageStates:{[n]:{selectedIds:e}}}}}}var qs=require("@tldraw/vec");function wp(r,e,t){let{currentPageId:n,selectedIds:o}=r,s=e.flatMap(i=>k.getDocumentBranch(r.state,i,n)).filter(i=>!r.getShape(i).isLocked),a={},d={};return s.map(i=>r.getShape(i)).filter(i=>!i.isLocked).forEach(i=>{a[i.id]={style:S({},Object.fromEntries(Object.keys(t).map(c=>[c,i.style[c]])))},d[i.id]={style:t},i.type==="text"&&(a[i.id].point=i.point,d[i.id].point=qs.Vec.toFixed(qs.Vec.add(i.point,qs.Vec.sub(r.getShapeUtil(i).getCenter(i),r.getShapeUtil(i).getCenter(x(S({},i),{style:S(S({},i.style),t)}))))))}),{id:"style",before:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:o}}},appState:{currentStyle:S({},r.appState.currentStyle)}},after:{document:{pages:{[n]:{shapes:d}},pageStates:{[n]:{selectedIds:e}}},appState:{currentStyle:t}}}}function xp(r,e,t){let{currentPageId:n,selectedIds:o}=r,s=Object.fromEntries(e.map(d=>{var i;return[d,{decorations:{[t]:(i=r.getShape(d).decorations)==null?void 0:i[t]}}]})),a=Object.fromEntries(e.filter(d=>!r.getShape(d).isLocked).map(d=>{var i;return[d,{decorations:{[t]:((i=r.getShape(d).decorations)==null?void 0:i[t])?void 0:"arrow"}}]}));return{id:"toggle_decorations",before:{document:{pages:{[n]:{shapes:s}},pageStates:{[n]:{selectedIds:o}}}},after:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:e}}}}}}function Js(r,e,t){let{currentPageId:n}=r,o=e.map(i=>r.getShape(i)).filter(i=>t==="isLocked"?!0:!i.isLocked),s=o.every(i=>i[t]),a={},d={};return o.forEach(i=>{a[i.id]={[t]:i[t]},d[i.id]={[t]:!s}}),{id:"toggle",before:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:d}},pageStates:{[n]:{selectedIds:e}}}}}}var xa=require("@tldraw/vec");function kp(r,e,t){let{currentPageId:n,selectedIds:o}=r;r.rotationInfo.selectedIds=[...o];let s={shapes:{},bindings:{}},a={shapes:{},bindings:{}},d=e.flatMap(u=>{let p=r.getShape(u);return p.children?p.children:p.id}).filter(u=>!r.getShape(u).isLocked),i=k.mutateShapes(r.state,d,u=>({point:xa.Vec.toFixed(xa.Vec.add(u.point,t))}),n);return s.shapes=i.before,a.shapes=i.after,k.getBindings(r.state,n).filter(u=>e.includes(u.fromId)&&!e.includes(u.toId)).forEach(u=>{s.bindings[u.id]=u,a.bindings[u.id]=void 0;for(let p of[u.toId,u.fromId]){let m=r.getShape(p);!m.handles||Object.values(m.handles).filter(h=>h.bindingId===u.id).forEach(h=>{var g,f;s.shapes[p]=x(S({},s.shapes[p]),{handles:x(S({},(g=s.shapes[p])==null?void 0:g.handles),{[h.id]:{bindingId:u.id}})}),a.shapes[p]=x(S({},a.shapes[p]),{handles:x(S({},(f=a.shapes[p])==null?void 0:f.handles),{[h.id]:{bindingId:void 0}})})})}}),{id:"translate",before:{document:{pages:{[n]:s},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:a},pageStates:{[n]:{selectedIds:e}}}}}}function vp(r,e,t,n){let{bindings:o}=r,s={},a={},d={},i={},c=e,u=e.filter(p=>!t.find(m=>m.id===p));return t.filter(p=>!p.isLocked).forEach(p=>{let m=[],h=[];s[p.id]=p,a[p.id]=void 0,p.children.forEach(b=>{u.push(b);let y=r.getShape(b,n);m.push(y)});let g=p.childIndex,T=(k.getChildIndexAbove(r.state,p.id,n)-g)/m.length;m.sort((b,y)=>b.childIndex-y.childIndex).forEach((b,y)=>{s[b.id]={parentId:b.parentId,childIndex:b.childIndex},a[b.id]={parentId:n,childIndex:g+T*y}}),o.filter(b=>b.toId===p.id||b.fromId===p.id).forEach(b=>{for(let y of[b.toId,b.fromId])if(a[y]===void 0){d[b.id]=b,i[b.id]=void 0;let R=r.getShape(y,n);R.handles&&Object.values(R.handles).filter(K=>K.bindingId===b.id).forEach(K=>{var L,v;s[y]=x(S({},s[y]),{handles:x(S({},(L=s[y])==null?void 0:L.handles),{[K.id]:{bindingId:b.id}})}),h.includes(y)||(a[y]=x(S({},a[y]),{handles:x(S({},(v=a[y])==null?void 0:v.handles),{[K.id]:{bindingId:void 0}})}))})}})}),{id:"ungroup",before:{document:{pages:{[n]:{shapes:s,bindings:d}},pageStates:{[n]:{selectedIds:c}}}},after:{document:{pages:{[n]:{shapes:a,bindings:d}},pageStates:{[n]:{selectedIds:u}}}}}}function ka(r,e,t){let n=e.map(s=>s.id),o=k.mutateShapes(r.state,n.filter(s=>!r.getShape(s,t).isLocked),(s,a)=>e[a],t);return{id:"update",before:{document:{pages:{[t]:{shapes:o.before}}}},after:{document:{pages:{[t]:{shapes:o.after}}}}}}function Ip(r,e,t){let{currentPageId:n,selectedIds:o}=r,s=e.map(c=>r.getShape(c)).filter(c=>t.isLocked?!0:!c.isLocked),a={},d={},i=Object.keys(t);return s.forEach(c=>{a[c.id]=Object.fromEntries(i.map(u=>[u,c[u]])),d[c.id]=t}),{id:"set_props",before:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:o}}}},after:{document:{pages:{[n]:{shapes:d}},pageStates:{[n]:{selectedIds:o}}}}}}var Ut=require("@tldraw/core"),vo=require("@tldraw/vec");function Cp(r,e,t={}){let{currentPageId:n}=r,{point:o,select:s,overwrite:a}=t,d=r.document.pages[n],i={shapes:{},bindings:{}},c={},u={shapes:{},bindings:{}};if(a){for(let m of e.shapes)i.shapes[m.id]=d.shapes[m.id],u.shapes[m.id]=m;if(e.bindings)for(let m of e.bindings)i.bindings[m.id]=d.bindings[m.id],u.bindings[m.id]=m;if(e.assets)for(let m of e.assets)c[m.id]=m}else{let m={},h=k.getTopChildIndex(r.state,n),g=e.shapes.sort((w,b)=>w.childIndex-b.childIndex).map(w=>{let b=Ut.Utils.uniqueId();return m[w.id]=b,x(S({},Ut.Utils.deepClone(w)),{id:b})}),f=new Set;for(;g.length>0;){let w=g.shift();if(!w)break;if(f.add(w.id),w.parentId==="currentPageId")w.parentId=n,w.childIndex=h++;else{w.parentId=m[w.parentId];let b=u.shapes[w.parentId];if(!b){f.has(w.id)&&(w.parentId="currentPageId"),g.push(w);continue}b.children.push(w.id)}w.children&&(w.children=[]),i.shapes[w.id]=void 0,u.shapes[w.id]=w}Object.values(u.shapes).forEach(w=>{w.children&&w.children.length===0&&(delete i.shapes[w.id],delete u.shapes[w.id])}),e.bindings&&e.bindings.forEach(w=>{let b=Ut.Utils.uniqueId();m[w.id]=b;let y=m[w.toId],R=m[w.fromId];if(!y||!R){if(R){let I=u.shapes[R].handles;I&&Object.values(I).forEach(J=>{J.bindingId===w.id&&(J.bindingId=void 0)})}if(y){let I=u.shapes[y].handles;I&&Object.values(I).forEach(J=>{J.bindingId===w.id&&(J.bindingId=void 0)})}return}let K=u.shapes[R].handles;K&&Object.values(K).forEach(I=>{I.bindingId===w.id&&(I.bindingId=b)}),u.shapes[y].handles&&Object.values(u.shapes[y].handles).forEach(I=>{I.bindingId===w.id&&(I.bindingId=b)});let v=x(S({},Ut.Utils.deepClone(w)),{id:b,toId:y,fromId:R});i.bindings[v.id]=void 0,u.bindings[v.id]=v});let T=Object.values(u.shapes);if(T.length>0)if(o){let w=Ut.Utils.getCommonBounds(T.map(y=>k.getBounds(y))),b=Ut.Utils.getBoundsCenter(w);T.forEach(y=>{!y.point||(y.point=vo.Vec.sub(o,vo.Vec.sub(b,y.point)))})}else{let w=Ut.Utils.getCommonBounds(T.map(k.getBounds));if(!(Ut.Utils.boundsContain(r.viewport,w)||Ut.Utils.boundsCollide(r.viewport,w))){let b=vo.Vec.toFixed(r.getPagePoint(r.centerPoint)),y=Ut.Utils.centerBounds(w,b),R=vo.Vec.sub(Ut.Utils.getBoundsCenter(y),Ut.Utils.getBoundsCenter(w));T.forEach(K=>{K.point=vo.Vec.toFixed(vo.Vec.add(K.point,R))})}}if(e.assets)for(let w of e.assets)c[w.id]=w}let p=document.createElement("textarea");return Object.values(u.shapes).forEach(m=>{"text"in m&&(p.innerHTML=m.text,m.text=p.value),"label"in m&&(p.innerHTML=m.label,m.label=p.value)}),p.remove(),{id:"insert",before:{document:{pages:{[n]:i},pageStates:{[n]:{selectedIds:[...r.selectedIds]}}}},after:{document:{pages:{[n]:u},assets:c,pageStates:{[n]:{selectedIds:s?Object.keys(u.shapes):[...r.selectedIds]}}}}}}var rr={};Ja(rr,{fileToBase64:()=>Pa,fileToText:()=>Ma,getImageSizeFromSrc:()=>Ea,getVideoSizeFromSrc:()=>Ba,loadFileHandle:()=>va,migrate:()=>An,openAssetsFromFileSystem:()=>Da,openFromFileSystem:()=>Ca,saveFileHandle:()=>Ia,saveToFileSystem:()=>ei});function An(r,e){let{document:t,settings:n}=r,{version:o=0}=t;"assets"in t||(t.assets={});let s=new Set;return Object.values(t.pages).forEach(a=>Object.values(a.shapes).forEach(d=>{let{parentId:i,children:c,assetId:u}=d;u&&s.add(u),i!==a.id&&!a.shapes[i]&&(console.warn("Encountered a shape with a missing parent!"),d.parentId=a.id),d.type==="group"&&c&&c.forEach(p=>{a.shapes[p]||(console.warn("Encountered a parent with a missing child!",d.id,p),c==null||c.splice(c.indexOf(p),1))})})),Object.keys(t.assets).forEach(a=>{s.has(a)||delete t.assets[a]}),o!==e&&(o<14&&Object.values(t.pages).forEach(a=>{Object.values(a.shapes).filter(d=>d.type==="text").forEach(d=>d.style.font==="script")}),o<=13&&Object.values(t.pages).forEach(a=>{Object.values(a.bindings).forEach(d=>{Object.assign(d,d.meta)}),Object.values(a.shapes).forEach(d=>{Object.entries(d.style).forEach(([i,c])=>{typeof c=="string"&&(d.style[i]=c.toLowerCase())}),d.type==="arrow"&&d.decorations&&Object.entries(d.decorations).forEach(([i,c])=>{c==="Arrow"&&(d.decorations=x(S({},d.decorations),{[i]:"arrow"}))})})}),o<=13.1&&(t.name="New Document"),o<15&&(t.assets={}),Object.values(t.pages).forEach(a=>{Object.values(a.shapes).forEach(d=>{o<15.2&&(d.type==="image"||d.type==="video")&&(d.style.isFilled=!0),o<15.3&&(d.type==="rectangle"||d.type==="triangle"||d.type==="ellipse"||d.type==="arrow")&&(d.label=d.text||"",d.labelPoint=[.5,.5])})}),o<15.4&&(n.dockPosition="bottom"),o<15.5&&(n.exportBackground="transparent")),Object.values(t.pageStates).forEach(a=>{a.selectedIds=a.selectedIds.filter(d=>t.pages[a.id].shapes[d]!==void 0),a.bindingId=void 0,a.editingId=void 0,a.hoveredId=void 0,a.pointedId=void 0}),t.version=e,r}var Io=require("browser-fs-access"),Qs=require("idb-keyval");var Dp={mode:"readwrite"},sce=r=>ue(void 0,null,function*(){return(yield r.queryPermission(Dp))==="granted"||(yield r.requestPermission(Dp))==="granted"});function va(){return ue(this,null,function*(){if(typeof Window=="undefined"||!("_location"in Window))return;let r=yield(0,Qs.get)(`Tldraw_file_handle_${window.location.origin}`);return r||null})}function Ia(r){return ue(this,null,function*(){return(0,Qs.set)(`Tldraw_file_handle_${window.location.origin}`,r)})}function ei(r,e,t){return ue(this,null,function*(){let n={name:r.name||"New Document",fileHandle:e!=null?e:null,document:r},o=JSON.stringify(n),s=new Blob([o],{type:"application/vnd.Tldraw+json"});if(e&&!(yield sce(e)))return null;let a=!Io.supported&&(t==null?void 0:t.length)?t:`${n.name}`,d=yield(0,Io.fileSave)(s,{fileName:`${a}${ys}`,description:"Tldraw File",extensions:[`${ys}`]},e);return yield Ia(d),d})}function Ca(){return ue(this,null,function*(){var o;let r=yield(0,Io.fileOpen)({description:"Tldraw File",extensions:[`${ys}`],multiple:!1});if(!r)return null;let e=yield new Promise(s=>{let a=new FileReader;a.onloadend=()=>{a.readyState===FileReader.DONE&&s(a.result)},a.readAsText(r,"utf8")}),t=JSON.parse(e);if("tldrawFileFormatVersion"in t)return alert("This file was created in a newer version of tldraw. Please visit beta.tldraw.com to open it."),null;let n=(o=r.handle)!=null?o:null;return yield Ia(n),{fileHandle:n,document:t.document}})}function Da(){return ue(this,null,function*(){return(0,Io.fileOpen)({description:"Image or Video",extensions:[...ws,...xs],multiple:!0})})}function Pa(r){return new Promise((e,t)=>{if(r){let n=new FileReader;n.readAsDataURL(r),n.onload=()=>e(n.result),n.onerror=o=>t(o),n.onabort=o=>t(o)}})}function Ma(r){return new Promise((e,t)=>{if(r){let n=new FileReader;n.readAsText(r),n.onload=()=>e(n.result),n.onerror=o=>t(o),n.onabort=o=>t(o)}})}function Ea(r){return new Promise((e,t)=>{let n=new Image;n.onload=()=>e([n.width,n.height]),n.onerror=()=>t(new Error("Could not get image size")),n.src=r})}function Ba(r){return new Promise((e,t)=>{let n=document.createElement("video");n.onloadedmetadata=()=>e([n.videoWidth,n.videoHeight]),n.onerror=()=>t(new Error("Could not get video size")),n.src=r})}Mo(rr,require("browser-fs-access"));var Ln=require("@tldraw/core"),Ve=require("@tldraw/vec");var Je=class{constructor(e){this.app=e}};var Ra=class extends Je{constructor(e,t,n,o=!1){super(e);l(this,"type","arrow");l(this,"performanceMode");l(this,"status","translatingHandle");l(this,"newStartBindingId",Ln.Utils.uniqueId());l(this,"draggedBindingId",Ln.Utils.uniqueId());l(this,"didBind",!1);l(this,"initialShape");l(this,"handleId");l(this,"bindableShapeIds");l(this,"initialBinding");l(this,"startBindingShapeId");l(this,"isCreate");l(this,"start",()=>{});l(this,"update",()=>{var K,L,v;let{initialShape:e}=this,{currentPoint:t,shiftKey:n,altKey:o,metaKey:s,currentGrid:a,settings:{showGrid:d}}=this.app,i=this.app.getShape(e.id);if(i.isLocked)return;let{handles:c}=e,u=this.handleId;if(!c[u].canBind)return;let p=Ve.Vec.sub(t,Ve.Vec.add(c[u].point,e.point));if(n){let I=o?Ve.Vec.med(c.start.point,c.end.point):c[u==="start"?"end":"start"].point,J=c[u].point,ce=Ve.Vec.add(J,p),de=Ve.Vec.angle(I,ce),He=Ve.Vec.rotWith(ce,I,Ln.Utils.snapAngleToSegments(de,24)-de);p=Ve.Vec.add(p,Ve.Vec.sub(He,ce))}let m=Ve.Vec.add(c[u].point,p),h={[u]:x(S({},c[u]),{point:d?Ve.Vec.snap(m,a):Ve.Vec.toFixed(m),bindingId:void 0})},g=Rn["arrow"],f=(K=g.onHandleChange)==null?void 0:K.call(g,e,h);if(!f)return;let T={shape:Ln.Utils.deepMerge(i,f),bindings:{}},w,b=T.shape.handles[this.handleId],y=T.shape.handles[this.handleId==="start"?"end":"start"];if(this.startBindingShapeId){let I,J=this.app.page.shapes[this.startBindingShapeId],ce=k.getShapeUtil(J),de=ce.getCenter(J),He=T.shape.handles.start,Pe=T.shape.handles.end,Me=Ve.Vec.add(He.point,T.shape.point);Ve.Vec.isEqual(Me,de)&&Me[1]++;let Ue=de,Ke=ce.hitTestPoint(J,t),Kt=Ve.Vec.uni(Ve.Vec.sub(Me,Ue)),gn=this.app.getBinding(this.newStartBindingId)!==void 0;!s&&!ce.hitTestPoint(J,Ve.Vec.add(T.shape.point,Pe.point))&&(I=this.findBindingPoint(i,J,"start",this.newStartBindingId,de,Ue,Kt,Ke)),I&&!gn?(this.didBind=!0,T.bindings[this.newStartBindingId]=I,T.shape=Ln.Utils.deepMerge(T.shape,{handles:{start:{bindingId:I.id}}})):!I&&gn&&(this.didBind=!1,T.bindings[this.newStartBindingId]=void 0,T.shape=Ln.Utils.deepMerge(e,{handles:{start:{bindingId:void 0}}}))}if(!s){let I=Ve.Vec.add(y.point,T.shape.point),J=Ve.Vec.add(b.point,T.shape.point),ce=Ve.Vec.uni(Ve.Vec.sub(J,I)),de=Ve.Vec.add(T.shape.point,T.shape.handles.start.point),He=Ve.Vec.add(T.shape.point,T.shape.handles.end.point),Pe=this.bindableShapeIds.map(Me=>this.app.page.shapes[Me]).sort((Me,Ue)=>Ue.childIndex-Me.childIndex).filter(Me=>{if(Me.isLocked)return!1;let Ue=k.getShapeUtil(Me);return![de,He].every(Ke=>Ue.hitTestPoint(Me,Ke))});for(let Me of Pe)if(w=this.findBindingPoint(i,Me,this.handleId,this.draggedBindingId,J,I,ce,o),w)break}if(w)this.didBind=!0,T.bindings[this.draggedBindingId]=w,T.shape=Ln.Utils.deepMerge(T.shape,{handles:{[this.handleId]:{bindingId:this.draggedBindingId}}});else{this.didBind=this.didBind||!1;let I=i.handles[this.handleId].bindingId;I!==void 0&&(T.bindings[I]=void 0,T.shape=Ln.Utils.deepMerge(T.shape,{handles:{[this.handleId]:{bindingId:void 0}}}))}let R=(v=(L=k.getShapeUtil(T.shape)).onHandleChange)==null?void 0:v.call(L,T.shape,T.shape.handles);return{document:{pages:{[this.app.currentPageId]:{shapes:{[i.id]:S(S({},T.shape),R!=null?R:{})},bindings:T.bindings}},pageStates:{[this.app.currentPageId]:{bindingId:T.shape.handles[u].bindingId}}}}});l(this,"cancel",()=>{let{initialShape:e,initialBinding:t,newStartBindingId:n,draggedBindingId:o}=this,s=k.onSessionComplete(this.app.page.shapes[e.id]),a=this.isCreate||Ve.Vec.dist(s.handles.start.point,s.handles.end.point)<4,d={};return d[o]=void 0,t&&(d[t.id]=a?void 0:t),n&&(d[n]=void 0),{document:{pages:{[this.app.currentPageId]:{shapes:{[e.id]:a?void 0:e},bindings:d}},pageStates:{[this.app.currentPageId]:{selectedIds:a?[]:[e.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}}});l(this,"complete",()=>{let{initialShape:e,initialBinding:t,newStartBindingId:n,startBindingShapeId:o,handleId:s}=this,a=k.onSessionComplete(this.app.page.shapes[e.id]),d=a.handles[s].bindingId,i=Ve.Vec.dist(a.handles.start.point,a.handles.end.point);if(!(d||t)&&i<4)return this.cancel();let c={},u={};return t&&(c[t.id]=this.isCreate?void 0:t,u[t.id]=void 0),d&&(c[d]=void 0,u[d]=this.app.page.bindings[d]),o&&(c[n]=void 0,u[n]=this.app.page.bindings[n]),{id:"arrow",before:{document:{pages:{[this.app.currentPageId]:{shapes:{[e.id]:this.isCreate?void 0:e},bindings:c}},pageStates:{[this.app.currentPageId]:{selectedIds:this.isCreate?[]:[e.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}},after:{document:{pages:{[this.app.currentPageId]:{shapes:{[e.id]:a},bindings:u}},pageStates:{[this.app.currentPageId]:{selectedIds:[e.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}}}});l(this,"findBindingPoint",(e,t,n,o,s,a,d,i)=>{let u=k.getShapeUtil(t.type).getBindingPoint(t,e,s,a,d,i);if(!!u)return{id:o,type:"arrow",fromId:e.id,toId:t.id,handleId:n,point:Ve.Vec.toFixed(u.point),distance:u.distance}});var c,u,p;this.isCreate=o;let{currentPageId:s}=e.state.appState,a=e.state.document.pages[s];this.handleId=n,this.initialShape=xt(a.shapes[t]),this.bindableShapeIds=k.getBindableShapeIds(e.state).filter(m=>!(m===this.initialShape.id||m===this.initialShape.parentId));let d=(c=this.initialShape.handles[n==="start"?"end":"start"])==null?void 0:c.bindingId;if(d){let m=(u=a.bindings[d])==null?void 0:u.toId;m&&(this.bindableShapeIds=this.bindableShapeIds.filter(h=>h!==m))}let{originPoint:i}=this.app;if(this.isCreate)this.startBindingShapeId=(p=this.bindableShapeIds.map(m=>a.shapes[m]).filter(m=>!m.isLocked&&Ln.Utils.pointInBounds(i,k.getShapeUtil(m).getBounds(m))).sort((m,h)=>h.childIndex-m.childIndex)[0])==null?void 0:p.id,this.startBindingShapeId&&this.bindableShapeIds.splice(this.bindableShapeIds.indexOf(this.startBindingShapeId),1);else{let m=this.initialShape.handles[this.handleId].bindingId;m?this.initialBinding=a.bindings[m]:this.initialShape.handles[this.handleId].bindingId=void 0}}};var Aa=require("@tldraw/core");var La=class extends Je{constructor(e){super(e);l(this,"type","brush");l(this,"performanceMode");l(this,"status","brushing");l(this,"initialSelectedIds");l(this,"shapesToTest");l(this,"start",()=>{});l(this,"update",()=>{let{initialSelectedIds:e,shapesToTest:t,app:{metaKey:n,settings:o,originPoint:s,currentPoint:a}}=this,d=Aa.Utils.getBoundsFromPoints([s,a]),i=o.isCadSelectMode?!n&&s[0]<a[0]:n,c=new Set,u=new Set(e);t.forEach(({id:g,selectId:f})=>{let T=this.app.getShape(g);if(!c.has(f)){let w=this.app.getShapeUtil(T);(i?Aa.Utils.boundsContain(d,w.getBounds(T)):w.hitTestBounds(T,d))?(c.add(f),u.has(f)||u.add(f)):u.has(f)&&u.delete(f)}});let p=this.app.selectedIds,m=u.size!==p.length||p.some(g=>!u.has(g)),h=m?Array.from(u.values()):p;return m?{appState:{selectByContain:i},document:{pageStates:{[this.app.currentPageId]:{brush:d,selectedIds:h}}}}:{appState:{selectByContain:i},document:{pageStates:{[this.app.currentPageId]:{brush:d}}}}});l(this,"cancel",()=>({appState:{selectByContain:!1},document:{pageStates:{[this.app.currentPageId]:{brush:null,selectedIds:Array.from(this.initialSelectedIds.values())}}}}));l(this,"complete",()=>({appState:{selectByContain:!1},document:{pageStates:{[this.app.currentPageId]:{brush:null,selectedIds:[...this.app.selectedIds]}}}}));let{currentPageId:t}=e;this.initialSelectedIds=new Set(this.app.selectedIds),this.shapesToTest=this.app.shapes.filter(n=>!(n.isLocked||n.isHidden||n.parentId!==t||this.initialSelectedIds.has(n.id)||this.initialSelectedIds.has(n.parentId))).map(n=>({id:n.id,bounds:this.app.getShapeUtil(n).getBounds(n),selectId:n.id})),this.update()}};var nt=require("@tldraw/vec");var Ha=class extends Je{constructor(e,t){super(e);l(this,"type","draw");l(this,"performanceMode");l(this,"status","creating");l(this,"topLeft");l(this,"points");l(this,"initialShape");l(this,"lastAdjustedPoint");l(this,"shiftedPoints",[]);l(this,"shapeId");l(this,"isLocked");l(this,"isExtending");l(this,"lockedDirection");l(this,"start",()=>{var s;let e=this.app.originPoint,t=[0,0,(s=e[2])!=null?s:.5];this.points.push(t);let n=[Math.min(this.topLeft[0],e[0]),Math.min(this.topLeft[1],e[1])],o=nt.Vec.sub(n,e);return this.topLeft=n,this.shiftedPoints=this.points.map(a=>nt.Vec.toFixed(nt.Vec.sub(a,o)).concat(a[2])),{document:{pages:{[this.app.currentPageId]:{shapes:{[this.shapeId]:{point:this.topLeft,points:this.shiftedPoints}}}},pageStates:{[this.app.currentPageId]:{selectedIds:[this.shapeId]}}}}});l(this,"update",()=>{let{shapeId:e}=this,{currentPoint:t,originPoint:n,shiftKey:o,zoom:s}=this.app;if(!this.lockedDirection&&this.points.length>1){let d=nt.Vec.sub(t,n);nt.Vec.len(d)>3/s&&(this.lockedDirection=Math.abs(d[0])>Math.abs(d[1])?"horizontal":"vertical")}if(o){if(!this.isLocked&&this.points.length>2){if(!this.lockedDirection){let i=nt.Vec.sub(t,n);nt.Vec.len(i)>3/s&&(this.lockedDirection=Math.abs(i[0])>Math.abs(i[1])?"horizontal":"vertical")}this.isLocked=!0;let d=[...this.lastAdjustedPoint];this.lockedDirection==="vertical"?d[0]=0:d[1]=0,this.points.push(d.concat(t[2]))}}else this.isLocked&&(this.isLocked=!1);this.isLocked&&(this.lockedDirection==="vertical"?t[0]=n[0]:t[1]=n[1]);let a=this.addPoint(t);if(!!a)return{document:{pages:{[this.app.currentPageId]:{shapes:{[e]:a}}},pageStates:{[this.app.currentPageId]:{selectedIds:[e]}}}}});l(this,"cancel",()=>{let{shapeId:e}=this,t=this.app.currentPageId;return{document:{pages:{[t]:{shapes:{[e]:this.isExtending?this.initialShape:void 0}}},pageStates:{[t]:{selectedIds:[]}}}}});l(this,"complete",()=>{let{shapeId:e}=this,t=this.app.currentPageId,n=this.app.getShape(e);return{id:"create_draw",before:{document:{pages:{[t]:{shapes:{[e]:this.isExtending?this.initialShape:void 0}}},pageStates:{[t]:{selectedIds:[]}}}},after:{document:{pages:{[t]:{shapes:{[e]:x(S({},n),{point:nt.Vec.toFixed(n.point),points:n.points.map(o=>nt.Vec.toFixed(o)),isComplete:!0})}}},pageStates:{[this.app.currentPageId]:{selectedIds:[]}}}}}});l(this,"addPoint",e=>{let{originPoint:t}=this.app,n=nt.Vec.toFixed(nt.Vec.sub(e,t)).concat(e[2]);if(nt.Vec.isEqual(this.lastAdjustedPoint,n))return;this.points.push(n),this.lastAdjustedPoint=n;let o=[...this.topLeft],s=[Math.min(this.topLeft[0],e[0]),Math.min(this.topLeft[1],e[1])],a=nt.Vec.sub(s,t),d;return o[0]!==s[0]||o[1]!==s[1]?(this.topLeft=s,d=this.points.map(i=>nt.Vec.toFixed(nt.Vec.sub(i,a)).concat(i[2]))):d=[...this.shiftedPoints,nt.Vec.sub(n,a).concat(n[2])],this.shiftedPoints=d,{point:this.topLeft,points:d}});var i;let{originPoint:n}=this.app;this.shapeId=t,this.initialShape=this.app.getShape(t),this.topLeft=[...this.initialShape.point];let o=[0,0,(i=n[2])!=null?i:.5],s=nt.Vec.sub(n,this.topLeft),a=this.initialShape.points.map(c=>nt.Vec.sub(c,s).concat(c[2]));this.isExtending=a.length>0;let d=[];if(this.isExtending){let c=a[a.length-1];if(c){d.push(c,c);let u=Math.floor(nt.Vec.dist(c,o)/16);if(u>1)for(let p=0;p<u;p++){let m=p/(u-1);d.push(nt.Vec.lrp(c,o,m).concat(c[2]))}else d.push(o,o)}}else d.push(o);this.points=[...a,...d],this.shiftedPoints=this.points.map(c=>nt.Vec.add(c,s).concat(c[2])),this.lastAdjustedPoint=this.points[this.points.length-1]}};var za=class extends Je{constructor(e,t,n){super(e);l(this,"type","edit");l(this,"performanceMode");l(this,"initialShape");l(this,"initialSelectedIds");l(this,"currentPageId");l(this,"isCreating");l(this,"start",()=>{});l(this,"update",()=>{});l(this,"cancel",()=>({document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:this.isCreating?void 0:this.initialShape}}},pageStates:{[this.currentPageId]:{selectedIds:this.isCreating?[]:this.initialSelectedIds,editingId:void 0}}}}));l(this,"complete",()=>{let e=this.app.getShape(this.initialShape.id);return{id:"edit",before:{document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:this.isCreating?void 0:this.initialShape}}},pageStates:{[this.currentPageId]:{selectedIds:this.isCreating?[]:this.initialSelectedIds,editingId:void 0}}}},after:{document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:e}}},pageStates:{[this.currentPageId]:{selectedIds:[e.id],editingId:void 0}}}}}});this.initialShape=e.getShape(t,e.currentPageId),this.currentPageId=e.currentPageId,this.isCreating=n,this.initialSelectedIds=[...e.selectedIds]}};var Co=require("@tldraw/vec");var Oa=class extends Je{constructor(e){super(e);l(this,"type","draw");l(this,"performanceMode");l(this,"status","creating");l(this,"isLocked");l(this,"lockedDirection");l(this,"erasedShapes",new Set);l(this,"erasedBindings",new Set);l(this,"initialSelectedShapes");l(this,"erasableShapes");l(this,"prevPoint");l(this,"prevEraseShapesSize",0);l(this,"interval");l(this,"timestamp1",0);l(this,"timestamp2",0);l(this,"prevErasePoint",[]);l(this,"loop",()=>{let e=Date.now(),t=e-this.timestamp1,n=e-this.timestamp2,{eraseLine:o}=this.app.appState,s=[...o],a=!1;t>16&&this.prevErasePoint!==this.prevPoint&&(a=!0,s=[...o,this.prevPoint],this.prevErasePoint=this.prevPoint),n>32&&s.length>1&&(a=!0,s.splice(0,Math.ceil(s.length*.1)),this.timestamp2=e),a&&this.app.patchState({appState:{eraseLine:s}},"eraseline"),this.interval=requestAnimationFrame(this.loop)});l(this,"start",()=>{});l(this,"update",()=>{let{page:e,shiftKey:t,originPoint:n,currentPoint:o,zoom:s}=this.app;if(t){let c=Co.Vec.sub(o,n);if(!this.isLocked&&Co.Vec.len(c)>3/s){if(!this.lockedDirection){let u=Co.Vec.sub(o,n);this.lockedDirection=Math.abs(u[0])>Math.abs(u[1])?"horizontal":"vertical"}this.isLocked=!0}}else this.isLocked&&(this.isLocked=!1);this.isLocked&&(this.lockedDirection==="vertical"?o[0]=n[0]:o[1]=n[1]);let a=Co.Vec.toFixed(Co.Vec.add(n,Co.Vec.sub(o,n))),d=new Set([]);this.erasableShapes.forEach(c=>{if(!this.erasedShapes.has(c)&&this.app.getShapeUtil(c).hitTestLineSegment(c,this.prevPoint,a)&&(this.erasedShapes.add(c),d.add(c.id),c.children!==void 0))for(let u of c.children)this.erasedShapes.add(this.app.getShape(u)),d.add(u)}),Object.values(e.bindings).forEach(c=>{for(let u of[c.toId,c.fromId])d.has(u)&&this.erasedBindings.add(c)}),this.erasedShapes.forEach(c=>{this.app.getShape(c.id)||(this.erasedShapes.delete(c),this.erasableShapes.delete(c),d.delete(c.id))});let i=Array.from(this.erasedShapes.values());if(this.prevPoint=a,i.length!==this.prevEraseShapesSize)return this.prevEraseShapesSize=i.length,{document:{pages:{[e.id]:{shapes:Object.fromEntries(i.map(c=>[c.id,{isGhost:!0}]))}}}}});l(this,"cancel",()=>{let{page:e}=this.app;cancelAnimationFrame(this.interval),this.erasedShapes.forEach(n=>{this.app.getShape(n.id)||(this.erasedShapes.delete(n),this.erasableShapes.delete(n))});let t=Array.from(this.erasedShapes.values());return{document:{pages:{[e.id]:{shapes:Object.fromEntries(t.map(n=>[n.id,{isGhost:!1}]))}},pageStates:{[e.id]:{selectedIds:this.initialSelectedShapes.map(n=>n.id)}}},appState:{eraseLine:[]}}});l(this,"complete",()=>{let{page:e}=this.app;cancelAnimationFrame(this.interval),this.erasedShapes.forEach(i=>{this.app.getShape(i.id)||(this.erasedShapes.delete(i),this.erasableShapes.delete(i))}),this.erasedBindings.forEach(i=>{this.app.getBinding(i.id)||this.erasedBindings.delete(i)});let t=Array.from(this.erasedShapes.values()),n=Array.from(this.erasedBindings.values()),o=t.map(i=>i.id),s=n.map(i=>i.id),a={shapes:Object.fromEntries(t.map(i=>[i.id,i])),bindings:Object.fromEntries(n.map(i=>[i.id,i]))},d={shapes:Object.fromEntries(t.map(i=>[i.id,void 0])),bindings:Object.fromEntries(n.map(i=>[i.id,void 0]))};return this.app.shapes.forEach(i=>{i.handles&&!d.shapes[i.id]&&Object.values(i.handles).forEach(c=>{var u,p;c.bindingId&&s.includes(c.bindingId)&&(a.shapes[i.id]=x(S({},a.shapes[i.id]),{handles:x(S({},(u=a.shapes[i.id])==null?void 0:u.handles),{[c.id]:c})}),o.includes(i.id)||(d.shapes[i.id]=x(S({},d.shapes[i.id]),{handles:x(S({},(p=d.shapes[i.id])==null?void 0:p.handles),{[c.id]:x(S({},c),{bindingId:void 0})})})))})}),{id:"erase",before:{document:{pages:{[e.id]:a},pageStates:{[e.id]:{selectedIds:this.initialSelectedShapes.filter(i=>!!this.app.getShape(i.id)).map(i=>i.id)}}},appState:{eraseLine:[]}},after:{document:{pages:{[e.id]:d},pageStates:{[e.id]:{selectedIds:this.initialSelectedShapes.filter(i=>!!this.app.getShape(i.id)).filter(i=>!o.includes(i.id)).map(i=>i.id)}}},appState:{eraseLine:[]}}}});this.prevPoint=[...e.originPoint],this.initialSelectedShapes=this.app.selectedIds.map(t=>this.app.getShape(t)),this.erasableShapes=new Set(this.app.shapes.filter(t=>!t.isLocked)),this.interval=this.loop()}};var Fa=require("@tldraw/core"),ja=require("@tldraw/vec");var Ga=class extends Je{constructor(e,t){super(e);l(this,"type","grid");l(this,"performanceMode");l(this,"status","translating");l(this,"shape");l(this,"bounds");l(this,"initialSelectedIds");l(this,"initialSiblings");l(this,"grid",{});l(this,"columns",1);l(this,"rows",1);l(this,"isCopying",!1);l(this,"start",()=>{});l(this,"update",()=>{let{currentPageId:e,altKey:t,shiftKey:n,currentPoint:o}=this.app,s={},a={},d=Fa.Utils.getBoundsCenter(this.bounds),i=ja.Vec.sub(o,d);n&&(Math.abs(i[0])<Math.abs(i[1])?i[0]=0:i[1]=0);let c=this.bounds.width+32,u=this.bounds.height+32,p=Math.ceil(i[0]/c),m=Math.ceil(i[1]/u),h=Math.min(p,0),g=Math.min(m,0),f=Math.max(p,1),T=Math.max(m,1),w=new Set,b=t;b!==this.isCopying&&(Object.values(this.grid).filter(y=>y!==this.shape.id).forEach(y=>s[y]=void 0),this.grid={"0_0":this.shape.id},this.isCopying=b);for(let y=h;y<f;y++)for(let R=g;R<T;R++){let K=`${y}_${R}`;if(w.add(K),this.grid[K]||y===0&&R===0)continue;let L=this.getClone(ja.Vec.add(this.shape.point,[y*c,R*u]),b);s[L.id]=L,this.grid[K]=L.id}if(Object.entries(this.grid).forEach(([y,R])=>{w.has(y)||(s[R]=void 0,delete this.grid[y])}),Object.values(s).length!==0)return this.initialSiblings&&(s[this.shape.parentId]={children:[...this.initialSiblings,...Object.values(this.grid)]}),{document:{pages:{[e]:{shapes:s}},pageStates:{[e]:a}}}});l(this,"cancel",()=>{let{currentPageId:e}=this.app,t={};return Object.values(this.grid).forEach(n=>{t[n]=void 0}),t[this.shape.id]=x(S({},t[this.shape.id]),{point:this.shape.point}),this.initialSiblings&&(t[this.shape.parentId]={children:[...this.initialSiblings,this.shape.id]}),{document:{pages:{[e]:{shapes:t}},pageStates:{[e]:{selectedIds:[this.shape.id]}}}}});l(this,"complete",()=>{let{currentPageId:e}=this.app,t={},n={},o=[];if(Object.values(this.grid).forEach(s=>{t[s]=void 0,n[s]=this.app.getShape(s),o.push(s)}),t[this.shape.id]=this.shape,this.initialSiblings&&(t[this.shape.parentId]={children:[...this.initialSiblings,this.shape.id]},n[this.shape.parentId]={children:[...this.initialSiblings,...Object.values(this.grid)]}),o.length!==1)return{id:"grid",before:{document:{pages:{[e]:{shapes:t}},pageStates:{[e]:{selectedIds:[],hoveredId:void 0}}}},after:{document:{pages:{[e]:{shapes:n}},pageStates:{[e]:{selectedIds:o,hoveredId:void 0}}}}}});l(this,"getClone",(e,t)=>{let n=x(S({},this.shape),{id:Fa.Utils.uniqueId(),point:e});return t||n.type==="sticky"&&(n.text=""),n});var n;this.shape=this.app.getShape(t),this.grid["0_0"]=this.shape.id,this.bounds=this.app.getShapeBounds(t),this.initialSelectedIds=[...this.app.selectedIds],this.shape.parentId!==this.app.currentPageId&&(this.initialSiblings=(n=this.app.getShape(this.shape.parentId).children)==null?void 0:n.filter(o=>o!==this.shape.id))}};var ti=require("@tldraw/vec");var Va=class extends Je{constructor(e,t,n,o="move_handle"){super(e);l(this,"type","handle");l(this,"performanceMode");l(this,"status","translatingHandle");l(this,"commandId");l(this,"topLeft");l(this,"shiftKey",!1);l(this,"initialShape");l(this,"handleId");l(this,"start",()=>{});l(this,"update",()=>{var u,p;let{initialShape:e,app:{currentPageId:t,currentPoint:n}}=this,o=this.app.getShape(e.id);if(o.isLocked)return;let s=o.handles,a=this.handleId,d=ti.Vec.sub(n,s[a].point),i={[a]:x(S({},s[a]),{point:ti.Vec.sub(ti.Vec.add(s[a].point,d),o.point)})},c=(p=(u=k.getShapeUtil(o)).onHandleChange)==null?void 0:p.call(u,o,i);if(!!c)return{document:{pages:{[t]:{shapes:{[o.id]:c}}}}}});l(this,"cancel",()=>{let{initialShape:e,app:{currentPageId:t}}=this;return{document:{pages:{[t]:{shapes:{[e.id]:e}}}}}});l(this,"complete",()=>{let{initialShape:e,app:{currentPageId:t}}=this;return{id:this.commandId,before:{document:{pages:{[t]:{shapes:{[e.id]:e}}}}},after:{document:{pages:{[t]:{shapes:{[e.id]:k.onSessionComplete(this.app.getShape(this.initialShape.id))}}}}}}});let{originPoint:s}=e;this.topLeft=[...s],this.handleId=n,this.initialShape=this.app.getShape(t),this.commandId=o}};var Hr=require("@tldraw/core"),$a=require("@tldraw/vec");var Na=class extends Je{constructor(e){super(e);l(this,"type","rotate");l(this,"status","transforming");l(this,"performanceMode");l(this,"delta",[0,0]);l(this,"commonBoundsCenter");l(this,"initialAngle");l(this,"initialShapes");l(this,"changes",{});l(this,"start",()=>{});l(this,"update",()=>{let{commonBoundsCenter:e,initialShapes:t,app:{currentPageId:n,currentPoint:o,shiftKey:s}}=this,a={},d=$a.Vec.angle(e,o)-this.initialAngle;return s&&(d=Hr.Utils.snapAngleToSegments(d,24)),t.forEach(({center:i,shape:c})=>{let{rotation:u=0}=c,p=0;s&&(p=Hr.Utils.snapAngleToSegments(u,24)-u);let m=k.getRotatedShapeMutation(c,i,e,s?d+p:d);m&&(a[c.id]=m)}),this.changes=a,{document:{pages:{[n]:{shapes:a}}}}});l(this,"cancel",()=>{let{initialShapes:e,app:{currentPageId:t}}=this,n={};return e.forEach(({shape:o})=>n[o.id]=o),{document:{pages:{[t]:{shapes:n}}}}});l(this,"complete",()=>{let{initialShapes:e,app:{currentPageId:t}}=this,n={},o=this.changes;return e.forEach(({shape:{id:s,point:a,rotation:d,handles:i}})=>{n[s]={point:a,rotation:d,handles:i}}),{id:"rotate",before:{document:{pages:{[t]:{shapes:n}}}},after:{document:{pages:{[t]:{shapes:o}}}}}});let{app:{currentPageId:t,pageState:n,originPoint:o}}=this,s=k.getSelectedBranchSnapshot(e.state,t).filter(a=>!a.isLocked);if(s.length===0)throw Error("No selected shapes!");if(e.rotationInfo.selectedIds===n.selectedIds){if(e.rotationInfo.center===void 0)throw Error("We should have a center for rotation!");this.commonBoundsCenter=e.rotationInfo.center}else this.commonBoundsCenter=Hr.Utils.getBoundsCenter(Hr.Utils.getCommonBounds(s.map(k.getBounds))),e.rotationInfo.selectedIds=n.selectedIds,e.rotationInfo.center=this.commonBoundsCenter;this.initialShapes=s.filter(a=>a.children===void 0).map(a=>({shape:a,center:this.app.getShapeUtil(a).getCenter(a)})),this.initialAngle=$a.Vec.angle(this.commonBoundsCenter,o)}};var St=require("@tldraw/core"),Do=require("@tldraw/vec");var Wa=class extends Je{constructor(e,t=St.TLBoundsCorner.BottomRight,n=!1){super(e);this.transformType=t;this.isCreate=n;l(this,"type","transform");l(this,"performanceMode");l(this,"status","transforming");l(this,"scaleX",1);l(this,"scaleY",1);l(this,"initialShapes");l(this,"initialShapeIds");l(this,"initialSelectedIds");l(this,"shapeBounds");l(this,"hasUnlockedShapes");l(this,"isAllAspectRatioLocked");l(this,"initialCommonBounds");l(this,"snapInfo",{state:"empty"});l(this,"prevPoint",[0,0]);l(this,"speed",1);l(this,"start",()=>{this.snapInfo={state:"ready",bounds:this.app.shapes.filter(e=>!this.initialShapeIds.includes(e.id)).map(e=>St.Utils.getBoundsWithCenter(k.getRotatedBounds(e)))}});l(this,"update",()=>{let{transformType:e,shapeBounds:t,initialCommonBounds:n,isAllAspectRatioLocked:o,app:{currentPageId:s,pageState:{camera:a},viewport:d,currentPoint:i,previousPoint:c,originPoint:u,shiftKey:p,altKey:m,metaKey:h,currentGrid:g,settings:{isSnapping:f,showGrid:T}}}=this,w={},b=m?Do.Vec.mul(Do.Vec.sub(i,u),2):Do.Vec.sub(i,u),y=St.Utils.getTransformedBoundingBox(n,e,b,0,p||o);m&&(y=S(S({},y),St.Utils.centerBounds(y,St.Utils.getBoundsCenter(n)))),T&&(y=S(S({},y),St.Utils.snapBoundsToGrid(y,g)));let K=Do.Vec.dist(i,c)-this.speed;this.speed=this.speed+K*(K>1?.5:.15);let L=[];if((f&&!h||!f&&h)&&this.speed*a.zoom<10&&this.snapInfo.state==="ready"){let v=St.Utils.getSnapPoints(St.Utils.getBoundsWithCenter(y),this.snapInfo.bounds.filter(I=>St.Utils.boundsContain(d,I)||St.Utils.boundsCollide(d,I)),5/a.zoom);v&&(L=v.snapLines,y=St.Utils.getTransformedBoundingBox(n,e,Do.Vec.sub(b,v.offset),0,p||o))}return this.scaleX=y.scaleX,this.scaleY=y.scaleY,t.forEach(({initialShape:v,initialShapeBounds:I,transformOrigin:J})=>{let ce=St.Utils.getRelativeTransformedBoundingBox(y,n,I,this.scaleX<0,this.scaleY<0);T&&(ce=St.Utils.snapBoundsToGrid(ce,g));let de=k.transform(this.app.getShape(v.id),ce,{type:this.transformType,initialShape:v,scaleX:this.scaleX,scaleY:this.scaleY,transformOrigin:J});w[v.id]=de}),{appState:{snapLines:L},document:{pages:{[s]:{shapes:w}}}}});l(this,"cancel",()=>{let{shapeBounds:e,app:{currentPageId:t}}=this,n={};return this.isCreate?e.forEach(o=>n[o.initialShape.id]=void 0):e.forEach(o=>n[o.initialShape.id]=o.initialShape),{appState:{snapLines:[]},document:{pages:{[t]:{shapes:n}},pageStates:{[t]:{selectedIds:this.isCreate?[]:e.map(o=>o.initialShape.id)}}}}});l(this,"complete",()=>{let{isCreate:e,shapeBounds:t,hasUnlockedShapes:n,app:{currentPageId:o}}=this;if(!n)return;if(this.isCreate&&Do.Vec.dist(this.app.originPoint,this.app.currentPoint)<2)return this.cancel();let s={},a={},d,i;return e?(d=[],i=[],t.forEach(({initialShape:c})=>{s[c.id]=void 0,a[c.id]=this.app.getShape(c.id)})):(d=this.initialSelectedIds,i=this.initialSelectedIds,t.forEach(({initialShape:c})=>{s[c.id]=c,a[c.id]=this.app.getShape(c.id)})),{id:"transform",before:{appState:{snapLines:[]},document:{pages:{[o]:{shapes:s}},pageStates:{[o]:{selectedIds:d,hoveredId:void 0,editingId:void 0}}}},after:{appState:{snapLines:[]},document:{pages:{[o]:{shapes:a}},pageStates:{[o]:{selectedIds:i,hoveredId:void 0,editingId:void 0}}}}}});this.initialSelectedIds=[...this.app.selectedIds],this.app.rotationInfo.selectedIds=[...this.initialSelectedIds],this.initialShapes=k.getSelectedBranchSnapshot(this.app.state,this.app.currentPageId).filter(d=>!d.isLocked),this.initialShapeIds=this.initialShapes.map(d=>d.id),this.hasUnlockedShapes=this.initialShapes.length>0,this.isAllAspectRatioLocked=this.initialShapes.every(d=>d.isAspectRatioLocked||k.getShapeUtil(d).isAspectRatioLocked);let o=Object.fromEntries(this.initialShapes.map(d=>[d.id,k.getBounds(d)])),s=Object.values(o);this.initialCommonBounds=St.Utils.getCommonBounds(s);let a=St.Utils.getBoundsFromPoints(s.map(St.Utils.getBoundsCenter));this.shapeBounds=this.initialShapes.map(d=>{let i=o[d.id],c=St.Utils.getBoundsCenter(i),u=(c[0]-a.minX)/a.width,p=(c[1]-a.minY)/a.height;return{initialShape:d,initialShapeBounds:i,transformOrigin:[u,p]}})}};var mn=require("@tldraw/core"),uo=require("@tldraw/vec");var Ua=class extends Je{constructor(e,t,n,o=!1){super(e);l(this,"type","transformSingle");l(this,"status","transforming");l(this,"performanceMode");l(this,"transformType");l(this,"scaleX",1);l(this,"scaleY",1);l(this,"isCreate");l(this,"initialShape");l(this,"initialShapeBounds");l(this,"initialCommonBounds");l(this,"snapInfo",{state:"empty"});l(this,"prevPoint",[0,0]);l(this,"speed",1);l(this,"start",()=>{this.snapInfo={state:"ready",bounds:this.app.shapes.filter(e=>e.id!==this.initialShape.id).map(e=>mn.Utils.getBoundsWithCenter(k.getRotatedBounds(e)))}});l(this,"update",()=>{let{transformType:e,initialShape:t,initialShapeBounds:n,app:{settings:{isSnapping:o,showGrid:s},currentPageId:a,pageState:{camera:d},viewport:i,currentPoint:c,previousPoint:u,originPoint:p,currentGrid:m,shiftKey:h,altKey:g,metaKey:f}}=this;if(t.isLocked)return;let T={},w=g?uo.Vec.mul(uo.Vec.sub(c,p),2):uo.Vec.sub(c,p),b=this.app.getShape(t.id),y=k.getShapeUtil(b),R=mn.Utils.getTransformedBoundingBox(n,e,w,b.rotation,h||b.isAspectRatioLocked||y.isAspectRatioLocked);g&&(R=S(S({},R),mn.Utils.centerBounds(R,mn.Utils.getBoundsCenter(n)))),s&&(R=S(S({},R),mn.Utils.snapBoundsToGrid(R,m)));let L=uo.Vec.dist(c,u)-this.speed;this.speed=this.speed+L*(L>1?.5:.15);let v=[];if((o&&!f||!o&&f)&&!t.rotation&&this.speed*d.zoom<10&&this.snapInfo.state==="ready"){let J=mn.Utils.getSnapPoints(mn.Utils.getBoundsWithCenter(R),this.snapInfo.bounds.filter(ce=>mn.Utils.boundsContain(i,ce)||mn.Utils.boundsCollide(i,ce)),5/d.zoom);J&&(v=J.snapLines,R=mn.Utils.getTransformedBoundingBox(n,e,uo.Vec.sub(w,J.offset),b.rotation,h||b.isAspectRatioLocked||y.isAspectRatioLocked))}let I=k.getShapeUtil(b).transformSingle(b,R,{initialShape:t,type:this.transformType,scaleX:R.scaleX,scaleY:R.scaleY,transformOrigin:[.5,.5]});return I&&(T[b.id]=I),s&&I&&I.point&&(I.point=uo.Vec.snap(I.point,m)),{appState:{snapLines:v},document:{pages:{[a]:{shapes:T}}}}});l(this,"cancel",()=>{let{initialShape:e,app:{currentPageId:t}}=this,n={};return this.isCreate?n[e.id]=void 0:n[e.id]=e,{appState:{snapLines:[]},document:{pages:{[t]:{shapes:n}},pageStates:{[t]:{selectedIds:this.isCreate?[]:[e.id]}}}}});l(this,"complete",()=>{let{initialShape:e,app:{currentPageId:t}}=this;if(e.isLocked)return;if(this.isCreate&&uo.Vec.dist(this.app.originPoint,this.app.currentPoint)<2)return this.cancel();let n={},o={};return n[e.id]=this.isCreate?void 0:e,o[e.id]=k.onSessionComplete(this.app.getShape(e.id)),{id:"transform_single",before:{appState:{snapLines:[]},document:{pages:{[t]:{shapes:n}},pageStates:{[t]:{selectedIds:this.isCreate?[]:[e.id],editingId:void 0,hoveredId:void 0}}}},after:{appState:{snapLines:[]},document:{pages:{[t]:{shapes:o}},pageStates:{[t]:{selectedIds:[e.id],editingId:void 0,hoveredId:void 0}}}}}});this.isCreate=o,this.transformType=n;let s=this.app.getShape(t);this.initialShape=s,this.initialShapeBounds=k.getBounds(s),this.initialCommonBounds=k.getRotatedBounds(s),this.app.rotationInfo.selectedIds=[s.id]}};var Ft=require("@tldraw/core"),We=require("@tldraw/vec");var Ka=class extends Je{constructor(e,t=!1,n=!1){super(e);l(this,"performanceMode");l(this,"type","translate");l(this,"status","translating");l(this,"delta",[0,0]);l(this,"prev",[0,0]);l(this,"prevPoint",[0,0]);l(this,"speed",1);l(this,"cloneInfo",{state:"empty"});l(this,"snapInfo",{state:"empty"});l(this,"snapLines",[]);l(this,"isCloning",!1);l(this,"isCreate");l(this,"link");l(this,"initialIds");l(this,"hasUnlockedShapes");l(this,"initialSelectedIds");l(this,"initialCommonBounds");l(this,"initialShapes");l(this,"initialParentChildren");l(this,"bindingsToDelete");l(this,"start",()=>{let{bindingsToDelete:e,initialIds:t,app:{currentPageId:n,page:o}}=this,s=[],a=[];if(Object.values(o.shapes).forEach(c=>{let u=Ft.Utils.getBoundsWithCenter(k.getRotatedBounds(c));s.push(u),t.has(c.id)||a.push(u)}),this.snapInfo={state:"ready",bounds:s,others:a},e.length===0)return;let d={},i={};return e.forEach(c=>{d[c.id]=void 0;let u=this.app.getShape(c.fromId);i[c.fromId]={handles:x(S({},u.handles),{[c.handleId]:x(S({},u.handles[c.handleId]),{bindingId:void 0})})}}),{document:{pages:{[n]:{bindings:d,shapes:i}}}}});l(this,"update",()=>{let{initialParentChildren:e,initialShapes:t,initialCommonBounds:n,bindingsToDelete:o,app:{pageState:{camera:s},settings:{isSnapping:a,showGrid:d},currentPageId:i,viewport:c,selectedIds:u,currentPoint:p,previousPoint:m,originPoint:h,altKey:g,shiftKey:f,metaKey:T,currentGrid:w}}=this,b={},y={},R={},K=We.Vec.sub(p,h),L=!1;this.isCreate||(g&&!this.isCloning?(this.isCloning=!0,L=!0):!g&&this.isCloning&&(this.isCloning=!1,L=!0)),f&&(Math.abs(K[0])<Math.abs(K[1])?K[0]=0:K[1]=0);let I=We.Vec.dist(p,m)-this.speed;if(this.speed=this.speed+I*(I>1?.5:.15),this.snapLines=[],(a&&!T||!a&&T)&&this.speed*s.zoom<10&&this.snapInfo.state==="ready"){let J=Ft.Utils.getSnapPoints(Ft.Utils.getBoundsWithCenter(d?Ft.Utils.snapBoundsToGrid(Ft.Utils.translateBounds(n,K),w):Ft.Utils.translateBounds(n,K)),(this.isCloning?this.snapInfo.bounds:this.snapInfo.others).filter(ce=>Ft.Utils.boundsContain(c,ce)||Ft.Utils.boundsCollide(c,ce)),5/s.zoom);J&&(this.snapLines=J.snapLines,K=We.Vec.sub(K,J.offset))}if(this.prev=K,this.isCloning)if(L){if(this.cloneInfo.state==="empty"&&this.createCloneInfo(),this.cloneInfo.state==="empty")throw Error;let{clones:J,clonedBindings:ce}=this.cloneInfo;this.isCloning=!0,o.forEach(de=>b[de.id]=de),t.forEach(de=>y[de.id]={point:de.point}),J.forEach(de=>{var He;if(y[de.id]=S({},de),de.parentId!==i&&!u.includes(de.parentId)){let Pe=((He=y[de.parentId])==null?void 0:He.children)||e[de.parentId];Pe.includes(de.id)||(y[de.parentId]=x(S({},y[de.parentId]),{children:[...Pe,de.id]}))}});for(let de of ce)b[de.id]=de;R.selectedIds=J.map(de=>de.id),J.forEach(de=>{y[de.id]=x(S({},de),{point:d?We.Vec.snap(We.Vec.toFixed(We.Vec.add(de.point,K)),w):We.Vec.toFixed(We.Vec.add(de.point,K))})})}else{if(this.cloneInfo.state==="empty")throw Error;let{clones:J}=this.cloneInfo;J.forEach(ce=>{y[ce.id]={point:d?We.Vec.snap(We.Vec.toFixed(We.Vec.add(ce.point,K)),w):We.Vec.toFixed(We.Vec.add(ce.point,K))}})}else if(L){if(this.cloneInfo.state==="empty")throw Error;let{clones:J,clonedBindings:ce}=this.cloneInfo;this.isCloning=!1,o.forEach(de=>b[de.id]=void 0),J.forEach(de=>{de.parentId!==i&&(y[de.parentId]=x(S({},y[de.parentId]),{children:e[de.parentId]}))}),J.forEach(de=>y[de.id]=void 0),t.forEach(de=>{y[de.id]={point:d?We.Vec.snap(We.Vec.toFixed(We.Vec.add(de.point,K)),w):We.Vec.toFixed(We.Vec.add(de.point,K))}});for(let de of ce)b[de.id]=void 0;R.selectedIds=t.map(de=>de.id)}else t.forEach(J=>{y[J.id]={point:d?We.Vec.snap(We.Vec.toFixed(We.Vec.add(J.point,K)),w):We.Vec.toFixed(We.Vec.add(J.point,K))}});return{appState:{snapLines:this.snapLines},document:{pages:{[i]:{shapes:y,bindings:b}},pageStates:{[i]:R}}}});l(this,"cancel",()=>{let{initialShapes:e,initialSelectedIds:t,bindingsToDelete:n,app:{currentPageId:o}}=this,s={},a={},d={editingId:void 0,hoveredId:void 0};if(this.isCreate?(e.forEach(({id:i})=>a[i]=void 0),d.selectedIds=[]):(e.forEach(({id:i,point:c,handles:u})=>a[i]=u?x(S({},a[i]),{point:c,handles:u}):x(S({},a[i]),{point:c})),d.selectedIds=t,n.forEach(i=>{s[i.id]=i})),this.cloneInfo.state==="ready"){let{clones:i,clonedBindings:c}=this.cloneInfo;i.forEach(u=>a[u.id]=void 0),c.forEach(u=>s[u.id]=void 0)}return{appState:{snapLines:[]},document:{pages:{[o]:{shapes:a,bindings:s}},pageStates:{[o]:d}}}});l(this,"complete",()=>{let{initialShapes:e,initialParentChildren:t,bindingsToDelete:n,app:{currentPageId:o}}=this,s={},a={},d={},i={};if(this.isCloning){if(this.cloneInfo.state==="empty"&&this.createCloneInfo(),this.cloneInfo.state!=="ready")throw Error;let{clones:c,clonedBindings:u}=this.cloneInfo;c.forEach(p=>{a[p.id]=void 0,i[p.id]=this.app.getShape(p.id),p.parentId!==o&&(a[p.parentId]=x(S({},a[p.parentId]),{children:t[p.parentId]}),i[p.parentId]=x(S({},i[p.parentId]),{children:this.app.getShape(p.parentId).children}))}),u.forEach(p=>{s[p.id]=void 0,d[p.id]=this.app.getBinding(p.id)})}else e.forEach(c=>{a[c.id]=this.isCreate?void 0:x(S({},a[c.id]),{point:c.point}),i[c.id]=S(S({},i[c.id]),this.isCreate?this.app.getShape(c.id):{point:this.app.getShape(c.id).point})});return n.forEach(c=>{var u,p,m,h,g;s[c.id]=c,a[c.fromId]=x(S({},a[c.fromId]),{id:c.fromId,handles:x(S({},(u=a[c.fromId])==null?void 0:u.handles),{[c.handleId]:x(S({},(m=(p=a[c.fromId])==null?void 0:p.handles)==null?void 0:m[c.handleId]),{bindingId:c.id})})}),i[c.fromId]=x(S({},i[c.fromId]),{id:c.fromId,handles:x(S({},i[c.fromId].handles),{[c.handleId]:x(S({},(g=(h=i[c.fromId])==null?void 0:h.handles)==null?void 0:g[c.handleId]),{bindingId:void 0})})})}),n.forEach(c=>d[c.id]=void 0),{id:"translate",before:{appState:{snapLines:[]},document:{pages:{[o]:{shapes:a,bindings:s}},pageStates:{[o]:{selectedIds:this.isCreate?[]:[...this.initialSelectedIds]}}}},after:{appState:{snapLines:[]},document:{pages:{[o]:{shapes:i,bindings:d}},pageStates:{[o]:{selectedIds:[...this.app.selectedIds]}}}}}});l(this,"createCloneInfo",()=>{let{initialShapes:e,initialParentChildren:t,app:{selectedIds:n,currentPageId:o,page:s}}=this,a={},d={},i=[],c=[];e.forEach(p=>{let m=Ft.Utils.uniqueId();t[m]=t[p.id],a[p.id]=m;let h=x(S({},Ft.Utils.deepClone(p)),{id:m,parentId:p.parentId,childIndex:k.getChildIndexAbove(this.app.state,p.id,o)});if(h.type==="video"){let g=document.getElementById(p.id+"_video");g&&(h.currentTime=(g.currentTime+16)%g.duration)}c.push(h)}),c.forEach(p=>{p.children!==void 0&&(p.children=p.children.map(m=>a[m]))}),c.forEach(p=>{n.includes(p.parentId)&&(p.parentId=a[p.parentId])});let u=new Set(Object.keys(a));Object.values(s.bindings).filter(p=>u.has(p.fromId)||u.has(p.toId)).forEach(p=>{if(u.has(p.fromId)&&u.has(p.toId)){let m=Ft.Utils.uniqueId(),h=x(S({},Ft.Utils.deepClone(p)),{id:m,fromId:a[p.fromId]||p.fromId,toId:a[p.toId]||p.toId});d[p.id]=m,i.push(h)}}),c.forEach(p=>{if(p.handles&&p.handles)for(let m in p.handles){let h=p.handles[m];h.bindingId=h.bindingId?d[h.bindingId]:void 0}}),c.forEach(p=>{if(s.shapes[p.id])throw Error("uh oh, we didn't clone correctly")}),this.cloneInfo={state:"ready",clones:c,cloneMap:a,clonedBindings:i}});this.isCreate=t,this.link=n;let{currentPageId:o,selectedIds:s,page:a}=this.app;this.initialSelectedIds=[...s];let d=(n?k.getLinkedShapeIds(this.app.state,o,n,!1):s).map(c=>this.app.getShape(c)).filter(c=>!c.isLocked),i=new Set(d.map(c=>c.id));this.hasUnlockedShapes=d.length>0,this.initialShapes=Array.from(new Set(d.filter(c=>!i.has(c.parentId)).flatMap(c=>c.children?[c,...c.children.map(u=>this.app.getShape(u))]:[c])).values()),this.initialIds=new Set(this.initialShapes.map(c=>c.id)),this.bindingsToDelete=[],Object.values(a.bindings).filter(c=>this.initialIds.has(c.fromId)||this.initialIds.has(c.toId)).forEach(c=>{this.initialIds.has(c.fromId)&&(this.initialIds.has(c.toId)||this.bindingsToDelete.push(c))}),this.initialParentChildren={},this.initialShapes.map(c=>c.parentId).filter(c=>c!==a.id).forEach(c=>{this.initialParentChildren[c]=this.app.getShape(c).children}),this.initialCommonBounds=Ft.Utils.getCommonBounds(this.initialShapes.map(k.getRotatedBounds)),this.app.rotationInfo.selectedIds=[...this.app.selectedIds]}};var ice={["arrow"]:Ra,["brush"]:La,["draw"]:Ha,["erase"]:Oa,["handle"]:Va,["rotate"]:Na,["transform"]:Wa,["transformSingle"]:Ua,["translate"]:Ka,["grid"]:Ga,["edit"]:za},Pp=r=>ice[r];var Ep=require("@tldraw/core"),Bp=V(require("@tldraw/vec"));var Mp=require("@tldraw/core");var at=class extends os{constructor(e){super();this.app=e;l(this,"type","select");l(this,"previous");l(this,"status","idle");l(this,"setStatus",e=>{this.status=e,this.app.setStatus(this.status)});l(this,"onEnter",()=>{this.setStatus("idle")});l(this,"onExit",()=>{this.setStatus("idle")});l(this,"onCancel",()=>{this.status==="idle"?this.app.selectTool("select"):this.setStatus("idle"),this.app.cancelSession()});l(this,"getNextChildIndex",()=>{let{shapes:e,appState:{currentPageId:t}}=this.app;return e.length===0?1:e.filter(n=>n.parentId===t).sort((n,o)=>o.childIndex-n.childIndex)[0].childIndex+1});l(this,"onPinchStart",()=>{this.app.cancelSession(),this.setStatus("pinching")});l(this,"onPinchEnd",()=>{Mp.Utils.isMobileSafari()&&this.app.undoSelect(),this.setStatus("idle")});l(this,"onPinch",(e,t)=>{var n;this.status==="pinching"&&(isNaN(e.delta[0])||isNaN(e.delta[1])||(this.app.pinchZoom(e.point,e.delta,e.delta[2]),(n=this.onPointerMove)==null||n.call(this,e,t)))});l(this,"onKeyDown",e=>{if(e==="Escape"){this.onCancel();return}if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}});l(this,"onKeyUp",e=>{if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}});l(this,"onPointerMove",()=>{this.status==="creating"&&this.app.updateSession()});l(this,"onPointerUp",()=>{if(this.status==="creating"){this.app.completeSession();let{isToolLocked:e}=this.app.appState;e||this.app.selectTool("select")}this.setStatus("idle")})}};var Fr=class extends at{constructor(){super(...arguments);l(this,"type","arrow");l(this,"onPointerDown",()=>{if(this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:o,currentStyle:s}}=this.app,a=this.getNextChildIndex(),d=Ep.Utils.uniqueId(),i=Qo.create({id:d,parentId:o,childIndex:a,point:n?Bp.default.snap(e,t):e,style:S({},s)});this.app.patchCreate([i]),this.app.startSession("arrow",i.id,"end",!0),this.setStatus("creating")})}};var Rp=require("@tldraw/core");var jr=class extends at{constructor(){super(...arguments);l(this,"type","draw");l(this,"lastShapeId");l(this,"onEnter",()=>{this.lastShapeId=void 0});l(this,"onCancel",()=>{switch(this.status){case"idle":{this.app.selectTool("select");break}default:{this.setStatus("idle");break}}this.app.cancelSession()});l(this,"onPointerDown",e=>{if(this.status!=="idle"||this.app.readOnly)return;let{currentPoint:t,appState:{currentPageId:n,currentStyle:o}}=this.app,s=this.lastShapeId&&this.app.getShape(this.lastShapeId);if(e.shiftKey&&s)this.app.startSession("draw",s.id),this.setStatus("extending");else{let a=this.getNextChildIndex(),d=Rp.Utils.uniqueId(),i=Ws.create({id:d,parentId:n,childIndex:a,point:t,style:S({},o)});this.lastShapeId=d,this.app.patchCreate([i]),this.app.startSession("draw",d),this.setStatus("creating")}});l(this,"onPointerMove",()=>{if(!this.app.readOnly)switch(this.status){case"extending":case"creating":this.app.updateSession()}});l(this,"onPointerUp",()=>{this.app.completeSession(),this.setStatus("idle")})}};var ni=require("@tldraw/core"),Ap=V(require("@tldraw/vec"));var Gr=class extends at{constructor(){super(...arguments);l(this,"type","ellipse");l(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:o,currentStyle:s}}=this.app,a=this.getNextChildIndex(),d=ni.Utils.uniqueId(),i=Ns.create({id:d,parentId:o,childIndex:a,point:n?Ap.default.snap(e,t):e,style:S({},s)});this.app.patchCreate([i]),this.app.startSession("transformSingle",i.id,ni.TLBoundsCorner.BottomRight,!0),this.setStatus("creating")})}};var Lp=V(require("@tldraw/vec"));var Vr=class extends at{constructor(){super(...arguments);l(this,"type","erase");l(this,"status","idle");l(this,"onPointerDown",()=>{this.app.readOnly||this.status==="idle"&&this.setStatus("pointing")});l(this,"onPointerMove",e=>{if(!this.app.readOnly)switch(this.status){case"pointing":{Lp.default.dist(e.origin,e.point)>3&&(this.app.startSession("erase"),this.app.updateSession(),this.setStatus("erasing"));break}case"erasing":this.app.updateSession()}});l(this,"onPointerUp",()=>{if(!this.app.readOnly){switch(this.status){case"pointing":{let e=this.app.shapes.filter(t=>!t.isLocked).filter(t=>this.app.getShapeUtil(t).hitTestPoint(t,this.app.currentPoint)).flatMap(t=>t.children?[t.id,...t.children]:t.id);this.app.delete(e);break}case"erasing":this.app.completeSession()}this.setStatus("idle")}});l(this,"onCancel",()=>{this.status==="idle"?this.previous?this.app.selectTool(this.previous):this.app.selectTool("select"):this.setStatus("idle"),this.app.cancelSession()})}};var Hp=require("@tldraw/core"),zp=V(require("@tldraw/vec"));var $r=class extends at{constructor(){super(...arguments);l(this,"type","line");l(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:o,currentStyle:s}}=this.app,a=this.getNextChildIndex(),d=Hp.Utils.uniqueId(),i=Qo.create({id:d,parentId:o,childIndex:a,point:n?zp.default.snap(e,t):e,decorations:{start:void 0,end:void 0},style:S({},s)});this.app.patchCreate([i]),this.app.startSession("arrow",i.id,"end",!0),this.setStatus("creating")})}};var oi=require("@tldraw/core"),Op=V(require("@tldraw/vec"));var Nr=class extends at{constructor(){super(...arguments);l(this,"type","rectangle");l(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:o,currentStyle:s}}=this.app,a=this.getNextChildIndex(),d=oi.Utils.uniqueId(),i=Vs.create({id:d,parentId:o,childIndex:a,point:n?Op.default.snap(e,t):e,style:S({},s)});this.app.patchCreate([i]),this.app.startSession("transformSingle",i.id,oi.TLBoundsCorner.BottomRight,!0),this.setStatus("creating")})}};var ir=require("@tldraw/core"),Hn=V(require("@tldraw/vec"));var Wr=class extends at{constructor(){super(...arguments);l(this,"type","select");l(this,"pointedId");l(this,"selectedGroupId");l(this,"pointedHandleId");l(this,"pointedBoundsHandle");l(this,"pointedLinkHandleId");l(this,"onEnter",()=>{this.setStatus("idle")});l(this,"onExit",()=>{this.setStatus("idle")});l(this,"clonePaint",e=>{if(this.app.selectedIds.length===0)return;let t=this.app.selectedIds.map(c=>this.app.getShape(c)),n=ir.Utils.expandBounds(ir.Utils.getCommonBounds(t.map(k.getBounds)),16),o=ir.Utils.getBoundsCenter(n),s=[n.width,n.height],a=[o[0]+s[0]*Math.floor((e[0]+s[0]/2-o[0])/s[0]),o[1]+s[1]*Math.floor((e[1]+s[1]/2-o[1])/s[1])],d=ir.Utils.centerBounds(n,a);this.app.shapes.some(c=>k.getShapeUtil(c).hitTestBounds(c,d))||this.app.duplicate(this.app.selectedIds,a)});l(this,"getShapeClone",(e,t)=>{let n=this.app.getShape(e),o=k.getShapeUtil(n);if(o.canClone){let s=o.getBounds(n),a=o.getCenter(n),d={top:[s.minX,s.minY-(s.height+32)],right:[s.maxX+32,s.minY],bottom:[s.minX,s.maxY+32],left:[s.minX-(s.width+32),s.minY],topLeft:[s.minX-(s.width+32),s.minY-(s.height+32)],topRight:[s.maxX+32,s.minY-(s.height+32)],bottomLeft:[s.minX-(s.width+32),s.maxY+32],bottomRight:[s.maxX+32,s.maxY+32]}[t];if(n.rotation!==0){let u=Hn.default.add(d,[s.width/2,s.height/2]),p=Hn.default.rotWith(u,a,n.rotation||0);d=Hn.default.sub(p,[s.width/2,s.height/2])}let i=ir.Utils.uniqueId(),c=x(S({},n),{id:i,point:d});return c.type==="sticky"&&(c.text=""),c}});l(this,"onCancel",()=>{this.app.session?this.app.cancelSession():this.selectNone(),this.setStatus("idle")});l(this,"onKeyDown",(e,t,n)=>{switch(e){case"Escape":{this.onCancel();break}case"Tab":{if(this.app.readOnly)return;if(!this.app.pageState.editingId&&this.status==="idle"&&this.app.selectedIds.length===1){let[o]=this.app.selectedIds,s=this.getShapeClone(o,"right");s&&(this.app.createShapes(s),this.setStatus("idle"),s.type==="sticky"&&(this.app.select(s.id),this.app.setEditingId(s.id)))}break}case"Meta":case"Control":case"Alt":{this.app.updateSession();break}case"Enter":{if(this.app.readOnly)return;let{pageState:o}=this.app;o.selectedIds.length===1&&!o.editingId&&(this.app.setEditingId(o.selectedIds[0]),n.preventDefault())}}});l(this,"onKeyUp",(e,t)=>{if(this.status==="clonePainting"&&!(t.altKey&&t.shiftKey)){this.setStatus("idle");return}if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}});l(this,"onPointerMove",()=>{let{originPoint:e,currentPoint:t}=this.app;if(this.app.readOnly&&this.app.isPointing){this.app.session?this.app.updateSession():Hn.default.dist(e,t)>3&&(this.app.startSession("brush"),this.setStatus("brushing"));return}switch(this.status){case"pointingBoundsHandle":{if(!this.pointedBoundsHandle)throw Error("No pointed bounds handle");if(Hn.default.dist(e,t)>3){if(this.pointedBoundsHandle==="rotate")this.setStatus("rotating"),this.app.startSession("rotate");else if(this.pointedBoundsHandle==="center"||this.pointedBoundsHandle==="left"||this.pointedBoundsHandle==="right")this.setStatus("translating"),this.app.startSession("translate",!1,this.pointedBoundsHandle);else{this.setStatus("transforming");let n=this.app.selectedIds.flatMap(o=>k.getDocumentBranch(this.app.state,o,this.app.currentPageId));n.length===1?this.app.startSession("transformSingle",n[0],this.pointedBoundsHandle):this.app.startSession("transform",this.pointedBoundsHandle)}this.app.updateSession()}break}case"pointingCanvas":{Hn.default.dist(e,t)>3&&(this.app.startSession("brush"),this.setStatus("brushing"));break}case"pointingClone":{Hn.default.dist(e,t)>3&&(this.setStatus("translatingClone"),this.app.startSession("translate"),this.app.updateSession());break}case"pointingBounds":{Hn.default.dist(e,t)>3&&(this.setStatus("translating"),this.app.startSession("translate"),this.app.updateSession());break}case"pointingHandle":{if(!this.pointedHandleId)throw Error("No pointed handle");if(Hn.default.dist(e,t)>3){this.setStatus("translatingHandle");let n=this.app.getShape(this.app.selectedIds[0]);n&&(this.pointedHandleId==="bend"?(this.app.startSession("handle",n.id,this.pointedHandleId),this.app.updateSession()):(this.app.startSession("arrow",n.id,this.pointedHandleId,!1),this.app.updateSession()))}break}case"clonePainting":{this.clonePaint(t);break}default:if(this.app.session){this.app.updateSession();break}}});l(this,"onPointerDown",(e,t)=>{if(e.target==="canvas"&&this.status==="idle"){let{currentPoint:n}=this.app;if(e.spaceKey&&t.buttons===1)return;if(this.status==="idle"&&e.altKey&&e.shiftKey){this.setStatus("clonePainting"),this.clonePaint(n);return}if(!e.shiftKey){if(this.app.onShapeBlur(),e.altKey&&this.app.selectedIds.length>0){this.app.duplicate(this.app.selectedIds,n);return}this.selectNone()}this.setStatus("pointingCanvas")}});l(this,"onPointerUp",e=>{var t;if(this.status==="translatingClone"||this.status==="pointingClone"){this.pointedId&&(this.app.completeSession(),this.app.setEditingId(this.pointedId)),this.setStatus("idle"),this.pointedId=void 0;return}if(this.status==="pointingBounds"){if(e.target==="bounds")this.selectNone();else if(this.app.isSelected(e.target))e.shiftKey?this.pointedId!==e.target&&this.deselect(e.target):this.pointedId!==e.target&&this.app.selectedIds.length>1&&this.select(e.target);else if(this.pointedId===e.target){if(this.app.getShape(e.target).isLocked)return;e.shiftKey?this.pushSelect(e.target):this.select(e.target)}}this.setStatus("idle"),this.pointedBoundsHandle=void 0,this.pointedHandleId=void 0,this.pointedId=void 0,((t=this.app.session)==null?void 0:t.type)!=="edit"&&this.app.completeSession()});l(this,"onDoubleClickCanvas",()=>{!this.app.readOnly});l(this,"onPointShape",(e,t)=>{if(e.spaceKey&&t.buttons===1||this.app.getShape(e.target).isLocked)return;let{editingId:n,hoveredId:o}=this.app.pageState;if(n&&e.target!==n&&this.app.onShapeBlur(),(this.status==="idle"||this.status==="pointingBounds")&&e.metaKey&&e.shiftKey&&o){this.pointedId=o,this.app.isSelected(o)?this.deselect(o):(this.pushSelect(o),this.setStatus("pointingBounds"));return}if(this.status==="pointingBounds"){let{parentId:s}=this.app.getShape(e.target);this.pointedId=s===this.app.currentPageId?e.target:s;return}if(this.status==="idle"){if(this.setStatus("pointingBounds"),e.metaKey){e.shiftKey||this.selectNone(),this.app.startSession("brush"),this.setStatus("brushing");return}let s,{parentId:a}=this.app.getShape(e.target);a===this.app.currentPageId?(s=e.target,this.selectedGroupId=void 0):a===this.selectedGroupId?s=e.target:(s=a,this.selectedGroupId=void 0),this.app.isSelected(s)||(this.pointedId=s,e.shiftKey?this.pushSelect(s):this.select(s))}});l(this,"onDoubleClickShape",e=>{if(this.app.readOnly)return;let t=this.app.getShape(e.target);if(t.isLocked){this.app.select(e.target);return}k.getShapeUtil(t.type).canEdit&&(t.parentId===this.app.currentPageId||t.parentId===this.selectedGroupId)&&this.app.setEditingId(e.target),t.parentId!==this.app.currentPageId&&(this.selectedGroupId=t.parentId),this.app.select(e.target)});l(this,"onRightPointShape",e=>{this.app.isSelected(e.target)||this.app.select(e.target)});l(this,"onHoverShape",e=>{this.app.setHoveredId(e.target)});l(this,"onUnhoverShape",e=>{let{currentPageId:t}=this.app;requestAnimationFrame(()=>{t===this.app.currentPageId&&this.app.pageState.hoveredId===e.target&&this.app.setHoveredId(void 0)})});l(this,"onPointBounds",e=>{if(e.metaKey){e.shiftKey||this.selectNone(),this.app.startSession("brush"),this.setStatus("brushing");return}this.setStatus("pointingBounds")});l(this,"onRightPointBounds",(e,t)=>{t.stopPropagation()});l(this,"onReleaseBounds",()=>{(this.status==="translating"||this.status==="brushing")&&this.app.completeSession(),this.setStatus("idle")});l(this,"onPointBoundsHandle",e=>{this.pointedBoundsHandle=e.target,this.setStatus("pointingBoundsHandle")});l(this,"onDoubleClickBoundsHandle",e=>{switch(e.target){case"center":case"left":case"right":{this.app.select(...k.getLinkedShapeIds(this.app.state,this.app.currentPageId,e.target,e.shiftKey));break}default:if(this.app.selectedIds.length===1){this.app.resetBounds(this.app.selectedIds);let t=this.app.getShape(this.app.selectedIds[0]);"label"in t&&this.app.setEditingId(t.id)}}});l(this,"onReleaseBoundsHandle",()=>{this.setStatus("idle")});l(this,"onPointHandle",e=>{this.pointedHandleId=e.target,this.setStatus("pointingHandle")});l(this,"onDoubleClickHandle",e=>{if(e.target==="bend"){let{selectedIds:t}=this.app;if(t.length!==1)return;let n=this.app.getShape(t[0]);k.getShapeUtil(n.type).canEdit&&(n.parentId===this.app.currentPageId||n.parentId===this.selectedGroupId)&&this.app.setEditingId(n.id);return}this.app.toggleDecoration(e.target)});l(this,"onReleaseHandle",()=>{this.setStatus("idle")});l(this,"onShapeClone",e=>{let t=this.app.selectedIds[0],n=this.getShapeClone(t,e.target);e.target==="left"||e.target==="right"||e.target==="top"||e.target==="bottom"?n&&(this.app.createShapes(n),this.pointedId=n.id,this.setStatus("pointingClone")):(this.setStatus("gridCloning"),this.app.startSession("grid",t))})}deselect(e){this.app.select(...this.app.selectedIds.filter(t=>t!==e))}select(e){this.app.select(e)}pushSelect(e){let t=this.app.getShape(e);this.app.select(...this.app.selectedIds.filter(n=>n!==t.parentId),e)}selectNone(){this.app.selectNone()}};var Fp=require("@tldraw/core"),_a=V(require("@tldraw/vec"));var Ur=class extends at{constructor(){super(...arguments);l(this,"type","sticky");l(this,"shapeId");l(this,"onPointerDown",()=>{if(!this.app.readOnly){if(this.status==="creating"){this.setStatus("idle"),this.app.appState.isToolLocked||this.app.selectTool("select");return}if(this.status==="idle"){let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:o,currentStyle:s}}=this.app,a=this.getNextChildIndex(),d=Fp.Utils.uniqueId();this.shapeId=d;let i=Pr.create({id:d,parentId:o,childIndex:a,point:n?_a.default.snap(e,t):e,style:S({},s)}),c=Pr.getBounds(i);i.point=_a.default.sub(i.point,[c.width/2,c.height/2]),this.app.patchCreate([i]),this.app.startSession("translate"),this.setStatus("creating")}}});l(this,"onPointerUp",()=>{this.app.readOnly||this.status==="creating"&&(this.setStatus("idle"),this.app.completeSession(),this.app.selectTool("select"),this.app.setEditingId(this.shapeId))})}};var jp=V(require("@tldraw/vec"));var Kr=class extends at{constructor(){super(...arguments);l(this,"type","text");l(this,"stopEditingShape",()=>{this.setStatus("idle"),this.app.appState.isToolLocked||this.app.selectTool("select")});l(this,"onKeyUp",()=>{});l(this,"onKeyDown",()=>{});l(this,"onPointerDown",()=>{if(this.status==="creating"){this.stopEditingShape();return}if(this.status==="idle"){let{currentPoint:e,currentGrid:t,settings:{showGrid:n}}=this.app;this.app.createTextShapeAtPoint(n?jp.default.snap(e,t):e,void 0,!0),this.setStatus("creating");return}});l(this,"onPointerUp",()=>{});l(this,"onPointShape",e=>{if(this.app.readOnly)return;let t=this.app.getShape(e.target);t.type==="text"&&(this.setStatus("idle"),this.app.setEditingId(t.id))});l(this,"onShapeBlur",()=>{this.app.readOnly||this.stopEditingShape()})}};var ri=require("@tldraw/core"),Gp=V(require("@tldraw/vec"));var _r=class extends at{constructor(){super(...arguments);l(this,"type","triangle");l(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:o,currentStyle:s}}=this.app,a=this.getNextChildIndex(),d=ri.Utils.uniqueId(),i=$s.create({id:d,parentId:o,childIndex:a,point:n?Gp.default.snap(e,t):e,style:S({},s)});this.app.patchCreate([i]),this.app.startSession("transformSingle",i.id,ri.TLBoundsCorner.BottomRight,!0),this.setStatus("creating")})}};var Ya=Dt.Utils.uniqueId(),ht=class extends ha{constructor(e,t={}){super(ht.defaultState,e,ht.version,(n,o,s)=>An(x(S({},o),{document:x(S(S({},o.document),n.document),{version:s})}),ht.version));l(this,"callbacks",{});l(this,"tools",{select:new Wr(this),erase:new Vr(this),["text"]:new Kr(this),["draw"]:new jr(this),["ellipse"]:new Gr(this),["rectangle"]:new Nr(this),["triangle"]:new _r(this),["line"]:new $r(this),["arrow"]:new Fr(this),["sticky"]:new Ur(this)});l(this,"currentTool",this.tools.select);l(this,"session");l(this,"readOnly",!1);l(this,"isDirty",!1);l(this,"isCreating",!1);l(this,"originPoint",[0,0]);l(this,"currentPoint",[0,0]);l(this,"previousPoint",[0,0]);l(this,"shiftKey",!1);l(this,"altKey",!1);l(this,"metaKey",!1);l(this,"ctrlKey",!1);l(this,"spaceKey",!1);l(this,"isPointing",!1);l(this,"isForcePanning",!1);l(this,"isErasingWithPen",!1);l(this,"isPastePrevented",!1);l(this,"editingStartTime",-1);l(this,"fileSystemHandle",null);l(this,"viewport",Dt.Utils.getBoundsFromPoints([[0,0],[100,100]]));l(this,"rendererBounds",Dt.Utils.getBoundsFromPoints([[0,0],[100,100]]));l(this,"selectHistory",{stack:[[]],pointer:0});l(this,"clipboard");l(this,"rotationInfo",{selectedIds:[],center:[0,0]});l(this,"migrate",e=>An(e,ht.version));l(this,"onReady",()=>{var e,t;this.loadDocument(this.document),va().then(n=>{this.fileSystemHandle=n});try{this.patchState(x(S({},An(this.state,ht.version)),{appState:{status:"idle"}}))}catch(n){console.error("The data appears to be corrupted. Resetting!",n),localStorage.setItem(this.document.id+"_corrupted",JSON.stringify(this.document)),this.patchState(x(S({},ht.defaultState),{appState:x(S({},ht.defaultState.appState),{status:"idle"})}))}(t=(e=this.callbacks).onMount)==null||t.call(e,this)});l(this,"cleanup",(e,t)=>{var a;let n=S({},e);n.document!==t.document&&Object.entries(n.document.pages).forEach(([d,i])=>{if(i===void 0){delete n.document.pages[d],delete n.document.pageStates[d];return}let c=t.document.pages[d],u={};if(!c||i.shapes!==c.shapes||i.bindings!==c.bindings){i.shapes=S({},i.shapes),i.bindings=S({},i.bindings);let m=new Set;Object.entries(i.shapes).forEach(([f,T])=>{var b;let w;T?w=T.parentId:(w=(b=c==null?void 0:c.shapes[f])==null?void 0:b.parentId,delete i.shapes[f]),i.id===n.appState.currentPageId&&(c==null?void 0:c.shapes[f])!==T&&(u[f]=T),w&&w!==d&&i.shapes[w]!==void 0&&m.add(i.shapes[w])}),Object.keys(i.bindings).forEach(f=>{i.bindings[f]||delete i.bindings[f]}),n.document.pages[d]=i;let h=k.getRelatedBindings(n,Object.keys(u),d),g=new Set;h.forEach(f=>{if(!i.bindings[f.id])return;let T=i.shapes[f.toId],w=i.shapes[f.fromId];if(!(T&&w)){delete n.document.pages[d].bindings[f.id];return}if(g.has(w))return;let b=k.updateArrowBindings(i,w);if(g.add(w),b){let y=S(S({},w),b);i.shapes[w.id]=y}}),m.forEach(f=>{if(!f)throw Error("no group!");let T=f.children.filter(b=>i.shapes[b]!==void 0),w=Dt.Utils.getCommonBounds(T.map(b=>i.shapes[b]).filter(Boolean).map(b=>k.getRotatedBounds(b)));i.shapes[f.id]=x(S({},f),{point:[w.minX,w.minY],size:[w.width,w.height],children:T})})}let p=S({},n.document.pageStates[d]);p.brush||delete p.brush,p.hoveredId&&!i.shapes[p.hoveredId]&&delete p.hoveredId,p.bindingId&&!i.bindings[p.bindingId]&&(k.warn(`Could not find the binding of ${d}`),delete p.bindingId),p.editingId&&!i.shapes[p.editingId]&&(k.warn("Could not find the editing shape!"),delete p.editingId),n.document.pageStates[d]=p}),Object.keys((a=n.document.assets)!=null?a:{}).forEach(d=>{var i,c;((i=n.document.assets)==null?void 0:i[d])||(c=n.document.assets)==null||delete c[d]});let o=n.appState.currentPageId,s=n.document.pageStates[o];if(n.room&&n.room!==t.room){let d=x(S({},n.room),{users:S({},n.room.users)});t.room&&Object.values(t.room.users).filter(Boolean).forEach(i=>{d.users[i.id]===void 0&&delete d.users[i.id]}),n.room=d}return n.room&&(n.room.users[n.room.userId]=x(S({},n.room.users[n.room.userId]),{point:this.currentPoint,selectedIds:s.selectedIds})),this.readOnly&&(n.document.pages=t.document.pages),n});l(this,"broadcastPatch",(e,t)=>{var c,u,p,m,h,g,f,T,w;let n={},o={},s={},a=(p=(u=(c=e==null?void 0:e.document)==null?void 0:c.pages)==null?void 0:u[this.currentPageId])==null?void 0:p.shapes,d=(g=(h=(m=e==null?void 0:e.document)==null?void 0:m.pages)==null?void 0:h[this.currentPageId])==null?void 0:g.bindings,i=(f=e==null?void 0:e.document)==null?void 0:f.assets;a&&Object.keys(a).forEach(b=>{n[b]=this.getShape(b,this.currentPageId)}),d&&Object.keys(d).forEach(b=>{o[b]=this.getBinding(b,this.currentPageId)}),i&&Object.keys(i).forEach(b=>{s[b]=this.document.assets[b]}),(w=(T=this.callbacks).onChangePage)==null||w.call(T,this,n,o,s,t)});l(this,"onPatch",(e,t,n)=>{var o,s,a,d,i,c;(this.callbacks.onChangePage&&((s=(o=t==null?void 0:t.document)==null?void 0:o.pages)==null?void 0:s[this.currentPageId])||((a=t==null?void 0:t.document)==null?void 0:a.assets))&&(((d=t==null?void 0:t.document)==null?void 0:d.assets)||this.session&&this.session.type!=="brush"&&this.session.type!=="erase"&&this.session.type!=="draw")&&this.broadcastPatch(t,!1),(c=(i=this.callbacks).onPatch)==null||c.call(i,this,t,n)});l(this,"onCommand",(e,t,n)=>{var o,s;this.clearSelectHistory(),this.isDirty=!0,(s=(o=this.callbacks).onCommand)==null||s.call(o,this,t,n)});l(this,"onReplace",()=>{this.clearSelectHistory(),this.isDirty=!1});l(this,"onUndo",()=>{var e,t;this.rotationInfo.selectedIds=[...this.selectedIds],(t=(e=this.callbacks).onUndo)==null||t.call(e,this)});l(this,"onRedo",()=>{var e,t;this.rotationInfo.selectedIds=[...this.selectedIds],(t=(e=this.callbacks).onRedo)==null||t.call(e,this)});l(this,"onPersist",(e,t)=>{var n,o;(o=(n=this.callbacks).onPersist)==null||o.call(n,this),this.broadcastPatch(t,!0)});l(this,"prevSelectedIds",this.selectedIds);l(this,"onStateDidChange",(e,t)=>{var n,o,s,a;(o=(n=this.callbacks).onChange)==null||o.call(n,this,t),this.room&&this.selectedIds!==this.prevSelectedIds&&((a=(s=this.callbacks).onChangePresence)==null||a.call(s,this,x(S({},this.room.users[this.room.userId]),{selectedIds:this.selectedIds,session:!!this.session})),this.prevSelectedIds=this.selectedIds)});l(this,"preventPaste",()=>{if(this.isPastePrevented)return;let e=n=>n.stopImmediatePropagation(),t=()=>{setTimeout(()=>{document.removeEventListener("paste",e,{capture:!0}),this.isPastePrevented=!1},50)};document.addEventListener("paste",e,{capture:!0}),window.addEventListener("pointerup",t,{once:!0}),this.isPastePrevented=!0});l(this,"justSent",!1);l(this,"getReservedContent",(e,t=this.currentPageId)=>{let{bindings:n}=this.document.pages[t],o={},s={},a=Object.values(n),d=new Map(a.map(h=>[h.toId,h])),i=new Map(a.map(h=>[h.fromId,h])),c=[d,i],u=[];this.session&&e.forEach(h=>u.push(h)),this.pageState.editingId&&u.push(this.pageState.editingId);let p=new Set(u),m=new Set;for(;u.length>0;){let h=u.pop();if(!h)break;if(m.has(h))continue;m.add(h);let g=this.getShape(h);o[h]=g,g.parentId!==t&&u.push(g.parentId),g.children&&u.push(...g.children),c.map(f=>f.get(g.id)).filter(Boolean).forEach(f=>{s[f.id]=f,u.push(f.toId,f.fromId)})}return{reservedShapes:o,reservedBindings:s,strongReservedShapeIds:p}});l(this,"replacePageContent",(e,t,n,o=this.currentPageId)=>{if(this.justSent)return this.justSent=!1,this;let s=this.document.pages[this.currentPageId];return Object.values(e).forEach(a=>{a.parentId!==o&&!(s.shapes[a.parentId]||e[a.parentId])&&(console.warn("Added a shape without a parent on the page"),a.parentId=o)}),this.useStore.setState(a=>{let{hoveredId:d,editingId:i,bindingId:c,selectedIds:u}=a.document.pageStates[o],p=[...u],m=i&&a.document.pages[this.currentPageId].shapes[i];m&&p.push(m.id);let{reservedShapes:h,reservedBindings:g,strongReservedShapeIds:f}=this.getReservedContent(p,this.currentPageId);Object.values(h).filter(v=>!("text"in v)).forEach(v=>{let I=e[v.id];if(!!I){if(!(v.type==="arrow"||f.has(v.id))){e[v.id]=I;return}"decorations"in I&&"decorations"in v&&(e[v.id]=x(S({},v),{decorations:I.decorations})),v.style=I.style}});let T=S(S({},e),h);m&&(T[m.id]=m);let w=S(S({},t),g),b=S({},n),y=x(S({},a),{document:x(S({},a.document),{pages:{[o]:x(S({},a.document.pages[o]),{shapes:T,bindings:w})},assets:b,pageStates:x(S({},a.document.pageStates),{[o]:x(S({},a.document.pageStates[o]),{selectedIds:u.filter(v=>T[v]!==void 0),hoveredId:d?T[d]===void 0?void 0:d:void 0,editingId:i,bindingId:c?w[c]===void 0?void 0:c:void 0})})})}),R=y.document.pages[o],K=k.getRelatedBindings(y,Object.keys(T),o),L=new Set;return K.forEach(v=>{if(!R.bindings[v.id])return;let I=R.shapes[v.fromId];if(L.has(I))return;let J=k.updateArrowBindings(R,I);if(L.add(I),J){let ce=S(S({},I),J);R.shapes[I.id]=ce}}),Object.values(T).forEach(v=>{if(v.type!=="group")return;let I=v.children.filter(ce=>R.shapes[ce]!==void 0),J=Dt.Utils.getCommonBounds(I.map(ce=>R.shapes[ce]).filter(Boolean).map(ce=>k.getRotatedBounds(ce)));R.shapes[v.id]=x(S({},v),{point:[J.minX,J.minY],size:[J.width,J.height],children:I})}),this.state.document=y.document,y},!0),this});l(this,"updateBounds",e=>{this.rendererBounds=e;let{point:t,zoom:n}=this.camera;this.updateViewport(t,n),!this.readOnly&&this.session&&this.session.update()});l(this,"updateViewport",(e,t)=>{let{width:n,height:o}=this.rendererBounds,[s,a]=we.Vec.sub(we.Vec.div([0,0],t),e),[d,i]=we.Vec.sub(we.Vec.div([n,o],t),e);this.viewport={minX:s,minY:a,maxX:d,maxY:i,width:d-s,height:i-a}});l(this,"setEditingId",(e,t=!1)=>{if(!this.readOnly){if(e)this.startSession("edit",e,t);else{if(!this.pageState.editingId)return;this.completeSession()}this.editingStartTime=performance.now(),this.patchState({document:{pageStates:{[this.currentPageId]:{editingId:e}}}},"set_editing_id")}});l(this,"setHoveredId",e=>{this.patchState({document:{pageStates:{[this.currentPageId]:{hoveredId:e}}}},"set_hovered_id")});l(this,"setSetting",(e,t)=>{if(this.session)return this;let n={settings:{[e]:typeof t=="function"?t(this.settings[e]):t}};return this.patchState(n,`settings:${e}`),this.persist(n),this});l(this,"toggleFocusMode",()=>{if(this.session)return this;let e={settings:{isFocusMode:!this.settings.isFocusMode}};return this.patchState(e,"settings:toggled_focus_mode"),this.persist(e),this});l(this,"togglePenMode",()=>{if(this.session)return this;let e={settings:{isPenMode:!this.settings.isPenMode}};return this.patchState(e,"settings:toggled_pen_mode"),this.persist(e),this});l(this,"toggleDarkMode",()=>{if(this.session)return this;let e={settings:{isDarkMode:!this.settings.isDarkMode}};return this.patchState(e,"settings:toggled_dark_mode"),this.persist(e),this});l(this,"toggleZoomSnap",()=>{if(this.session)return this;let e={settings:{isZoomSnap:!this.settings.isZoomSnap}};return this.patchState(e,"settings:toggled_zoom_snap"),this.persist(e),this});l(this,"toggleDebugMode",()=>{if(this.session)return this;let e={settings:{isDebugMode:!this.settings.isDebugMode}};return this.patchState(e,"settings:toggled_debug"),this.persist(e),this});l(this,"setMenuOpen",e=>{let t={appState:{isMenuOpen:e}};return this.patchState(t,"ui:toggled_menu_opened"),this.persist(t),this});l(this,"setIsLoading",e=>{let t={appState:{isLoading:e}};return this.patchState(t,"ui:toggled_is_loading"),this.persist(t),this});l(this,"setDisableAssets",e=>(this.patchState({appState:{disableAssets:e}},"ui:toggled_disable_images"),this));l(this,"toggleGrid",()=>{if(this.session)return this;let e={settings:{showGrid:!this.settings.showGrid}};return this.patchState(e,"settings:toggled_grid"),this.persist(e),this});l(this,"selectTool",e=>{if(this.readOnly||this.session)return this;this.isPointing=!1;let t=this.tools[e];return t===this.currentTool?(this.patchState({appState:{isToolLocked:!1}}),this):(this.currentTool.onExit(),t.previous=this.currentTool.type,this.currentTool=t,this.currentTool.onEnter(),this.patchState({appState:{activeTool:e,isToolLocked:!1}},`selected_tool:${e}`))});l(this,"toggleToolLock",()=>this.session?this:this.patchState({appState:{isToolLocked:!this.appState.isToolLocked}},"toggled_tool_lock"));l(this,"resetDocument",()=>{if(this.session)return this;this.session=void 0,this.currentTool=this.tools.select;let e=ht.defaultDocument;return e.pages.page.name="Page 1",this.resetHistory().clearSelectHistory().loadDocument(ht.defaultDocument).persist({}),this});l(this,"updateUsers",(e,t=!1)=>{this.patchState({room:{users:Object.fromEntries(e.map(n=>[n.id,n]))}},t?"room:self:update":"room:user:update")});l(this,"removeUser",e=>{this.patchState({room:{users:{[e]:void 0}}})});l(this,"mergeDocument",e=>{if(this.document.id!==e.id)return this.replaceState(x(S({},An(x(S({},this.state),{document:e}),ht.version)),{appState:x(S({},this.appState),{currentPageId:Object.keys(e.pages)[0]})})),this;let t=S({},this.document.pageStates),n=x(S({},this.appState),{currentPageId:e.pages[this.currentPageId]?this.currentPageId:Object.keys(e.pages)[0],pages:Object.values(e.pages).map((s,a)=>({id:s.id,name:s.name,childIndex:s.childIndex||a}))});this.resetHistory(),Object.keys(this.document.pages).forEach(s=>{e.pages[s]||(s===this.appState.currentPageId&&(this.cancelSession(),this.selectNone()),t[s]=void 0)}),this.session&&this.selectedIds.filter(s=>!e.pages[this.currentPageId].shapes[s]).forEach(s=>e.pages[this.currentPageId].shapes[s]=this.page.shapes[s]),Object.entries(t).forEach(([s,a])=>{a.selectedIds=a.selectedIds.filter(d=>!!e.pages[s].shapes[d])});let{editingId:o}=this.pageState;return o&&(e.pages[this.currentPageId].shapes[o]=this.page.shapes[o],t[this.currentPageId].selectedIds=[o]),this.replaceState(x(S({},An(x(S({},this.state),{document:x(S({},e),{pageStates:t})}),ht.version)),{appState:n}),"merge")});l(this,"updateDocument",(e,t="updated_document")=>{let n=this.state,o=x(S({},n),{document:x(S({},n.document),{assets:e.assets})});e.pages[this.currentPageId]||(o.appState=x(S({},n.appState),{currentPageId:Object.keys(e.pages)[0]}));let s=1;for(let a of Object.values(e.pages))a!==n.document.pages[a.id]&&(o.document.pages[a.id]=a,a.name||(o.document.pages[a.id].name=`Page ${s+1}`,s++));for(let a of Object.values(e.pageStates))if(a!==n.document.pageStates[a.id]){o.document.pageStates[a.id]=a;let d=e.pages[a.id],i=["bindingId","editingId","hoveredId","pointedId"];for(let c of i)d.shapes[c]||(a[c]=void 0);a.selectedIds=a.selectedIds.filter(c=>!!e.pages[d.id].shapes[c])}return this.replaceState(An(o,o.document.version||0),`${t}:${e.id}`)});l(this,"loadRoom",e=>(this.patchState({room:{id:e,userId:Ya,users:{[Ya]:{id:Ya,color:Fi[Math.floor(Math.random()*Fi.length)],point:[100,100],selectedIds:[],activeShapes:[]}}}}),this));l(this,"loadDocument",e=>{this.setIsLoading(!0),this.selectNone(),this.resetHistory(),this.clearSelectHistory(),this.session=void 0;let t=x(S({},ht.defaultState),{settings:S({},this.state.settings),document:e,appState:x(S(S({},ht.defaultState.appState),this.state.appState),{currentPageId:Object.keys(e.pages)[0],disableAssets:this.disableAssets})});this.replaceState(An(t,ht.version),"loaded_document");let{point:n,zoom:o}=this.camera;return this.updateViewport(n,o),this.setIsLoading(!1),this});l(this,"loadPageFromURL",(e,t)=>{let n=e.id,o=x(S({},this.state.document),{pageStates:x(S({},this.state.document.pageStates),{[n]:t}),pages:x(S({},this.document.pages),{[n]:e})});this.loadDocument(o),this.persist({})});l(this,"newProject",()=>{!this.isLocal||(this.fileSystemHandle=null,this.resetDocument())});l(this,"saveProject",()=>ue(this,null,function*(){if(this.readOnly)return;let e=yield ei(An(this.state,ht.version).document,this.fileSystemHandle);return this.fileSystemHandle=e,this.persist({}),this.isDirty=!1,this}));l(this,"saveProjectAs",e=>ue(this,null,function*(){try{let t=yield ei(this.document,null,e);this.fileSystemHandle=t,this.persist({}),this.isDirty=!1}catch(t){console.error(t.message)}return this}));l(this,"openProject",()=>ue(this,null,function*(){if(!!this.isLocal)try{let e=yield Ca();if(!e)throw Error();let{fileHandle:t,document:n}=e;this.loadDocument(n),this.fileSystemHandle=t,this.zoomToFit(),this.persist({})}catch(e){console.error(e)}finally{this.persist({})}}));l(this,"openAsset",()=>ue(this,null,function*(){if(!this.disableAssets)try{let e=yield Da();if(Array.isArray(e))this.addMediaFromFiles(e,this.centerPoint);else{if(!e)return;this.addMediaFromFiles([e])}}catch(e){console.error(e)}finally{this.persist({})}}));l(this,"signOut",()=>{});l(this,"getAppState",()=>this.appState);l(this,"getPage",(e=this.currentPageId)=>k.getPage(this.state,e||this.currentPageId));l(this,"getShapes",(e=this.currentPageId)=>k.getShapes(this.state,e||this.currentPageId));l(this,"getBindings",(e=this.currentPageId)=>k.getBindings(this.state,e||this.currentPageId));l(this,"getShape",(e,t=this.currentPageId)=>k.getShape(this.state,e,t));l(this,"getShapeBounds",(e,t=this.currentPageId)=>k.getBounds(this.getShape(e,t)));l(this,"getBinding",(e,t=this.currentPageId)=>k.getBinding(this.state,e,t));l(this,"getPageState",(e=this.currentPageId)=>k.getPageState(this.state,e||this.currentPageId));l(this,"getPagePoint",(e,t=this.currentPageId)=>{let{camera:n}=this.getPageState(t);return we.Vec.sub(we.Vec.div(e,n.zoom),n.point)});l(this,"createPage",(e,t)=>{if(this.readOnly)return this;let{width:n,height:o}=this.rendererBounds;return this.setState(ap(this,[-n/2,-o/2],e,t))});l(this,"changePage",e=>this.setState(op(this,e)));l(this,"movePage",(e,t)=>this.readOnly?this:this.setState(Sp(this,e,t)));l(this,"renamePage",(e,t)=>this.readOnly?this:this.setState(bp(this,e,t)));l(this,"duplicatePage",e=>this.readOnly?this:this.setState(pp(this,e)));l(this,"deletePage",e=>this.readOnly?this:Object.values(this.document.pages).length<=1?this:this.setState(lp(this,e||this.currentPageId)));l(this,"cut",(e=this.selectedIds,t)=>(t==null||t.preventDefault(),this.copy(e,t),this.readOnly||this.delete(e),this));l(this,"copy",(e=this.selectedIds,t)=>{var s;t==null||t.preventDefault(),this.clipboard=this.getContent(e);let o=`<tldraw>${JSON.stringify(S({type:"tldr/clipboard",shapes:[],assets:[],bindings:[]},this.clipboard))}</tldraw>`;return qc(o),t&&((s=t.clipboardData)==null||s.setData("text/html",o)),navigator.clipboard&&window.ClipboardItem&&navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([o],{type:"text/html"})})]),this});l(this,"paste",(e,t)=>ue(this,null,function*(){var c,u;if(this.readOnly)return;let n=[],o=[],s,a=p=>ue(this,null,function*(){let m=document.createElement("div");m.innerHTML=p;let h=m.firstChild;h.style.setProperty("background-color","transparent");let g=yield k.getImageForSvg(h,"svg",{scale:1,quality:1});if(g){let f=new File([g],"image.svg");n.push(f)}else d(p)}),d=p=>{let m=this.getPagePoint(e!=null?e:this.centerPoint,this.currentPageId),h=p.includes(`
`);o.push(k.getShapeUtil("text").getShape({id:Dt.Utils.uniqueId(),type:"text",parentId:this.appState.currentPageId,text:k.normalizeText(p.trim()),point:m,style:x(S({},this.appState.currentStyle),{textAlign:h?"start":this.appState.currentStyle.textAlign})}))},i=p=>{var m;try{let h=(m=p.match(/<tldraw>(.*)<\/tldraw>/))==null?void 0:m[1];if(!h)return;let g=JSON.parse(h);if(g.type==="tldr/clipboard"){s=g;return}else throw Error("Not tldraw data!")}catch(h){d(p)}};if(t!==void 0){let p=Array.from((u=(c=t.clipboardData)==null?void 0:c.items)!=null?u:[]);yield Promise.all(p.map(m=>ue(this,null,function*(){var f;let{type:h,kind:g}=m;switch(g){case"string":{let T=yield new Promise(w=>m.getAsString(w));switch(h){case"text/html":{if((f=T.match(/<tldraw>(.*)<\/tldraw>/))==null?void 0:f[1]){i(T);return}break}case"text/plain":{T.startsWith("<svg")?yield a(T):d(T);break}}break}case"file":{let T=m.getAsFile();T&&n.push(T);break}}})))}if(s)return this.insertContent(s,{point:e,select:!0}),this;if(n.length)return this.addMediaFromFiles(n,e),this;if(o.length){let p=this.getPagePoint(e!=null?e:this.centerPoint,this.currentPageId),m=we.Vec.add(p,[0,0]);return o.forEach((h,g)=>{let f=k.getBounds(h);g===0&&(m[0]-=f.width/2,m[1]-=f.height/2),h.point=[...m],m[0]+=f.width}),this.createShapes(...o),this}return this.clipboard?this.insertContent(this.clipboard):Xc().then(p=>{p&&i(p)}),this}));l(this,"getSvg",(...n)=>ue(this,[...n],function*(e=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes),t={}){if(e.length===0)return;let o=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=document.createElementNS("http://www.w3.org/2000/svg","defs"),a=document.createElementNS("http://www.w3.org/2000/svg","style");if(typeof window!="undefined"&&window.focus(),t.includeFonts)try{let{fonts:h}=yield fetch(ht.assetSrc,{mode:"no-cors"}).then(g=>g.json());a.textContent=`
          @font-face {
            font-family: 'Caveat Brush';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${h.caveat}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Source Code Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${h.source_code_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Source Sans Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${h.source_sans_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Crimson Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${h.crimson_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          `}catch(h){k.warn("Could not find tldraw-assets.json file.")}else a.textContent="@import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block');";s.append(a),o.append(s);let d=e.map(h=>this.getShape(h,this.currentPageId)).sort((h,g)=>h.childIndex-g.childIndex),i=Dt.Utils.getCommonBounds(d.map(k.getRotatedBounds)),c=h=>{let g=k.getShapeUtil(h),f=g.getBounds(h),T=g.getSvgElement(h,this.settings.isDarkMode);if(!!T)return h.type==="image"?T.setAttribute("xlink:href",this.document.assets[h.assetId].src):h.type==="video"&&T.setAttribute("xlink:href",this.serializeVideo(h.id)),T.setAttribute("transform",`translate(${(16+h.point[0]-i.minX).toFixed(2)}, ${(16+h.point[1]-i.minY).toFixed(2)}) rotate(${((h.rotation||0)*180/Math.PI).toFixed(2)}, ${(f.width/2).toFixed(2)}, ${(f.height/2).toFixed(2)})`),T};d.forEach(h=>{var f;if((f=h.children)==null?void 0:f.length){let T=document.createElementNS("http://www.w3.org/2000/svg","g");h.children.forEach(w=>{let b=this.getShape(w,this.currentPageId),y=c(b);y&&T.append(y)}),o.append(T);return}let g=c(h);g&&o.append(g)}),o.setAttribute("viewBox",[0,0,i.width+16*2,i.height+16*2].join(" ")),o.setAttribute("width",(i.width+16*2).toString()),o.setAttribute("height",(i.height+16*2).toString());let u=this.settings.exportBackground,p="#212529",m="rgb(248, 249, 250)";switch(u){case"auto":{o.style.setProperty("background-color",this.settings.isDarkMode?p:m);break}case"dark":{o.style.setProperty("background-color",p);break}case"light":{o.style.setProperty("background-color",m);break}case"transparent":default:{o.style.setProperty("background-color","transparent");break}}return o.querySelectorAll(".tl-fill-hitarea, .tl-stroke-hitarea, .tl-binding-indicator").forEach(h=>h.remove()),o}));l(this,"copySvg",(...t)=>ue(this,[...t],function*(e=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes)){if(e.length===0)return;let n=yield this.getSvg(e);if(!n)return;let o=k.getSvgString(n,1);this.clipboard=this.getContent(e);let s=JSON.stringify(S({type:"tldr/clipboard",shapes:[],assets:[],bindings:[]},this.clipboard));return navigator.clipboard&&window.ClipboardItem&&navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([s],{type:"text/html"}),"text/plain":new Blob([o],{type:"text/plain"})})]),o}));l(this,"getContent",e=>{let t=this.getPage(this.currentPageId);if(e&&e.length===0||(e||(e=this.selectedIds),e.length===0&&(e=Object.keys(t.shapes)),e.length===0))return;let n=e.map(d=>t.shapes[d]).flatMap(d=>{var i;return[d,...((i=d.children)!=null?i:[]).map(c=>t.shapes[c])]}).map(xt),o=new Set(n.map(d=>d.id));n.forEach(d=>{d.parentId===this.currentPageId&&(d.parentId="currentPageId")});let s=Object.values(t.bindings).filter(d=>{if(o.has(d.fromId)||o.has(d.toId))return!0;if(o.has(d.fromId)){let c=n.find(u=>u.id===d.fromId).handles;c&&Object.values(c).forEach(u=>{u.bindingId===d.id&&(u.bindingId=void 0)})}if(o.has(d.toId)){let c=n.find(u=>u.id===d.toId).handles;c&&Object.values(c).forEach(u=>{u.bindingId===d.id&&(u.bindingId=void 0)})}return!1}).map(xt),a=[...new Set(n.map(d=>{if(!!d.assetId)return this.document.assets[d.assetId]}).filter(Boolean).map(xt))];return{shapes:n,bindings:s,assets:a}});l(this,"copyJson",(e=this.selectedIds)=>{let t=this.getContent(e);return t&&k.copyStringToClipboard(JSON.stringify(t)),this});l(this,"exportJson",(e=this.selectedIds)=>{let t=this.getContent(e);if(t){let n=new Blob([JSON.stringify(t)],{type:"application/json"}),o=URL.createObjectURL(n),s=document.createElement("a");s.href=o,s.download="export.json",s.click()}return this});l(this,"insertContent",(e,t={})=>this.setState(Cp(this,e,t),"insert_content"));l(this,"getImage",(...n)=>ue(this,[...n],function*(e="png",t={}){let{ids:o=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes)}=t,s=yield this.getSvg(o,{includeFonts:e!=="svg"});if(!s)return;if(e==="svg"){let d=k.getSvgString(s,1);return new Blob([d],{type:"image/svg+xml"})}let a=yield k.getImageForSvg(s,e,t);if(!!a)return a}));l(this,"copyImage",(...n)=>ue(this,[...n],function*(e="png",t={}){if(e==="svg"){this.copySvg(t.ids);return}if(!(navigator.clipboard&&window.ClipboardItem)){console.warn("Sorry, your browser does not support copying images.");return}let o=yield this.getImage(e,t);!o||navigator.clipboard.write([new ClipboardItem({[o.type]:o})])}));l(this,"exportImage",(...n)=>ue(this,[...n],function*(e="png",t={}){var d;let{pageId:o=this.currentPageId}=t,s=yield this.getImage(e,t);if(!s)return;let a=(d=this.document.pages[o].name)!=null?d:"export";if(this.callbacks.onExport)this.callbacks.onExport(this,{name:a,type:e,blob:s});else{let i=URL.createObjectURL(s),c=document.createElement("a");c.href=i,c.download=`${a}.${e}`,c.click()}}));l(this,"setCamera",(e,t,n)=>(this.updateViewport(e,t),this.patchState({document:{pageStates:{[this.currentPageId]:{camera:{point:e,zoom:t}}}}},n),this));l(this,"resetCamera",()=>this.setCamera(this.centerPoint,1,"reset_camera"));l(this,"pan",e=>{let{camera:t}=this.pageState;return this.setCamera(we.Vec.toFixed(we.Vec.sub(t.point,e)),t.zoom,"panned")});l(this,"pinchZoom",(e,t,n)=>{let{camera:o}=this.pageState,s=we.Vec.sub(o.point,we.Vec.div(t,o.zoom)),a=n,d=we.Vec.sub(we.Vec.div(e,o.zoom),s),i=we.Vec.sub(we.Vec.div(e,a),s);return this.setCamera(we.Vec.toFixed(we.Vec.add(s,we.Vec.sub(i,d))),a,"pinch_zoomed")});l(this,"zoomTo",(e,t=this.centerPoint)=>{let{zoom:n,point:o}=this.camera,s=we.Vec.sub(we.Vec.div(t,n),o),a=we.Vec.sub(we.Vec.div(t,e),o);return this.setCamera(we.Vec.toFixed(we.Vec.add(o,we.Vec.sub(a,s))),e,"zoomed_camera")});l(this,"zoomIn",()=>{let e=Math.round(this.camera.zoom*100/25),t=k.getCameraZoom((e+1)*.25);return this.zoomTo(t)});l(this,"zoomOut",()=>{let e=Math.round(this.camera.zoom*100/25),t=k.getCameraZoom((e-1)*.25);return this.zoomTo(t)});l(this,"zoomToFit",()=>{let{shapes:e,pageState:{camera:t}}=this;if(e.length===0)return this;let{rendererBounds:n}=this,o=Dt.Utils.getCommonBounds(e.map(k.getBounds)),s=k.getCameraZoom(Math.min((n.width-128)/o.width,(n.height-128)/o.height));s=t.zoom===s||t.zoom<1?Math.min(1,s):s;let a=(n.width-o.width*s)/2/s,d=(n.height-o.height*s)/2/s;return this.setCamera(we.Vec.toFixed(we.Vec.sub([a,d],[o.minX,o.minY])),s,"zoomed_to_fit")});l(this,"zoomToSelection",()=>{if(this.selectedIds.length===0)return this;let{rendererBounds:e}=this,t=k.getSelectedBounds(this.state),n=k.getCameraZoom(Math.min((e.width-128)/t.width,(e.height-128)/t.height));n=this.camera.zoom===n||this.camera.zoom<1?Math.min(1,n):n;let o=(e.width-t.width*n)/2/n,s=(e.height-t.height*n)/2/n;return this.setCamera(we.Vec.toFixed(we.Vec.sub([o,s],[t.minX,t.minY])),n,"zoomed_to_selection")});l(this,"zoomToContent",()=>{let e=this.shapes,t=this.pageState;if(e.length===0)return this;let{rendererBounds:n}=this,{zoom:o}=t.camera,s=Dt.Utils.getCommonBounds(e.map(k.getBounds)),a=(n.width-s.width*o)/2/o,d=(n.height-s.height*o)/2/o;return this.setCamera(we.Vec.toFixed(we.Vec.sub([a,d],[s.minX,s.minY])),this.camera.zoom,"zoomed_to_content")});l(this,"resetZoom",()=>this.zoomTo(1));l(this,"zoomBy",Dt.Utils.throttle((e,t)=>{let{zoom:n}=this.camera,o=k.getCameraZoom(n-e*n);return this.zoomTo(o,t)},16));l(this,"clearSelectHistory",()=>(this.selectHistory.pointer=0,this.selectHistory.stack=[this.selectedIds],this));l(this,"addToSelectHistory",e=>(this.selectHistory.pointer<this.selectHistory.stack.length&&(this.selectHistory.stack=this.selectHistory.stack.slice(0,this.selectHistory.pointer+1)),this.selectHistory.pointer++,this.selectHistory.stack.push(e),this));l(this,"setSelectedIds",(e,t=!1)=>{let n=t?[...this.pageState.selectedIds,...e]:[...e];return this.patchState({appState:{activeTool:"select"},document:{pageStates:{[this.currentPageId]:{selectedIds:n}}}},"selected")});l(this,"undoSelect",()=>(this.selectHistory.pointer>0&&(this.selectHistory.pointer--,this.setSelectedIds(this.selectHistory.stack[this.selectHistory.pointer])),this));l(this,"redoSelect",()=>(this.selectHistory.pointer<this.selectHistory.stack.length-1&&(this.selectHistory.pointer++,this.setSelectedIds(this.selectHistory.stack[this.selectHistory.pointer])),this));l(this,"select",(...e)=>(e.forEach(t=>{if(!this.page.shapes[t])throw Error(`That shape does not exist on page ${this.currentPageId}`)}),this.setSelectedIds(e),this.addToSelectHistory(e),this));l(this,"selectAll",(e=this.currentPageId)=>this.session?this:(this.setSelectedIds(Object.values(this.document.pages[e].shapes).filter(t=>t.parentId===e).map(t=>t.id)),this.addToSelectHistory(this.selectedIds),this.selectTool("select"),this));l(this,"selectNone",()=>(this.setSelectedIds([]),this.addToSelectHistory(this.selectedIds),this));l(this,"startSession",(e,...t)=>{var s,a;if(this.readOnly&&e!=="brush")return this;this.session&&(k.warn(`Already in a session! (${this.session.constructor.name})`),this.cancelSession());let n=Pp(e);this.session=new n(this,...t);let o=this.session.start();return o&&this.patchState(o,`session:start_${this.session.constructor.name}`),(a=(s=this.callbacks).onSessionStart)==null||a.call(s,this,this.session.constructor.name),this});l(this,"updateSession",()=>{let{session:e}=this;if(!e)return this;let t=e.update();return t?this.patchState(t,`session:${e==null?void 0:e.constructor.name}`):this});l(this,"cancelSession",()=>{var n,o;let{session:e}=this;if(!e)return this;this.session=void 0;let t=e.cancel();return t&&this.patchState(t,`session:cancel:${e.constructor.name}`),this.setEditingId(),(o=(n=this.callbacks).onSessionEnd)==null||o.call(n,this,e.constructor.name),this});l(this,"completeSession",()=>{var n,o,s,a,d,i,c,u,p;let{session:e}=this;if(!e)return this;this.session=void 0;let t=e.complete();if(t===void 0)this.isCreating=!1,this.patchState({appState:{status:"idle"},document:{pageStates:{[this.currentPageId]:{editingId:void 0,bindingId:void 0,hoveredId:void 0}}}},`session:complete:${e.constructor.name}`);else if("after"in t){if(this.isCreating){if(t.before={appState:x(S({},t.before.appState),{status:"idle"}),document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(this.selectedIds.map(m=>[m,void 0]))}},pageStates:{[this.currentPageId]:{selectedIds:[],editingId:null,bindingId:null,hoveredId:null}}}},this.appState.isToolLocked){let m=((s=(o=(n=t.after)==null?void 0:n.document)==null?void 0:o.pageStates)==null?void 0:s[this.currentPageId])||{};m.selectedIds=[]}this.isCreating=!1}t.after.appState=x(S({},t.after.appState),{status:"idle"}),t.after.document=x(S({},t.after.document),{pageStates:x(S({},(a=t.after.document)==null?void 0:a.pageStates),{[this.currentPageId]:x(S({},(((d=t.after.document)==null?void 0:d.pageStates)||{})[this.currentPageId]),{editingId:null})})}),this.setState(t,`session:complete:${e.constructor.name}`)}else this.patchState(x(S({},t),{appState:x(S({},t.appState),{status:"idle"}),document:x(S({},t.document),{pageStates:{[this.currentPageId]:x(S({},(c=(i=t.document)==null?void 0:i.pageStates)==null?void 0:c[this.currentPageId]),{editingId:null})}})}),`session:complete:${e.constructor.name}`);return(p=(u=this.callbacks).onSessionEnd)==null||p.call(u,this,e.constructor.name),this});l(this,"createShapes",(...e)=>e.length===0?this:this.create(e.map(t=>k.getShapeUtil(t.type).create(S({parentId:this.currentPageId},t)))));l(this,"updateShapes",(...e)=>{let t=this.document.pages[this.currentPageId].shapes,n=e.filter(o=>t[o.id]);return n.length===0?this:this.setState(ka(this,n,this.currentPageId),"updated_shapes")});l(this,"create",(e=[],t=[])=>e.length===0?this:this.setState(ga(this,e,t)));l(this,"patchCreate",(e=[],t=[])=>e.length===0?this:this.patchState(ga(this,e,t).after));l(this,"delete",(e=this.selectedIds)=>{var n,o;if(e.length===0)return this;if(this.session)return this;let t=fa(this,e);if(this.callbacks.onAssetDelete&&((n=t.before.document)==null?void 0:n.assets)&&((o=t.after.document)==null?void 0:o.assets)){let s=Object.keys(t.before.document.assets).filter(i=>!!t.before.document.assets[i]),a=Object.keys(t.after.document.assets).filter(i=>!!t.after.document.assets[i]);s.filter(i=>!a.includes(i)).forEach(i=>this.callbacks.onAssetDelete(this,i))}return this.setState(t)});l(this,"deleteAll",()=>(this.selectAll(),this.delete(),this));l(this,"style",(e,t=this.selectedIds)=>this.setState(wp(this,t,e)));l(this,"align",(e,t=this.selectedIds)=>t.length<2?this:this.setState(np(this,t,e)));l(this,"distribute",(e,t=this.selectedIds)=>t.length<3?this:this.setState(cp(this,t,e)));l(this,"stretch",(e,t=this.selectedIds)=>t.length<2?this:this.setState(yp(this,t,e)));l(this,"flipHorizontal",(e=this.selectedIds)=>e.length===0?this:this.setState(ba(this,e,"horizontal")));l(this,"flipVertical",(e=this.selectedIds)=>e.length===0?this:this.setState(ba(this,e,"vertical")));l(this,"moveToPage",(e,t=this.currentPageId,n=this.selectedIds)=>{if(n.length===0)return this;let{rendererBounds:o}=this;return this.setState(fp(this,n,o,t,e)),this});l(this,"moveToBack",(e=this.selectedIds)=>e.length===0?this:this.setState(Ar(this,e,"toBack")));l(this,"moveBackward",(e=this.selectedIds)=>e.length===0?this:this.setState(Ar(this,e,"backward")));l(this,"moveForward",(e=this.selectedIds)=>e.length===0?this:this.setState(Ar(this,e,"forward")));l(this,"moveToFront",(e=this.selectedIds)=>e.length===0?this:this.setState(Ar(this,e,"toFront")));l(this,"nudge",(e,t=!1,n=this.selectedIds)=>{if(n.length===0)return this;let o=t?this.settings.showGrid?this.currentGrid*4:10:this.settings.showGrid?this.currentGrid:1;return this.setState(kp(this,n,we.Vec.mul(e,o)))});l(this,"duplicate",(e=this.selectedIds,t)=>this.readOnly?this:e.length===0?this:this.setState(up(this,e,t)));l(this,"resetBounds",(e=this.selectedIds)=>{let t=ya(this,e,this.currentPageId);return this.setState(ya(this,e,this.currentPageId),t.id)});l(this,"toggleHidden",(e=this.selectedIds)=>e.length===0?this:this.setState(Js(this,e,"isHidden")));l(this,"toggleLocked",(e=this.selectedIds)=>e.length===0?this:this.setState(Js(this,e,"isLocked")));l(this,"toggleAspectRatioLocked",(e=this.selectedIds)=>e.length===0?this:this.setState(Js(this,e,"isAspectRatioLocked")));l(this,"toggleDecoration",(e,t=this.selectedIds)=>t.length===0||!(e==="start"||e==="end")?this:this.setState(xp(this,t,e)));l(this,"setShapeProps",(e,t=this.selectedIds)=>this.setState(Ip(this,t,e)));l(this,"rotate",(e=Math.PI*-.5,t=this.selectedIds)=>{if(t.length===0)return this;let n=Tp(this,t,e);return n?this.setState(n):this});l(this,"group",(e=this.selectedIds,t=Dt.Utils.uniqueId(),n=this.currentPageId)=>{if(this.readOnly)return this;if(e.length===1&&this.getShape(e[0],n).type==="group")return this.ungroup(e,n);if(e.length<2)return this;let o=mp(this,e,t,n);return o?this.setState(o):this});l(this,"ungroup",(e=this.selectedIds,t=this.currentPageId)=>{if(this.readOnly)return this;let n=e.map(s=>this.getShape(s,t)).filter(s=>s.type==="group");if(n.length===0)return this;let o=vp(this,e,n,t);return o?this.setState(o):this});l(this,"cancel",()=>{var e,t;return(t=(e=this.currentTool).onCancel)==null||t.call(e),this});l(this,"addMediaFromFiles",(n,...o)=>ue(this,[n,...o],function*(e,t=this.centerPoint){this.setIsLoading(!0);let s=[],a=this.getPagePoint(t);for(let d of e){let i=Dt.Utils.uniqueId(),c=d.name.match(/\.[0-9a-z]+$/i);if(!c)throw Error("No extension");let u=ws.includes(c[0].toLowerCase()),p=xs.includes(c[0].toLowerCase());if(!(u||p))throw Error("Wrong extension");let m=u?"image":"video",h=u?"image":"video",g;try{if(this.callbacks.onAssetCreate){let f=yield this.callbacks.onAssetCreate(this,d,i);if(!f)throw Error("Asset creation callback returned false");g=f}else g=yield Pa(d);if(typeof g=="string"){let f=[0,0];if(u){if(c[0]==".svg"){let b,y=yield Ma(d),R=this.getViewboxFromSVG(y);R&&(b=R.split(" "),f[0]=parseFloat(b[2]),f[1]=parseFloat(b[3]))}we.Vec.isEqual(f,[0,0])&&(f=yield Ea(g))}else f=yield Ba(g);let T=Object.values(this.document.assets).find(b=>b.type===h&&b.src===g),w;if(T)w=T.id;else{w=i;let b={id:w,type:h,name:d.name,src:g,size:f};this.patchState({document:{assets:{[w]:b}}})}s.push(this.getImageOrVideoShapeAtPoint(i,m,t,f,w))}}catch(f){console.warn(f)}}if(s.length){let d=we.Vec.add(a,[0,0]);s.forEach((c,u)=>{let p=k.getBounds(c);u===0&&(d[0]-=p.width/2,d[1]-=p.height/2),c.point=[...d],d[0]+=p.width});let i=Dt.Utils.getCommonBounds(s.map(k.getBounds));this.createShapes(...s),Dt.Utils.boundsContain(this.viewport,i)||(this.zoomToSelection(),this.zoom>1&&this.resetZoom())}return this.setIsLoading(!1),this}));l(this,"getViewboxFromSVG",e=>{let t=/.*?viewBox=["'](-?[\d.]+[, ]+-?[\d.]+[, ][\d.]+[, ][\d.]+)["']/;if(typeof e=="string"){let n=e.match(t);return n&&n.length>=2?n[1]:null}return this.setIsLoading(!1),null});l(this,"onKeyDown",(e,t,n)=>{var o,s;switch(n.key){case"/":{if(this.status==="idle"&&!this.pageState.editingId){let{shiftKey:a,metaKey:d,altKey:i,ctrlKey:c,spaceKey:u}=this;this.onPointerDown({target:"canvas",pointerId:0,origin:t.point,point:t.point,delta:[0,0],pressure:.5,shiftKey:a,ctrlKey:c,metaKey:d,altKey:i,spaceKey:u},{shiftKey:a,altKey:i,ctrlKey:c,pointerId:0,clientX:t.point[0],clientY:t.point[1]})}break}case"Escape":{this.cancel();break}case"Meta":{this.metaKey=!0;break}case"Alt":{this.altKey=!0;break}case"Control":{this.ctrlKey=!0;break}case" ":{this.isForcePanning=!0,this.spaceKey=!0;break}}return(s=(o=this.currentTool).onKeyDown)==null||s.call(o,e,t,n),this});l(this,"onKeyUp",(e,t,n)=>{var o,s;if(!!t){switch(n.key){case"/":{let{currentPoint:a,shiftKey:d,metaKey:i,altKey:c,ctrlKey:u,spaceKey:p}=this;this.onPointerUp({target:"canvas",pointerId:0,origin:a,point:a,delta:[0,0],pressure:.5,shiftKey:d,ctrlKey:u,metaKey:i,altKey:c,spaceKey:p},{shiftKey:d,altKey:c,ctrlKey:u,pointerId:0,clientX:a[0],clientY:a[1]});break}case"Meta":{this.metaKey=!1;break}case"Alt":{this.altKey=!1;break}case"Control":{this.ctrlKey=!1;break}case" ":{this.isForcePanning=!1,this.spaceKey=!1;break}}(s=(o=this.currentTool).onKeyUp)==null||s.call(o,e,t,n)}});l(this,"refreshBoundingBoxes",()=>{let e=this.shapes.map(n=>[n.id,S({point:[...n.point]},"label"in n&&{label:""})]),t=this.shapes.map(n=>[n.id,S({point:[...n.point]},"label"in n&&{label:n.label})]);Fd(),this.patchState({document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(e)}}}}),this.patchState({document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(t)}}}})});l(this,"onDragOver",e=>{e.preventDefault()});l(this,"onDrop",e=>ue(this,null,function*(){var t;return e.preventDefault(),this.disableAssets?this:(((t=e.dataTransfer.files)==null?void 0:t.length)&&this.addMediaFromFiles(Object.values(e.dataTransfer.files),[e.clientX,e.clientY]),this)}));l(this,"onPinchStart",(e,t)=>{var n,o;(o=(n=this.currentTool).onPinchStart)==null||o.call(n,e,t)});l(this,"onPinchEnd",(e,t)=>{var n,o;return(o=(n=this.currentTool).onPinchEnd)==null?void 0:o.call(n,e,t)});l(this,"onPinch",(e,t)=>{var n,o;return(o=(n=this.currentTool).onPinch)==null?void 0:o.call(n,e,t)});l(this,"onPan",(e,t)=>{if(this.appState.status==="pinching")return;let n=we.Vec.div(e.delta,this.camera.zoom),o=this.camera.point,s=we.Vec.sub(o,n);we.Vec.isEqual(s,o)||(this.pan(n),this.isForcePanning||this.onPointerMove(e,t),Hd&&this.isForcePanning&&this.preventPaste())});l(this,"onZoom",(e,t)=>{if(this.state.appState.status!=="idle")return;let n=e.delta[2]/50;this.zoomBy(n,e.point),this.onPointerMove(e,t)});l(this,"updateInputs",e=>{this.currentPoint=this.getPagePoint(e.point).concat(e.pressure),this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.metaKey=e.metaKey});l(this,"onPointerMove",(e,t)=>{var n,o,s,a,d;if(this.previousPoint=this.currentPoint,this.updateInputs(e,t),this.isForcePanning&&this.isPointing){(n=this.onPan)==null||n.call(this,x(S({},e),{delta:we.Vec.neg(e.delta)}),t);return}if((s=(o=this.currentTool).onPointerMove)==null||s.call(o,e,t),this.state.room){let{users:i,userId:c}=this.state.room;(d=(a=this.callbacks).onChangePresence)==null||d.call(a,this,x(S({},i[c]),{point:this.getPagePoint(e.point),session:!!this.session}))}});l(this,"onPointerDown",(e,t)=>{var n,o;if(t.buttons===4)this.isForcePanning=!0;else if(this.isPointing)return;this.isPointing=!0,this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),!this.isForcePanning&&(this.currentTool.type==="draw"&&t.pointerType==="pen"&&t.button===5&&(this.selectTool("erase"),this.isErasingWithPen=!0),(o=(n=this.currentTool).onPointerDown)==null||o.call(n,e,t))});l(this,"onPointerUp",(e,t)=>{var n,o;this.isPointing=!1,this.shiftKey||(this.isForcePanning=!1),this.updateInputs(e,t),(o=(n=this.currentTool).onPointerUp)==null||o.call(n,e,t),this.isErasingWithPen&&t.pointerType==="pen"&&t.button===5&&(this.selectTool("draw"),this.isErasingWithPen=!1)});l(this,"onPointCanvas",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onPointCanvas)==null||o.call(n,e,t)});l(this,"onDoubleClickCanvas",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onDoubleClickCanvas)==null||o.call(n,e,t)});l(this,"onRightPointCanvas",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onRightPointCanvas)==null||o.call(n,e,t)});l(this,"onDragCanvas",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onDragCanvas)==null||o.call(n,e,t)});l(this,"onReleaseCanvas",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onReleaseCanvas)==null||o.call(n,e,t)});l(this,"onPointShape",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onPointShape)==null||o.call(n,e,t)});l(this,"onReleaseShape",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onReleaseShape)==null||o.call(n,e,t)});l(this,"onDoubleClickShape",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onDoubleClickShape)==null||o.call(n,e,t)});l(this,"onRightPointShape",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onRightPointShape)==null||o.call(n,e,t)});l(this,"onDragShape",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onDragShape)==null||o.call(n,e,t)});l(this,"onHoverShape",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onHoverShape)==null||o.call(n,e,t)});l(this,"onUnhoverShape",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onUnhoverShape)==null||o.call(n,e,t)});l(this,"onPointBounds",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onPointBounds)==null||o.call(n,e,t)});l(this,"onDoubleClickBounds",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onDoubleClickBounds)==null||o.call(n,e,t)});l(this,"onRightPointBounds",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onRightPointBounds)==null||o.call(n,e,t)});l(this,"onDragBounds",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onDragBounds)==null||o.call(n,e,t)});l(this,"onHoverBounds",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onHoverBounds)==null||o.call(n,e,t)});l(this,"onUnhoverBounds",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onUnhoverBounds)==null||o.call(n,e,t)});l(this,"onReleaseBounds",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onReleaseBounds)==null||o.call(n,e,t)});l(this,"onPointBoundsHandle",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onPointBoundsHandle)==null||o.call(n,e,t)});l(this,"onDoubleClickBoundsHandle",(e,t)=>{var o,s;if(this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(s=(o=this.currentTool).onDoubleClickBoundsHandle)==null||s.call(o,e,t),this.selectedIds.length!==1)return;let n=this.getShape(this.selectedIds[0]);if(n.type==="image"||n.type==="video"){let a=this.document.assets[n.assetId],d=k.getShapeUtil(n),i=d.getCenter(n),c=d.getCenter(x(S({},n),{size:a.size})),u=we.Vec.sub(c,i);this.updateShapes({id:n.id,point:we.Vec.sub(n.point,u),size:a.size})}});l(this,"onRightPointBoundsHandle",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onRightPointBoundsHandle)==null||o.call(n,e,t)});l(this,"onDragBoundsHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onDragBoundsHandle)==null||o.call(n,e,t)});l(this,"onHoverBoundsHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onHoverBoundsHandle)==null||o.call(n,e,t)});l(this,"onUnhoverBoundsHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onUnhoverBoundsHandle)==null||o.call(n,e,t)});l(this,"onReleaseBoundsHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onReleaseBoundsHandle)==null||o.call(n,e,t)});l(this,"onPointHandle",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onPointHandle)==null||o.call(n,e,t)});l(this,"onDoubleClickHandle",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onDoubleClickHandle)==null||o.call(n,e,t)});l(this,"onRightPointHandle",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onRightPointHandle)==null||o.call(n,e,t)});l(this,"onDragHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onDragHandle)==null||o.call(n,e,t)});l(this,"onHoverHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onHoverHandle)==null||o.call(n,e,t)});l(this,"onUnhoverHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onUnhoverHandle)==null||o.call(n,e,t)});l(this,"onReleaseHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onReleaseHandle)==null||o.call(n,e,t)});l(this,"onShapeChange",e=>{let t=this.document.pages[this.currentPageId].shapes,n=S(S({},t[e.id]),e),o=ka(this,[n],this.currentPageId).after;return this.patchState(o,"patched_shapes")});l(this,"onShapeBlur",()=>{var n,o;if(performance.now()-this.editingStartTime<50)return;let{editingId:e}=this.pageState,{isToolLocked:t}=this.getAppState();if(e){let s=this.getShape(e);this.setEditingId(),s.type==="text"&&(s.text.trim().length<=0?this.patchState(fa(this,[e]).after,"delete_empty_text"):t||this.select(e))}(o=(n=this.currentTool).onShapeBlur)==null||o.call(n)});l(this,"onShapeClone",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onShapeClone)==null||o.call(n,e,t)});l(this,"onRenderCountChange",e=>{let t=this.getAppState();t.isEmptyCanvas&&e.length>0?this.patchState({appState:{isEmptyCanvas:!1}},"empty_canvas:false"):!t.isEmptyCanvas&&e.length<=0&&this.patchState({appState:{isEmptyCanvas:!0}},"empty_canvas:true")});l(this,"onError",()=>{});l(this,"getShapeUtil",k.getShapeUtil);this.callbacks=t}setStatus(e){return this.patchState({appState:{status:e}},`set_status:${e}`)}get isMenuOpen(){return this.appState.isMenuOpen}get isLoading(){return this.appState.isLoading}get disableAssets(){return this.appState.disableAssets}get history(){return this.stack.slice(0,this.pointer+1)}set history(e){this.replaceHistory(e)}get document(){return this.state.document}get settings(){return this.state.settings}get appState(){return this.state.appState}get currentPageId(){return this.state.appState.currentPageId}get page(){return this.state.document.pages[this.currentPageId]}get shapes(){return Object.values(this.page.shapes)}get bindings(){return Object.values(this.page.bindings)}get assets(){return Object.values(this.document.assets)}get pageState(){return this.state.document.pageStates[this.currentPageId]}get camera(){return this.pageState.camera}get zoom(){return this.pageState.camera.zoom}get selectedIds(){return this.pageState.selectedIds}createTextShapeAtPoint(e,t,n){let{shapes:o,appState:{currentPageId:s,currentStyle:a}}=this,d=o.length===0?1:o.filter(p=>p.parentId===s).sort((p,m)=>m.childIndex-p.childIndex)[0].childIndex+1,i=Rn["text"],c=i.create({id:t||Dt.Utils.uniqueId(),parentId:s,childIndex:d,point:e,style:S({},a)}),u=i.getBounds(c);return c.point=we.Vec.sub(c.point,[u.width/2,u.height/2]),n?this.patchCreate([k.getShapeUtil(c.type).create(c)]):this.createShapes(c),this.setEditingId(c.id,!0),this}getImageOrVideoShapeAtPoint(e,t,n,o,s){let{shapes:a,appState:{currentPageId:d,currentStyle:i}}=this,c=a.length===0?1:a.filter(m=>m.parentId===d).sort((m,h)=>h.childIndex-m.childIndex)[0].childIndex+1,u=Rn[t];if(o[0]>this.viewport.width){let m=o[1]/o[0];o[0]=this.viewport.width-128/this.camera.zoom*2,o[1]=o[0]*m,(o[1]<32||o[1]<32)&&(o[1]=32,o[0]=o[1]/m)}else if(o[1]>this.viewport.height){let m=o[0]/o[1];o[1]=this.viewport.height-128/this.camera.zoom*2,o[0]=o[1]*m,(o[1]<32||o[1]<32)&&(o[0]=32,o[1]=o[0]/m)}return u.create({id:e,parentId:d,childIndex:c,point:n,size:o,style:S({},i),assetId:s})}isSelected(e){return this.selectedIds.includes(e)}serializeVideo(e){let t=document.getElementById(e+"_video");if(t){let n=document.createElement("canvas");return n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}else throw new Error("Video with id "+e+" not found")}serializeImage(e){let t=document.getElementById(e+"_image");if(t){let n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}else throw new Error("Image with id "+e+" not found")}patchAssets(e){this.document.assets=S(S({},this.document.assets),e)}get room(){return this.state.room}get isLocal(){return this.state.room===void 0||this.state.room.id==="local"}get status(){return this.appState.status}get currentUser(){if(!!this.state.room)return this.state.room.users[this.state.room.userId]}get centerPoint(){let{width:e,height:t}=this.rendererBounds;return we.Vec.toFixed([e/2,t/2])}get currentGrid(){let{zoom:e}=this.camera;return e<.15?8*16:e<1?8*4:8*1}},zn=ht;l(zn,"version",15.5),l(zn,"defaultDocument",{id:"doc",name:"New Document",version:ht.version,pages:{page:{id:"page",name:"Page 1",childIndex:1,shapes:{},bindings:{}}},pageStates:{page:{id:"page",selectedIds:[],camera:{point:[0,0],zoom:1}}},assets:{}}),l(zn,"defaultState",{settings:{isCadSelectMode:!1,isPenMode:!1,isDarkMode:!1,isZoomSnap:!1,isFocusMode:!1,isSnapping:!1,isDebugMode:!1,isReadonlyMode:!1,keepStyleMenuOpen:!1,nudgeDistanceLarge:16,nudgeDistanceSmall:1,showRotateHandles:!0,showBindingHandles:!0,showCloneHandles:!1,showGrid:!1,language:"en",dockPosition:"bottom",exportBackground:"transparent"},appState:{status:"idle",activeTool:"select",hoveredId:void 0,currentPageId:"page",currentStyle:gt,isToolLocked:!1,isMenuOpen:!1,isEmptyCanvas:!1,eraseLine:[],snapLines:[],isLoading:!1,disableAssets:!1},document:ht.defaultDocument}),l(zn,"assetSrc","tldraw-assets.json");var iMe={select:Wr,erase:Vr,["text"]:Kr,["draw"]:jr,["ellipse"]:Gr,["rectangle"]:Nr,["triangle"]:_r,["line"]:$r,["arrow"]:Fr,["sticky"]:Ur};var ace=$p.ErrorBoundary,lce=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:!1;function dce({id:r,document:e,currentPageId:t,autofocus:n=!0,showMenu:o=!0,showMultiplayerMenu:s=!0,showPages:a=!0,showTools:d=!0,showZoom:i=!0,showStyles:c=!0,showUI:u=!0,readOnly:p=!1,disableAssets:m=!1,darkMode:h=lce,components:g,onMount:f,onChange:T,onChangePresence:w,onNewProject:b,onSaveProject:y,onSaveProjectAs:R,onOpenProject:K,onOpenMedia:L,onUndo:v,onRedo:I,onPersist:J,onPatch:ce,onCommand:de,onChangePage:He,onAssetCreate:Pe,onAssetDelete:Me,onAssetUpload:Ue,onSessionStart:Ke,onSessionEnd:Kt,onExport:gn,hideCursors:dr}){let[Po,Zr]=be.useState(r),[_e,Xr]=be.useState(()=>new zn(r,{onMount:f,onChange:T,onChangePresence:w,onNewProject:b,onSaveProject:y,onSaveProjectAs:R,onOpenProject:K,onOpenMedia:L,onUndo:v,onRedo:I,onPersist:J,onPatch:ce,onCommand:de,onChangePage:He,onAssetDelete:Me,onAssetCreate:Pe,onAssetUpload:Ue,onSessionStart:Ke,onSessionEnd:Kt})),[_n,si]=be.useState(null),[Yn,cr]=be.useState(null),[pr,Wp]=be.useState(null),[Up,Za]=be.useState(null),Kp=be.useCallback((mo,qr,_p,Yp)=>{Za(()=>mo),si(()=>Yp),cr(()=>qr),Wp(()=>_p)},[]);return be.useLayoutEffect(()=>{if(r===Po)return;let mo=new zn(r,{onMount:f,onChange:T,onChangePresence:w,onNewProject:b,onSaveProject:y,onSaveProjectAs:R,onOpenProject:K,onOpenMedia:L,onUndo:v,onRedo:I,onPersist:J,onPatch:ce,onCommand:de,onChangePage:He,onAssetDelete:Me,onAssetCreate:Pe,onAssetUpload:Ue,onExport:gn,onSessionStart:Ke,onSessionEnd:Kt});Zr(r),Xr(mo)},[Po,r]),be.useEffect(()=>{!e||(e.id===_e.document.id?_e.updateDocument(e):_e.loadDocument(e))},[e,_e]),be.useEffect(()=>{_e.setDisableAssets(m)},[_e,m]),be.useEffect(()=>{!t||_e.changePage(t)},[t,_e]),be.useEffect(()=>{_e.readOnly=p,p||(_e.selectNone(),_e.cancelSession(),_e.setEditingId())},[_e,p]),be.useEffect(()=>{h!==_e.settings.isDarkMode&&_e.toggleDarkMode()},[_e,h]),be.useEffect(()=>{_e.callbacks={onMount:f,onChange:T,onChangePresence:w,onNewProject:b,onSaveProject:y,onSaveProjectAs:R,onOpenProject:K,onOpenMedia:L,onUndo:v,onRedo:I,onPersist:J,onPatch:ce,onCommand:de,onChangePage:He,onAssetDelete:Me,onAssetCreate:Pe,onAssetUpload:Ue,onExport:gn,onSessionStart:Ke,onSessionEnd:Kt}},[f,T,w,b,y,R,K,L,v,I,J,ce,de,He,Me,Pe,Ue,gn,Ke,Kt]),be.useLayoutEffect(()=>{var qr;if(typeof window=="undefined"||!((qr=window.document)==null?void 0:qr.fonts))return;function mo(){_e.refreshBoundingBoxes()}return window.document.fonts.addEventListener("loadingdone",mo),()=>{window.document.fonts.removeEventListener("loadingdone",mo)}},[_e]),be.createElement(ci.Provider,{value:_e},be.createElement(ui.Provider,{value:{onYes:Yn,onCancel:_n,onNo:pr,dialogState:Up,setDialogState:Za,openDialog:Kp}},be.createElement(cce,{key:Po||"Tldraw",id:Po,autofocus:n,showPages:a,showMenu:o,showMultiplayerMenu:s,showStyles:c,showZoom:i,showTools:d,showUI:u,readOnly:p,components:g,hideCursors:dr})))}var cce=be.memo(function({id:e,autofocus:t,showPages:n,showMenu:o,showMultiplayerMenu:s,showZoom:a,showStyles:d,showTools:i,readOnly:c,showUI:u,components:p,hideCursors:m}){var _e,Xr;let h=ge(),[g,f]=be.useState(null),T=be.useRef(null),w=h.useStore(),{document:b,settings:y,appState:R,room:K}=w,L=w.appState.activeTool==="select",v=b.pages[R.currentPageId],I=b.pageStates[v.id],J=b.assets,{selectedIds:ce}=I,de=ce.length===1&&v.shapes[ce[0]]&&k.getShapeUtil(v.shapes[ce[0]].type).hideBounds,He=ce.length===1&&v.shapes[ce[0]]&&k.getShapeUtil(v.shapes[ce[0]].type).hideResizeHandles,Pe=be.useMemo(()=>({isDarkMode:y.isDarkMode}),[y.isDarkMode]),Me=y.isCadSelectMode?!R.selectByContain:R.selectByContain,Ue=be.useMemo(()=>{let{selectByContain:_n}=R,{isDarkMode:si,isCadSelectMode:Yn}=y;if(si){let pr=Yn?_n?"69, 155, 255":"105, 209, 73":"180, 180, 180";return{brushFill:`rgba(${pr}, ${Yn?.08:.05})`,brushStroke:`rgba(${pr}, ${Yn?.5:.25})`,brushDashStroke:`rgba(${pr}, .6)`,selected:"rgba(38, 150, 255, 1.000)",selectFill:"rgba(38, 150, 255, 0.05)",background:"#212529",foreground:"#49555f"}}let cr=Yn?_n?"0, 89, 242":"51, 163, 23":"0,0,0";return{brushFill:`rgba(${cr}, ${Yn?.08:.05})`,brushStroke:`rgba(${cr}, ${Yn?.4:.25})`,brushDashStroke:`rgba(${cr}, .6)`}},[y.isDarkMode,y.isCadSelectMode,R.selectByContain]),Ke=h.session!==void 0,Kt=Ke&&((_e=h.session)==null?void 0:_e.constructor.name)!=="BrushSession"||!L||de||!!I.editingId,gn=Ke||!L,dr=Ke&&w.appState.status!=="brushing"||!L,Po=Ke||!L||I.camera.zoom<.2,Zr=Ol(y.language);return be.useLayoutEffect(()=>{let _n=T.current;!_n||(y.isDarkMode?_n.classList.add(li):_n.classList.remove(li))},[y.isDarkMode]),Yc(T),be.createElement(pi.Provider,{value:T},be.createElement(Np.IntlProvider,{locale:Zr.locale,messages:Zr.messages},be.createElement(Wl,{container:g}),be.createElement(uce,{ref:T,tabIndex:-0},be.createElement(fi,null),be.createElement(pce,{focusableRef:T,autofocus:t}),be.createElement(Fl,null,be.createElement(ace,{FallbackComponent:jl},be.createElement(Vp.Renderer,{id:e,containerRef:T,shapeUtils:Rn,page:v,pageState:I,assets:J,snapLines:R.snapLines,eraseLine:R.eraseLine,grid:8,users:K==null?void 0:K.users,userId:K==null?void 0:K.userId,theme:Ue,meta:Pe,components:p,hideCursors:m,hideBounds:Kt,hideHandles:gn,hideResizeHandles:He,hideIndicators:dr,hideBindingHandles:!y.showBindingHandles,hideCloneHandles:Po,hideRotateHandles:!y.showRotateHandles,hideGrid:!y.showGrid,showDashedBrush:Me,performanceMode:(Xr=h.session)==null?void 0:Xr.performanceMode,onPinchStart:h.onPinchStart,onPinchEnd:h.onPinchEnd,onPinch:h.onPinch,onPan:h.onPan,onZoom:h.onZoom,onPointerDown:h.onPointerDown,onPointerMove:h.onPointerMove,onPointerUp:h.onPointerUp,onPointCanvas:h.onPointCanvas,onDoubleClickCanvas:h.onDoubleClickCanvas,onRightPointCanvas:h.onRightPointCanvas,onDragCanvas:h.onDragCanvas,onReleaseCanvas:h.onReleaseCanvas,onPointShape:h.onPointShape,onDoubleClickShape:h.onDoubleClickShape,onRightPointShape:h.onRightPointShape,onDragShape:h.onDragShape,onHoverShape:h.onHoverShape,onUnhoverShape:h.onUnhoverShape,onReleaseShape:h.onReleaseShape,onPointBounds:h.onPointBounds,onDoubleClickBounds:h.onDoubleClickBounds,onRightPointBounds:h.onRightPointBounds,onDragBounds:h.onDragBounds,onHoverBounds:h.onHoverBounds,onUnhoverBounds:h.onUnhoverBounds,onReleaseBounds:h.onReleaseBounds,onPointBoundsHandle:h.onPointBoundsHandle,onDoubleClickBoundsHandle:h.onDoubleClickBoundsHandle,onRightPointBoundsHandle:h.onRightPointBoundsHandle,onDragBoundsHandle:h.onDragBoundsHandle,onHoverBoundsHandle:h.onHoverBoundsHandle,onUnhoverBoundsHandle:h.onUnhoverBoundsHandle,onReleaseBoundsHandle:h.onReleaseBoundsHandle,onPointHandle:h.onPointHandle,onDoubleClickHandle:h.onDoubleClickHandle,onRightPointHandle:h.onRightPointHandle,onDragHandle:h.onDragHandle,onHoverHandle:h.onHoverHandle,onUnhoverHandle:h.onUnhoverHandle,onReleaseHandle:h.onReleaseHandle,onError:h.onError,onRenderCountChange:h.onRenderCountChange,onShapeChange:h.onShapeChange,onShapeBlur:h.onShapeBlur,onShapeClone:h.onShapeClone,onBoundsChange:h.updateBounds,onKeyDown:h.onKeyDown,onKeyUp:h.onKeyUp,onDragOver:h.onDragOver,onDrop:h.onDrop}))),u&&be.createElement(hce,{ref:f},y.isFocusMode?be.createElement(Vl,{onSelect:h.toggleFocusMode}):be.createElement(be.Fragment,null,be.createElement(Kc,{readOnly:c,showPages:n,showMenu:o,showMultiplayerMenu:s,showStyles:d,showZoom:a}),be.createElement(mce,null),i&&!c&&be.createElement(Dd,null))))))}),pce=be.memo(function({focusableRef:e,autofocus:t}){return sl(e),be.useEffect(()=>{var n;t&&((n=e.current)==null||n.focus())},[t]),null}),uce=H("div",{position:"absolute",height:"100%",width:"100%",minHeight:0,minWidth:0,maxHeight:"100%",maxWidth:"100%",overflow:"hidden",boxSizing:"border-box",outline:"none",userSelect:"none",WebkitUserSelect:"none","& .tl-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1},"& input, textarea, button, select, label, button":{webkitTouchCallout:"none",webkitUserSelect:"none","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}}),hce=H("div",{position:"absolute",top:0,left:0,height:"100%",width:"100%",padding:"8px 8px 0 8px",display:"flex",alignItems:"flex-start",justifyContent:"flex-start",pointerEvents:"none",zIndex:2,"& > *":{pointerEvents:"all"}}),mce=H("div",{flexGrow:2});module.exports=tu(gce);
//# sourceMappingURL=index.js.map
